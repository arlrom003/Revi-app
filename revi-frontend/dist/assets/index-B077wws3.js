var u0=Object.defineProperty;var c0=(t,e,n)=>e in t?u0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var B=(t,e,n)=>c0(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function d0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ig={exports:{}},$a={},og={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mi=Symbol.for("react.element"),h0=Symbol.for("react.portal"),f0=Symbol.for("react.fragment"),p0=Symbol.for("react.strict_mode"),g0=Symbol.for("react.profiler"),m0=Symbol.for("react.provider"),y0=Symbol.for("react.context"),v0=Symbol.for("react.forward_ref"),w0=Symbol.for("react.suspense"),_0=Symbol.for("react.memo"),b0=Symbol.for("react.lazy"),Zd=Symbol.iterator;function x0(t){return t===null||typeof t!="object"?null:(t=Zd&&t[Zd]||t["@@iterator"],typeof t=="function"?t:null)}var ag={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lg=Object.assign,ug={};function hs(t,e,n){this.props=t,this.context=e,this.refs=ug,this.updater=n||ag}hs.prototype.isReactComponent={};hs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};hs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function cg(){}cg.prototype=hs.prototype;function Oc(t,e,n){this.props=t,this.context=e,this.refs=ug,this.updater=n||ag}var Pc=Oc.prototype=new cg;Pc.constructor=Oc;lg(Pc,hs.prototype);Pc.isPureReactComponent=!0;var eh=Array.isArray,dg=Object.prototype.hasOwnProperty,Ac={current:null},hg={key:!0,ref:!0,__self:!0,__source:!0};function fg(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)dg.call(e,r)&&!hg.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Mi,type:t,key:i,ref:o,props:s,_owner:Ac.current}}function S0(t,e){return{$$typeof:Mi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function jc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Mi}function k0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var th=/\/+/g;function gl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?k0(""+t.key):e.toString(36)}function No(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Mi:case h0:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+gl(o,0):r,eh(s)?(n="",t!=null&&(n=t.replace(th,"$&/")+"/"),No(s,e,n,"",function(u){return u})):s!=null&&(jc(s)&&(s=S0(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(th,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",eh(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+gl(i,a);o+=No(i,e,n,l,s)}else if(l=x0(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+gl(i,a++),o+=No(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Xi(t,e,n){if(t==null)return t;var r=[],s=0;return No(t,r,"","",function(i){return e.call(n,i,s++)}),r}function E0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var He={current:null},Io={transition:null},C0={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:Io,ReactCurrentOwner:Ac};function pg(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:Xi,forEach:function(t,e,n){Xi(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Xi(t,function(){e++}),e},toArray:function(t){return Xi(t,function(e){return e})||[]},only:function(t){if(!jc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};H.Component=hs;H.Fragment=f0;H.Profiler=g0;H.PureComponent=Oc;H.StrictMode=p0;H.Suspense=w0;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C0;H.act=pg;H.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=lg({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Ac.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)dg.call(e,l)&&!hg.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Mi,type:t.type,key:s,ref:i,props:r,_owner:o}};H.createContext=function(t){return t={$$typeof:y0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:m0,_context:t},t.Consumer=t};H.createElement=fg;H.createFactory=function(t){var e=fg.bind(null,t);return e.type=t,e};H.createRef=function(){return{current:null}};H.forwardRef=function(t){return{$$typeof:v0,render:t}};H.isValidElement=jc;H.lazy=function(t){return{$$typeof:b0,_payload:{_status:-1,_result:t},_init:E0}};H.memo=function(t,e){return{$$typeof:_0,type:t,compare:e===void 0?null:e}};H.startTransition=function(t){var e=Io.transition;Io.transition={};try{t()}finally{Io.transition=e}};H.unstable_act=pg;H.useCallback=function(t,e){return He.current.useCallback(t,e)};H.useContext=function(t){return He.current.useContext(t)};H.useDebugValue=function(){};H.useDeferredValue=function(t){return He.current.useDeferredValue(t)};H.useEffect=function(t,e){return He.current.useEffect(t,e)};H.useId=function(){return He.current.useId()};H.useImperativeHandle=function(t,e,n){return He.current.useImperativeHandle(t,e,n)};H.useInsertionEffect=function(t,e){return He.current.useInsertionEffect(t,e)};H.useLayoutEffect=function(t,e){return He.current.useLayoutEffect(t,e)};H.useMemo=function(t,e){return He.current.useMemo(t,e)};H.useReducer=function(t,e,n){return He.current.useReducer(t,e,n)};H.useRef=function(t){return He.current.useRef(t)};H.useState=function(t){return He.current.useState(t)};H.useSyncExternalStore=function(t,e,n){return He.current.useSyncExternalStore(t,e,n)};H.useTransition=function(){return He.current.useTransition()};H.version="18.3.1";og.exports=H;var S=og.exports;const R0=d0(S);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T0=S,O0=Symbol.for("react.element"),P0=Symbol.for("react.fragment"),A0=Object.prototype.hasOwnProperty,j0=T0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,N0={key:!0,ref:!0,__self:!0,__source:!0};function gg(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)A0.call(e,r)&&!N0.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:O0,type:t,key:i,ref:o,props:s,_owner:j0.current}}$a.Fragment=P0;$a.jsx=gg;$a.jsxs=gg;ig.exports=$a;var b=ig.exports,du={},mg={exports:{}},ct={},yg={exports:{}},vg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,N){var M=O.length;O.push(N);e:for(;0<M;){var W=M-1>>>1,K=O[W];if(0<s(K,N))O[W]=N,O[M]=K,M=W;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var N=O[0],M=O.pop();if(M!==N){O[0]=M;e:for(var W=0,K=O.length,Ve=K>>>1;W<Ve;){var ve=2*(W+1)-1,ft=O[ve],Ue=ve+1,Yi=O[Ue];if(0>s(ft,M))Ue<K&&0>s(Yi,ft)?(O[W]=Yi,O[Ue]=M,W=Ue):(O[W]=ft,O[ve]=M,W=ve);else if(Ue<K&&0>s(Yi,M))O[W]=Yi,O[Ue]=M,W=Ue;else break e}}return N}function s(O,N){var M=O.sortIndex-N.sortIndex;return M!==0?M:O.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,p=!1,f=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(O){for(var N=n(u);N!==null;){if(N.callback===null)r(u);else if(N.startTime<=O)r(u),N.sortIndex=N.expirationTime,e(l,N);else break;N=n(u)}}function _(O){if(m=!1,v(O),!f)if(n(l)!==null)f=!0,z(x);else{var N=n(u);N!==null&&ee(_,N.startTime-O)}}function x(O,N){f=!1,m&&(m=!1,g(R),R=-1),p=!0;var M=h;try{for(v(N),d=n(l);d!==null&&(!(d.expirationTime>N)||O&&!$());){var W=d.callback;if(typeof W=="function"){d.callback=null,h=d.priorityLevel;var K=W(d.expirationTime<=N);N=t.unstable_now(),typeof K=="function"?d.callback=K:d===n(l)&&r(l),v(N)}else r(l);d=n(l)}if(d!==null)var Ve=!0;else{var ve=n(u);ve!==null&&ee(_,ve.startTime-N),Ve=!1}return Ve}finally{d=null,h=M,p=!1}}var k=!1,E=null,R=-1,A=5,P=-1;function $(){return!(t.unstable_now()-P<A)}function F(){if(E!==null){var O=t.unstable_now();P=O;var N=!0;try{N=E(!0,O)}finally{N?Y():(k=!1,E=null)}}else k=!1}var Y;if(typeof y=="function")Y=function(){y(F)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,V=ae.port2;ae.port1.onmessage=F,Y=function(){V.postMessage(null)}}else Y=function(){w(F,0)};function z(O){E=O,k||(k=!0,Y())}function ee(O,N){R=w(function(){O(t.unstable_now())},N)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){f||p||(f=!0,z(x))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(h){case 1:case 2:case 3:var N=3;break;default:N=h}var M=h;h=N;try{return O()}finally{h=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,N){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var M=h;h=O;try{return N()}finally{h=M}},t.unstable_scheduleCallback=function(O,N,M){var W=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?W+M:W):M=W,O){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=M+K,O={id:c++,callback:N,priorityLevel:O,startTime:M,expirationTime:K,sortIndex:-1},M>W?(O.sortIndex=M,e(u,O),n(l)===null&&O===n(u)&&(m?(g(R),R=-1):m=!0,ee(_,M-W))):(O.sortIndex=K,e(l,O),f||p||(f=!0,z(x))),O},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(O){var N=h;return function(){var M=h;h=N;try{return O.apply(this,arguments)}finally{h=M}}}})(vg);yg.exports=vg;var I0=yg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D0=S,ut=I0;function T(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wg=new Set,ui={};function xr(t,e){rs(t,e),rs(t+"Capture",e)}function rs(t,e){for(ui[t]=e,t=0;t<e.length;t++)wg.add(e[t])}var an=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hu=Object.prototype.hasOwnProperty,L0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nh={},rh={};function M0(t){return hu.call(rh,t)?!0:hu.call(nh,t)?!1:L0.test(t)?rh[t]=!0:(nh[t]=!0,!1)}function $0(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function F0(t,e,n,r){if(e===null||typeof e>"u"||$0(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function We(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ne={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ne[t]=new We(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ne[e]=new We(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ne[t]=new We(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ne[t]=new We(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ne[t]=new We(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ne[t]=new We(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ne[t]=new We(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ne[t]=new We(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ne[t]=new We(t,5,!1,t.toLowerCase(),null,!1,!1)});var Nc=/[\-:]([a-z])/g;function Ic(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Nc,Ic);Ne[e]=new We(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Nc,Ic);Ne[e]=new We(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Nc,Ic);Ne[e]=new We(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ne[t]=new We(t,1,!1,t.toLowerCase(),null,!1,!1)});Ne.xlinkHref=new We("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ne[t]=new We(t,1,!1,t.toLowerCase(),null,!0,!0)});function Dc(t,e,n,r){var s=Ne.hasOwnProperty(e)?Ne[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(F0(e,n,s,r)&&(n=null),r||s===null?M0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var fn=D0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qi=Symbol.for("react.element"),Lr=Symbol.for("react.portal"),Mr=Symbol.for("react.fragment"),Lc=Symbol.for("react.strict_mode"),fu=Symbol.for("react.profiler"),_g=Symbol.for("react.provider"),bg=Symbol.for("react.context"),Mc=Symbol.for("react.forward_ref"),pu=Symbol.for("react.suspense"),gu=Symbol.for("react.suspense_list"),$c=Symbol.for("react.memo"),yn=Symbol.for("react.lazy"),xg=Symbol.for("react.offscreen"),sh=Symbol.iterator;function bs(t){return t===null||typeof t!="object"?null:(t=sh&&t[sh]||t["@@iterator"],typeof t=="function"?t:null)}var fe=Object.assign,ml;function Ls(t){if(ml===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ml=e&&e[1]||""}return`
`+ml+t}var yl=!1;function vl(t,e){if(!t||yl)return"";yl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{yl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ls(t):""}function U0(t){switch(t.tag){case 5:return Ls(t.type);case 16:return Ls("Lazy");case 13:return Ls("Suspense");case 19:return Ls("SuspenseList");case 0:case 2:case 15:return t=vl(t.type,!1),t;case 11:return t=vl(t.type.render,!1),t;case 1:return t=vl(t.type,!0),t;default:return""}}function mu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Mr:return"Fragment";case Lr:return"Portal";case fu:return"Profiler";case Lc:return"StrictMode";case pu:return"Suspense";case gu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case bg:return(t.displayName||"Context")+".Consumer";case _g:return(t._context.displayName||"Context")+".Provider";case Mc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $c:return e=t.displayName||null,e!==null?e:mu(t.type)||"Memo";case yn:e=t._payload,t=t._init;try{return mu(t(e))}catch{}}return null}function B0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mu(e);case 8:return e===Lc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $n(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Sg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function z0(t){var e=Sg(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Zi(t){t._valueTracker||(t._valueTracker=z0(t))}function kg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Sg(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Qo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function yu(t,e){var n=e.checked;return fe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ih(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=$n(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Eg(t,e){e=e.checked,e!=null&&Dc(t,"checked",e,!1)}function vu(t,e){Eg(t,e);var n=$n(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?wu(t,e.type,n):e.hasOwnProperty("defaultValue")&&wu(t,e.type,$n(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function oh(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function wu(t,e,n){(e!=="number"||Qo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ms=Array.isArray;function Gr(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+$n(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function _u(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(T(91));return fe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ah(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(T(92));if(Ms(n)){if(1<n.length)throw Error(T(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:$n(n)}}function Cg(t,e){var n=$n(e.value),r=$n(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function lh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Rg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Rg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var eo,Tg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(eo=eo||document.createElement("div"),eo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=eo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ci(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ks={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},H0=["Webkit","ms","Moz","O"];Object.keys(Ks).forEach(function(t){H0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ks[e]=Ks[t]})});function Og(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ks.hasOwnProperty(t)&&Ks[t]?(""+e).trim():e+"px"}function Pg(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Og(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var W0=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xu(t,e){if(e){if(W0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(T(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(T(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(T(61))}if(e.style!=null&&typeof e.style!="object")throw Error(T(62))}}function Su(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ku=null;function Fc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Eu=null,Yr=null,Xr=null;function uh(t){if(t=Ui(t)){if(typeof Eu!="function")throw Error(T(280));var e=t.stateNode;e&&(e=Ha(e),Eu(t.stateNode,t.type,e))}}function Ag(t){Yr?Xr?Xr.push(t):Xr=[t]:Yr=t}function jg(){if(Yr){var t=Yr,e=Xr;if(Xr=Yr=null,uh(t),e)for(t=0;t<e.length;t++)uh(e[t])}}function Ng(t,e){return t(e)}function Ig(){}var wl=!1;function Dg(t,e,n){if(wl)return t(e,n);wl=!0;try{return Ng(t,e,n)}finally{wl=!1,(Yr!==null||Xr!==null)&&(Ig(),jg())}}function di(t,e){var n=t.stateNode;if(n===null)return null;var r=Ha(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(T(231,e,typeof n));return n}var Cu=!1;if(an)try{var xs={};Object.defineProperty(xs,"passive",{get:function(){Cu=!0}}),window.addEventListener("test",xs,xs),window.removeEventListener("test",xs,xs)}catch{Cu=!1}function V0(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Js=!1,Zo=null,ea=!1,Ru=null,q0={onError:function(t){Js=!0,Zo=t}};function K0(t,e,n,r,s,i,o,a,l){Js=!1,Zo=null,V0.apply(q0,arguments)}function J0(t,e,n,r,s,i,o,a,l){if(K0.apply(this,arguments),Js){if(Js){var u=Zo;Js=!1,Zo=null}else throw Error(T(198));ea||(ea=!0,Ru=u)}}function Sr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Lg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ch(t){if(Sr(t)!==t)throw Error(T(188))}function G0(t){var e=t.alternate;if(!e){if(e=Sr(t),e===null)throw Error(T(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return ch(s),t;if(i===r)return ch(s),e;i=i.sibling}throw Error(T(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(T(189))}}if(n.alternate!==r)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?t:e}function Mg(t){return t=G0(t),t!==null?$g(t):null}function $g(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=$g(t);if(e!==null)return e;t=t.sibling}return null}var Fg=ut.unstable_scheduleCallback,dh=ut.unstable_cancelCallback,Y0=ut.unstable_shouldYield,X0=ut.unstable_requestPaint,me=ut.unstable_now,Q0=ut.unstable_getCurrentPriorityLevel,Uc=ut.unstable_ImmediatePriority,Ug=ut.unstable_UserBlockingPriority,ta=ut.unstable_NormalPriority,Z0=ut.unstable_LowPriority,Bg=ut.unstable_IdlePriority,Fa=null,Kt=null;function ew(t){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Fa,t,void 0,(t.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:rw,tw=Math.log,nw=Math.LN2;function rw(t){return t>>>=0,t===0?32:31-(tw(t)/nw|0)|0}var to=64,no=4194304;function $s(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function na(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=$s(a):(i&=o,i!==0&&(r=$s(i)))}else o=n&~s,o!==0?r=$s(o):i!==0&&(r=$s(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Pt(e),s=1<<n,r|=t[n],e&=~s;return r}function sw(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iw(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Pt(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=sw(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Tu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function zg(){var t=to;return to<<=1,!(to&4194240)&&(to=64),t}function _l(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function $i(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pt(e),t[e]=n}function ow(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Pt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Bc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Pt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Z=0;function Hg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Wg,zc,Vg,qg,Kg,Ou=!1,ro=[],On=null,Pn=null,An=null,hi=new Map,fi=new Map,_n=[],aw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hh(t,e){switch(t){case"focusin":case"focusout":On=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":An=null;break;case"pointerover":case"pointerout":hi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fi.delete(e.pointerId)}}function Ss(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ui(e),e!==null&&zc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function lw(t,e,n,r,s){switch(e){case"focusin":return On=Ss(On,t,e,n,r,s),!0;case"dragenter":return Pn=Ss(Pn,t,e,n,r,s),!0;case"mouseover":return An=Ss(An,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return hi.set(i,Ss(hi.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,fi.set(i,Ss(fi.get(i)||null,t,e,n,r,s)),!0}return!1}function Jg(t){var e=sr(t.target);if(e!==null){var n=Sr(e);if(n!==null){if(e=n.tag,e===13){if(e=Lg(n),e!==null){t.blockedOn=e,Kg(t.priority,function(){Vg(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Do(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Pu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ku=r,n.target.dispatchEvent(r),ku=null}else return e=Ui(n),e!==null&&zc(e),t.blockedOn=n,!1;e.shift()}return!0}function fh(t,e,n){Do(t)&&n.delete(e)}function uw(){Ou=!1,On!==null&&Do(On)&&(On=null),Pn!==null&&Do(Pn)&&(Pn=null),An!==null&&Do(An)&&(An=null),hi.forEach(fh),fi.forEach(fh)}function ks(t,e){t.blockedOn===e&&(t.blockedOn=null,Ou||(Ou=!0,ut.unstable_scheduleCallback(ut.unstable_NormalPriority,uw)))}function pi(t){function e(s){return ks(s,t)}if(0<ro.length){ks(ro[0],t);for(var n=1;n<ro.length;n++){var r=ro[n];r.blockedOn===t&&(r.blockedOn=null)}}for(On!==null&&ks(On,t),Pn!==null&&ks(Pn,t),An!==null&&ks(An,t),hi.forEach(e),fi.forEach(e),n=0;n<_n.length;n++)r=_n[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<_n.length&&(n=_n[0],n.blockedOn===null);)Jg(n),n.blockedOn===null&&_n.shift()}var Qr=fn.ReactCurrentBatchConfig,ra=!0;function cw(t,e,n,r){var s=Z,i=Qr.transition;Qr.transition=null;try{Z=1,Hc(t,e,n,r)}finally{Z=s,Qr.transition=i}}function dw(t,e,n,r){var s=Z,i=Qr.transition;Qr.transition=null;try{Z=4,Hc(t,e,n,r)}finally{Z=s,Qr.transition=i}}function Hc(t,e,n,r){if(ra){var s=Pu(t,e,n,r);if(s===null)Pl(t,e,r,sa,n),hh(t,r);else if(lw(s,t,e,n,r))r.stopPropagation();else if(hh(t,r),e&4&&-1<aw.indexOf(t)){for(;s!==null;){var i=Ui(s);if(i!==null&&Wg(i),i=Pu(t,e,n,r),i===null&&Pl(t,e,r,sa,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Pl(t,e,r,null,n)}}var sa=null;function Pu(t,e,n,r){if(sa=null,t=Fc(r),t=sr(t),t!==null)if(e=Sr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Lg(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return sa=t,null}function Gg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Q0()){case Uc:return 1;case Ug:return 4;case ta:case Z0:return 16;case Bg:return 536870912;default:return 16}default:return 16}}var kn=null,Wc=null,Lo=null;function Yg(){if(Lo)return Lo;var t,e=Wc,n=e.length,r,s="value"in kn?kn.value:kn.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Lo=s.slice(t,1<r?1-r:void 0)}function Mo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function so(){return!0}function ph(){return!1}function dt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?so:ph,this.isPropagationStopped=ph,this}return fe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=so)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=so)},persist:function(){},isPersistent:so}),e}var fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vc=dt(fs),Fi=fe({},fs,{view:0,detail:0}),hw=dt(Fi),bl,xl,Es,Ua=fe({},Fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Es&&(Es&&t.type==="mousemove"?(bl=t.screenX-Es.screenX,xl=t.screenY-Es.screenY):xl=bl=0,Es=t),bl)},movementY:function(t){return"movementY"in t?t.movementY:xl}}),gh=dt(Ua),fw=fe({},Ua,{dataTransfer:0}),pw=dt(fw),gw=fe({},Fi,{relatedTarget:0}),Sl=dt(gw),mw=fe({},fs,{animationName:0,elapsedTime:0,pseudoElement:0}),yw=dt(mw),vw=fe({},fs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ww=dt(vw),_w=fe({},fs,{data:0}),mh=dt(_w),bw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Sw[t])?!!e[t]:!1}function qc(){return kw}var Ew=fe({},Fi,{key:function(t){if(t.key){var e=bw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Mo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qc,charCode:function(t){return t.type==="keypress"?Mo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Cw=dt(Ew),Rw=fe({},Ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yh=dt(Rw),Tw=fe({},Fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qc}),Ow=dt(Tw),Pw=fe({},fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Aw=dt(Pw),jw=fe({},Ua,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Nw=dt(jw),Iw=[9,13,27,32],Kc=an&&"CompositionEvent"in window,Gs=null;an&&"documentMode"in document&&(Gs=document.documentMode);var Dw=an&&"TextEvent"in window&&!Gs,Xg=an&&(!Kc||Gs&&8<Gs&&11>=Gs),vh=" ",wh=!1;function Qg(t,e){switch(t){case"keyup":return Iw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $r=!1;function Lw(t,e){switch(t){case"compositionend":return Zg(e);case"keypress":return e.which!==32?null:(wh=!0,vh);case"textInput":return t=e.data,t===vh&&wh?null:t;default:return null}}function Mw(t,e){if($r)return t==="compositionend"||!Kc&&Qg(t,e)?(t=Yg(),Lo=Wc=kn=null,$r=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Xg&&e.locale!=="ko"?null:e.data;default:return null}}var $w={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _h(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$w[t.type]:e==="textarea"}function em(t,e,n,r){Ag(r),e=ia(e,"onChange"),0<e.length&&(n=new Vc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ys=null,gi=null;function Fw(t){dm(t,0)}function Ba(t){var e=Br(t);if(kg(e))return t}function Uw(t,e){if(t==="change")return e}var tm=!1;if(an){var kl;if(an){var El="oninput"in document;if(!El){var bh=document.createElement("div");bh.setAttribute("oninput","return;"),El=typeof bh.oninput=="function"}kl=El}else kl=!1;tm=kl&&(!document.documentMode||9<document.documentMode)}function xh(){Ys&&(Ys.detachEvent("onpropertychange",nm),gi=Ys=null)}function nm(t){if(t.propertyName==="value"&&Ba(gi)){var e=[];em(e,gi,t,Fc(t)),Dg(Fw,e)}}function Bw(t,e,n){t==="focusin"?(xh(),Ys=e,gi=n,Ys.attachEvent("onpropertychange",nm)):t==="focusout"&&xh()}function zw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ba(gi)}function Hw(t,e){if(t==="click")return Ba(e)}function Ww(t,e){if(t==="input"||t==="change")return Ba(e)}function Vw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jt=typeof Object.is=="function"?Object.is:Vw;function mi(t,e){if(jt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!hu.call(e,s)||!jt(t[s],e[s]))return!1}return!0}function Sh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kh(t,e){var n=Sh(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Sh(n)}}function rm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?rm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function sm(){for(var t=window,e=Qo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Qo(t.document)}return e}function Jc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function qw(t){var e=sm(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&rm(n.ownerDocument.documentElement,n)){if(r!==null&&Jc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=kh(n,i);var o=kh(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Kw=an&&"documentMode"in document&&11>=document.documentMode,Fr=null,Au=null,Xs=null,ju=!1;function Eh(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ju||Fr==null||Fr!==Qo(r)||(r=Fr,"selectionStart"in r&&Jc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xs&&mi(Xs,r)||(Xs=r,r=ia(Au,"onSelect"),0<r.length&&(e=new Vc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Fr)))}function io(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ur={animationend:io("Animation","AnimationEnd"),animationiteration:io("Animation","AnimationIteration"),animationstart:io("Animation","AnimationStart"),transitionend:io("Transition","TransitionEnd")},Cl={},im={};an&&(im=document.createElement("div").style,"AnimationEvent"in window||(delete Ur.animationend.animation,delete Ur.animationiteration.animation,delete Ur.animationstart.animation),"TransitionEvent"in window||delete Ur.transitionend.transition);function za(t){if(Cl[t])return Cl[t];if(!Ur[t])return t;var e=Ur[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in im)return Cl[t]=e[n];return t}var om=za("animationend"),am=za("animationiteration"),lm=za("animationstart"),um=za("transitionend"),cm=new Map,Ch="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bn(t,e){cm.set(t,e),xr(e,[t])}for(var Rl=0;Rl<Ch.length;Rl++){var Tl=Ch[Rl],Jw=Tl.toLowerCase(),Gw=Tl[0].toUpperCase()+Tl.slice(1);Bn(Jw,"on"+Gw)}Bn(om,"onAnimationEnd");Bn(am,"onAnimationIteration");Bn(lm,"onAnimationStart");Bn("dblclick","onDoubleClick");Bn("focusin","onFocus");Bn("focusout","onBlur");Bn(um,"onTransitionEnd");rs("onMouseEnter",["mouseout","mouseover"]);rs("onMouseLeave",["mouseout","mouseover"]);rs("onPointerEnter",["pointerout","pointerover"]);rs("onPointerLeave",["pointerout","pointerover"]);xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xr("onBeforeInput",["compositionend","keypress","textInput","paste"]);xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fs));function Rh(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,J0(r,e,void 0,t),t.currentTarget=null}function dm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Rh(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Rh(s,a,u),i=l}}}if(ea)throw t=Ru,ea=!1,Ru=null,t}function re(t,e){var n=e[Mu];n===void 0&&(n=e[Mu]=new Set);var r=t+"__bubble";n.has(r)||(hm(e,t,2,!1),n.add(r))}function Ol(t,e,n){var r=0;e&&(r|=4),hm(n,t,r,e)}var oo="_reactListening"+Math.random().toString(36).slice(2);function yi(t){if(!t[oo]){t[oo]=!0,wg.forEach(function(n){n!=="selectionchange"&&(Yw.has(n)||Ol(n,!1,t),Ol(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[oo]||(e[oo]=!0,Ol("selectionchange",!1,e))}}function hm(t,e,n,r){switch(Gg(e)){case 1:var s=cw;break;case 4:s=dw;break;default:s=Hc}n=s.bind(null,e,n,t),s=void 0,!Cu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Pl(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=sr(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Dg(function(){var u=i,c=Fc(n),d=[];e:{var h=cm.get(t);if(h!==void 0){var p=Vc,f=t;switch(t){case"keypress":if(Mo(n)===0)break e;case"keydown":case"keyup":p=Cw;break;case"focusin":f="focus",p=Sl;break;case"focusout":f="blur",p=Sl;break;case"beforeblur":case"afterblur":p=Sl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=gh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=pw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Ow;break;case om:case am:case lm:p=yw;break;case um:p=Aw;break;case"scroll":p=hw;break;case"wheel":p=Nw;break;case"copy":case"cut":case"paste":p=ww;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=yh}var m=(e&4)!==0,w=!m&&t==="scroll",g=m?h!==null?h+"Capture":null:h;m=[];for(var y=u,v;y!==null;){v=y;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,g!==null&&(_=di(y,g),_!=null&&m.push(vi(y,_,v)))),w)break;y=y.return}0<m.length&&(h=new p(h,f,null,n,c),d.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==ku&&(f=n.relatedTarget||n.fromElement)&&(sr(f)||f[ln]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(f=n.relatedTarget||n.toElement,p=u,f=f?sr(f):null,f!==null&&(w=Sr(f),f!==w||f.tag!==5&&f.tag!==6)&&(f=null)):(p=null,f=u),p!==f)){if(m=gh,_="onMouseLeave",g="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(m=yh,_="onPointerLeave",g="onPointerEnter",y="pointer"),w=p==null?h:Br(p),v=f==null?h:Br(f),h=new m(_,y+"leave",p,n,c),h.target=w,h.relatedTarget=v,_=null,sr(c)===u&&(m=new m(g,y+"enter",f,n,c),m.target=v,m.relatedTarget=w,_=m),w=_,p&&f)t:{for(m=p,g=f,y=0,v=m;v;v=kr(v))y++;for(v=0,_=g;_;_=kr(_))v++;for(;0<y-v;)m=kr(m),y--;for(;0<v-y;)g=kr(g),v--;for(;y--;){if(m===g||g!==null&&m===g.alternate)break t;m=kr(m),g=kr(g)}m=null}else m=null;p!==null&&Th(d,h,p,m,!1),f!==null&&w!==null&&Th(d,w,f,m,!0)}}e:{if(h=u?Br(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var x=Uw;else if(_h(h))if(tm)x=Ww;else{x=zw;var k=Bw}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(x=Hw);if(x&&(x=x(t,u))){em(d,x,n,c);break e}k&&k(t,h,u),t==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&wu(h,"number",h.value)}switch(k=u?Br(u):window,t){case"focusin":(_h(k)||k.contentEditable==="true")&&(Fr=k,Au=u,Xs=null);break;case"focusout":Xs=Au=Fr=null;break;case"mousedown":ju=!0;break;case"contextmenu":case"mouseup":case"dragend":ju=!1,Eh(d,n,c);break;case"selectionchange":if(Kw)break;case"keydown":case"keyup":Eh(d,n,c)}var E;if(Kc)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else $r?Qg(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(Xg&&n.locale!=="ko"&&($r||R!=="onCompositionStart"?R==="onCompositionEnd"&&$r&&(E=Yg()):(kn=c,Wc="value"in kn?kn.value:kn.textContent,$r=!0)),k=ia(u,R),0<k.length&&(R=new mh(R,t,null,n,c),d.push({event:R,listeners:k}),E?R.data=E:(E=Zg(n),E!==null&&(R.data=E)))),(E=Dw?Lw(t,n):Mw(t,n))&&(u=ia(u,"onBeforeInput"),0<u.length&&(c=new mh("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=E))}dm(d,e)})}function vi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ia(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=di(t,n),i!=null&&r.unshift(vi(t,i,s)),i=di(t,e),i!=null&&r.push(vi(t,i,s))),t=t.return}return r}function kr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Th(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=di(n,i),l!=null&&o.unshift(vi(n,l,a))):s||(l=di(n,i),l!=null&&o.push(vi(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Xw=/\r\n?/g,Qw=/\u0000|\uFFFD/g;function Oh(t){return(typeof t=="string"?t:""+t).replace(Xw,`
`).replace(Qw,"")}function ao(t,e,n){if(e=Oh(e),Oh(t)!==e&&n)throw Error(T(425))}function oa(){}var Nu=null,Iu=null;function Du(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Lu=typeof setTimeout=="function"?setTimeout:void 0,Zw=typeof clearTimeout=="function"?clearTimeout:void 0,Ph=typeof Promise=="function"?Promise:void 0,e_=typeof queueMicrotask=="function"?queueMicrotask:typeof Ph<"u"?function(t){return Ph.resolve(null).then(t).catch(t_)}:Lu;function t_(t){setTimeout(function(){throw t})}function Al(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),pi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);pi(e)}function jn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ah(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ps=Math.random().toString(36).slice(2),qt="__reactFiber$"+ps,wi="__reactProps$"+ps,ln="__reactContainer$"+ps,Mu="__reactEvents$"+ps,n_="__reactListeners$"+ps,r_="__reactHandles$"+ps;function sr(t){var e=t[qt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ln]||n[qt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ah(t);t!==null;){if(n=t[qt])return n;t=Ah(t)}return e}t=n,n=t.parentNode}return null}function Ui(t){return t=t[qt]||t[ln],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Br(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(T(33))}function Ha(t){return t[wi]||null}var $u=[],zr=-1;function zn(t){return{current:t}}function oe(t){0>zr||(t.current=$u[zr],$u[zr]=null,zr--)}function ne(t,e){zr++,$u[zr]=t.current,t.current=e}var Fn={},Fe=zn(Fn),Xe=zn(!1),pr=Fn;function ss(t,e){var n=t.type.contextTypes;if(!n)return Fn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Qe(t){return t=t.childContextTypes,t!=null}function aa(){oe(Xe),oe(Fe)}function jh(t,e,n){if(Fe.current!==Fn)throw Error(T(168));ne(Fe,e),ne(Xe,n)}function fm(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(T(108,B0(t)||"Unknown",s));return fe({},n,r)}function la(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fn,pr=Fe.current,ne(Fe,t),ne(Xe,Xe.current),!0}function Nh(t,e,n){var r=t.stateNode;if(!r)throw Error(T(169));n?(t=fm(t,e,pr),r.__reactInternalMemoizedMergedChildContext=t,oe(Xe),oe(Fe),ne(Fe,t)):oe(Xe),ne(Xe,n)}var en=null,Wa=!1,jl=!1;function pm(t){en===null?en=[t]:en.push(t)}function s_(t){Wa=!0,pm(t)}function Hn(){if(!jl&&en!==null){jl=!0;var t=0,e=Z;try{var n=en;for(Z=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}en=null,Wa=!1}catch(s){throw en!==null&&(en=en.slice(t+1)),Fg(Uc,Hn),s}finally{Z=e,jl=!1}}return null}var Hr=[],Wr=0,ua=null,ca=0,gt=[],mt=0,gr=null,nn=1,rn="";function Qn(t,e){Hr[Wr++]=ca,Hr[Wr++]=ua,ua=t,ca=e}function gm(t,e,n){gt[mt++]=nn,gt[mt++]=rn,gt[mt++]=gr,gr=t;var r=nn;t=rn;var s=32-Pt(r)-1;r&=~(1<<s),n+=1;var i=32-Pt(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,nn=1<<32-Pt(e)+s|n<<s|r,rn=i+t}else nn=1<<i|n<<s|r,rn=t}function Gc(t){t.return!==null&&(Qn(t,1),gm(t,1,0))}function Yc(t){for(;t===ua;)ua=Hr[--Wr],Hr[Wr]=null,ca=Hr[--Wr],Hr[Wr]=null;for(;t===gr;)gr=gt[--mt],gt[mt]=null,rn=gt[--mt],gt[mt]=null,nn=gt[--mt],gt[mt]=null}var lt=null,at=null,le=!1,Ot=null;function mm(t,e){var n=yt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ih(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,lt=t,at=jn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,lt=t,at=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=gr!==null?{id:nn,overflow:rn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=yt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,lt=t,at=null,!0):!1;default:return!1}}function Fu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Uu(t){if(le){var e=at;if(e){var n=e;if(!Ih(t,e)){if(Fu(t))throw Error(T(418));e=jn(n.nextSibling);var r=lt;e&&Ih(t,e)?mm(r,n):(t.flags=t.flags&-4097|2,le=!1,lt=t)}}else{if(Fu(t))throw Error(T(418));t.flags=t.flags&-4097|2,le=!1,lt=t}}}function Dh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;lt=t}function lo(t){if(t!==lt)return!1;if(!le)return Dh(t),le=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Du(t.type,t.memoizedProps)),e&&(e=at)){if(Fu(t))throw ym(),Error(T(418));for(;e;)mm(t,e),e=jn(e.nextSibling)}if(Dh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(T(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){at=jn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}at=null}}else at=lt?jn(t.stateNode.nextSibling):null;return!0}function ym(){for(var t=at;t;)t=jn(t.nextSibling)}function is(){at=lt=null,le=!1}function Xc(t){Ot===null?Ot=[t]:Ot.push(t)}var i_=fn.ReactCurrentBatchConfig;function Cs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var r=n.stateNode}if(!r)throw Error(T(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,t))}return t}function uo(t,e){throw t=Object.prototype.toString.call(e),Error(T(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Lh(t){var e=t._init;return e(t._payload)}function vm(t){function e(g,y){if(t){var v=g.deletions;v===null?(g.deletions=[y],g.flags|=16):v.push(y)}}function n(g,y){if(!t)return null;for(;y!==null;)e(g,y),y=y.sibling;return null}function r(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function s(g,y){return g=Ln(g,y),g.index=0,g.sibling=null,g}function i(g,y,v){return g.index=v,t?(v=g.alternate,v!==null?(v=v.index,v<y?(g.flags|=2,y):v):(g.flags|=2,y)):(g.flags|=1048576,y)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,y,v,_){return y===null||y.tag!==6?(y=Fl(v,g.mode,_),y.return=g,y):(y=s(y,v),y.return=g,y)}function l(g,y,v,_){var x=v.type;return x===Mr?c(g,y,v.props.children,_,v.key):y!==null&&(y.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===yn&&Lh(x)===y.type)?(_=s(y,v.props),_.ref=Cs(g,y,v),_.return=g,_):(_=Wo(v.type,v.key,v.props,null,g.mode,_),_.ref=Cs(g,y,v),_.return=g,_)}function u(g,y,v,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=Ul(v,g.mode,_),y.return=g,y):(y=s(y,v.children||[]),y.return=g,y)}function c(g,y,v,_,x){return y===null||y.tag!==7?(y=dr(v,g.mode,_,x),y.return=g,y):(y=s(y,v),y.return=g,y)}function d(g,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Fl(""+y,g.mode,v),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Qi:return v=Wo(y.type,y.key,y.props,null,g.mode,v),v.ref=Cs(g,null,y),v.return=g,v;case Lr:return y=Ul(y,g.mode,v),y.return=g,y;case yn:var _=y._init;return d(g,_(y._payload),v)}if(Ms(y)||bs(y))return y=dr(y,g.mode,v,null),y.return=g,y;uo(g,y)}return null}function h(g,y,v,_){var x=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return x!==null?null:a(g,y,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Qi:return v.key===x?l(g,y,v,_):null;case Lr:return v.key===x?u(g,y,v,_):null;case yn:return x=v._init,h(g,y,x(v._payload),_)}if(Ms(v)||bs(v))return x!==null?null:c(g,y,v,_,null);uo(g,v)}return null}function p(g,y,v,_,x){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(v)||null,a(y,g,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Qi:return g=g.get(_.key===null?v:_.key)||null,l(y,g,_,x);case Lr:return g=g.get(_.key===null?v:_.key)||null,u(y,g,_,x);case yn:var k=_._init;return p(g,y,v,k(_._payload),x)}if(Ms(_)||bs(_))return g=g.get(v)||null,c(y,g,_,x,null);uo(y,_)}return null}function f(g,y,v,_){for(var x=null,k=null,E=y,R=y=0,A=null;E!==null&&R<v.length;R++){E.index>R?(A=E,E=null):A=E.sibling;var P=h(g,E,v[R],_);if(P===null){E===null&&(E=A);break}t&&E&&P.alternate===null&&e(g,E),y=i(P,y,R),k===null?x=P:k.sibling=P,k=P,E=A}if(R===v.length)return n(g,E),le&&Qn(g,R),x;if(E===null){for(;R<v.length;R++)E=d(g,v[R],_),E!==null&&(y=i(E,y,R),k===null?x=E:k.sibling=E,k=E);return le&&Qn(g,R),x}for(E=r(g,E);R<v.length;R++)A=p(E,g,R,v[R],_),A!==null&&(t&&A.alternate!==null&&E.delete(A.key===null?R:A.key),y=i(A,y,R),k===null?x=A:k.sibling=A,k=A);return t&&E.forEach(function($){return e(g,$)}),le&&Qn(g,R),x}function m(g,y,v,_){var x=bs(v);if(typeof x!="function")throw Error(T(150));if(v=x.call(v),v==null)throw Error(T(151));for(var k=x=null,E=y,R=y=0,A=null,P=v.next();E!==null&&!P.done;R++,P=v.next()){E.index>R?(A=E,E=null):A=E.sibling;var $=h(g,E,P.value,_);if($===null){E===null&&(E=A);break}t&&E&&$.alternate===null&&e(g,E),y=i($,y,R),k===null?x=$:k.sibling=$,k=$,E=A}if(P.done)return n(g,E),le&&Qn(g,R),x;if(E===null){for(;!P.done;R++,P=v.next())P=d(g,P.value,_),P!==null&&(y=i(P,y,R),k===null?x=P:k.sibling=P,k=P);return le&&Qn(g,R),x}for(E=r(g,E);!P.done;R++,P=v.next())P=p(E,g,R,P.value,_),P!==null&&(t&&P.alternate!==null&&E.delete(P.key===null?R:P.key),y=i(P,y,R),k===null?x=P:k.sibling=P,k=P);return t&&E.forEach(function(F){return e(g,F)}),le&&Qn(g,R),x}function w(g,y,v,_){if(typeof v=="object"&&v!==null&&v.type===Mr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Qi:e:{for(var x=v.key,k=y;k!==null;){if(k.key===x){if(x=v.type,x===Mr){if(k.tag===7){n(g,k.sibling),y=s(k,v.props.children),y.return=g,g=y;break e}}else if(k.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===yn&&Lh(x)===k.type){n(g,k.sibling),y=s(k,v.props),y.ref=Cs(g,k,v),y.return=g,g=y;break e}n(g,k);break}else e(g,k);k=k.sibling}v.type===Mr?(y=dr(v.props.children,g.mode,_,v.key),y.return=g,g=y):(_=Wo(v.type,v.key,v.props,null,g.mode,_),_.ref=Cs(g,y,v),_.return=g,g=_)}return o(g);case Lr:e:{for(k=v.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){n(g,y.sibling),y=s(y,v.children||[]),y.return=g,g=y;break e}else{n(g,y);break}else e(g,y);y=y.sibling}y=Ul(v,g.mode,_),y.return=g,g=y}return o(g);case yn:return k=v._init,w(g,y,k(v._payload),_)}if(Ms(v))return f(g,y,v,_);if(bs(v))return m(g,y,v,_);uo(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(n(g,y.sibling),y=s(y,v),y.return=g,g=y):(n(g,y),y=Fl(v,g.mode,_),y.return=g,g=y),o(g)):n(g,y)}return w}var os=vm(!0),wm=vm(!1),da=zn(null),ha=null,Vr=null,Qc=null;function Zc(){Qc=Vr=ha=null}function ed(t){var e=da.current;oe(da),t._currentValue=e}function Bu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Zr(t,e){ha=t,Qc=Vr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ge=!0),t.firstContext=null)}function _t(t){var e=t._currentValue;if(Qc!==t)if(t={context:t,memoizedValue:e,next:null},Vr===null){if(ha===null)throw Error(T(308));Vr=t,ha.dependencies={lanes:0,firstContext:t}}else Vr=Vr.next=t;return e}var ir=null;function td(t){ir===null?ir=[t]:ir.push(t)}function _m(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,td(e)):(n.next=s.next,s.next=n),e.interleaved=n,un(t,r)}function un(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var vn=!1;function nd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function sn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Nn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,q&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,un(t,n)}return s=r.interleaved,s===null?(e.next=e,td(r)):(e.next=s.next,s.next=e),r.interleaved=e,un(t,n)}function $o(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Bc(t,n)}}function Mh(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function fa(t,e,n,r){var s=t.updateQueue;vn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,c=u=l=null,a=i;do{var h=a.lane,p=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=t,m=a;switch(h=e,p=n,m.tag){case 1:if(f=m.payload,typeof f=="function"){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=m.payload,h=typeof f=="function"?f.call(p,d,h):f,h==null)break e;d=fe({},d,h);break e;case 2:vn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(c===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);yr|=o,t.lanes=o,t.memoizedState=d}}function $h(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(T(191,s));s.call(r)}}}var Bi={},Jt=zn(Bi),_i=zn(Bi),bi=zn(Bi);function or(t){if(t===Bi)throw Error(T(174));return t}function rd(t,e){switch(ne(bi,e),ne(_i,t),ne(Jt,Bi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=bu(e,t)}oe(Jt),ne(Jt,e)}function as(){oe(Jt),oe(_i),oe(bi)}function xm(t){or(bi.current);var e=or(Jt.current),n=bu(e,t.type);e!==n&&(ne(_i,t),ne(Jt,n))}function sd(t){_i.current===t&&(oe(Jt),oe(_i))}var de=zn(0);function pa(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Nl=[];function id(){for(var t=0;t<Nl.length;t++)Nl[t]._workInProgressVersionPrimary=null;Nl.length=0}var Fo=fn.ReactCurrentDispatcher,Il=fn.ReactCurrentBatchConfig,mr=0,he=null,Se=null,Ce=null,ga=!1,Qs=!1,xi=0,o_=0;function Ie(){throw Error(T(321))}function od(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!jt(t[n],e[n]))return!1;return!0}function ad(t,e,n,r,s,i){if(mr=i,he=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fo.current=t===null||t.memoizedState===null?c_:d_,t=n(r,s),Qs){i=0;do{if(Qs=!1,xi=0,25<=i)throw Error(T(301));i+=1,Ce=Se=null,e.updateQueue=null,Fo.current=h_,t=n(r,s)}while(Qs)}if(Fo.current=ma,e=Se!==null&&Se.next!==null,mr=0,Ce=Se=he=null,ga=!1,e)throw Error(T(300));return t}function ld(){var t=xi!==0;return xi=0,t}function Ht(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?he.memoizedState=Ce=t:Ce=Ce.next=t,Ce}function bt(){if(Se===null){var t=he.alternate;t=t!==null?t.memoizedState:null}else t=Se.next;var e=Ce===null?he.memoizedState:Ce.next;if(e!==null)Ce=e,Se=t;else{if(t===null)throw Error(T(310));Se=t,t={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},Ce===null?he.memoizedState=Ce=t:Ce=Ce.next=t}return Ce}function Si(t,e){return typeof e=="function"?e(t):e}function Dl(t){var e=bt(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var r=Se,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((mr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,he.lanes|=c,yr|=c}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,jt(r,e.memoizedState)||(Ge=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,he.lanes|=i,yr|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ll(t){var e=bt(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);jt(i,e.memoizedState)||(Ge=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Sm(){}function km(t,e){var n=he,r=bt(),s=e(),i=!jt(r.memoizedState,s);if(i&&(r.memoizedState=s,Ge=!0),r=r.queue,ud(Rm.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ce!==null&&Ce.memoizedState.tag&1){if(n.flags|=2048,ki(9,Cm.bind(null,n,r,s,e),void 0,null),Re===null)throw Error(T(349));mr&30||Em(n,e,s)}return s}function Em(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=he.updateQueue,e===null?(e={lastEffect:null,stores:null},he.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Cm(t,e,n,r){e.value=n,e.getSnapshot=r,Tm(e)&&Om(t)}function Rm(t,e,n){return n(function(){Tm(e)&&Om(t)})}function Tm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!jt(t,n)}catch{return!0}}function Om(t){var e=un(t,1);e!==null&&At(e,t,1,-1)}function Fh(t){var e=Ht();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:t},e.queue=t,t=t.dispatch=u_.bind(null,he,t),[e.memoizedState,t]}function ki(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=he.updateQueue,e===null?(e={lastEffect:null,stores:null},he.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Pm(){return bt().memoizedState}function Uo(t,e,n,r){var s=Ht();he.flags|=t,s.memoizedState=ki(1|e,n,void 0,r===void 0?null:r)}function Va(t,e,n,r){var s=bt();r=r===void 0?null:r;var i=void 0;if(Se!==null){var o=Se.memoizedState;if(i=o.destroy,r!==null&&od(r,o.deps)){s.memoizedState=ki(e,n,i,r);return}}he.flags|=t,s.memoizedState=ki(1|e,n,i,r)}function Uh(t,e){return Uo(8390656,8,t,e)}function ud(t,e){return Va(2048,8,t,e)}function Am(t,e){return Va(4,2,t,e)}function jm(t,e){return Va(4,4,t,e)}function Nm(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Im(t,e,n){return n=n!=null?n.concat([t]):null,Va(4,4,Nm.bind(null,e,t),n)}function cd(){}function Dm(t,e){var n=bt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&od(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Lm(t,e){var n=bt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&od(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Mm(t,e,n){return mr&21?(jt(n,e)||(n=zg(),he.lanes|=n,yr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ge=!0),t.memoizedState=n)}function a_(t,e){var n=Z;Z=n!==0&&4>n?n:4,t(!0);var r=Il.transition;Il.transition={};try{t(!1),e()}finally{Z=n,Il.transition=r}}function $m(){return bt().memoizedState}function l_(t,e,n){var r=Dn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Fm(t))Um(e,n);else if(n=_m(t,e,n,r),n!==null){var s=ze();At(n,t,r,s),Bm(n,e,r)}}function u_(t,e,n){var r=Dn(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Fm(t))Um(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,jt(a,o)){var l=e.interleaved;l===null?(s.next=s,td(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=_m(t,e,s,r),n!==null&&(s=ze(),At(n,t,r,s),Bm(n,e,r))}}function Fm(t){var e=t.alternate;return t===he||e!==null&&e===he}function Um(t,e){Qs=ga=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Bm(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Bc(t,n)}}var ma={readContext:_t,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},c_={readContext:_t,useCallback:function(t,e){return Ht().memoizedState=[t,e===void 0?null:e],t},useContext:_t,useEffect:Uh,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Uo(4194308,4,Nm.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Uo(4194308,4,t,e)},useInsertionEffect:function(t,e){return Uo(4,2,t,e)},useMemo:function(t,e){var n=Ht();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ht();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=l_.bind(null,he,t),[r.memoizedState,t]},useRef:function(t){var e=Ht();return t={current:t},e.memoizedState=t},useState:Fh,useDebugValue:cd,useDeferredValue:function(t){return Ht().memoizedState=t},useTransition:function(){var t=Fh(!1),e=t[0];return t=a_.bind(null,t[1]),Ht().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=he,s=Ht();if(le){if(n===void 0)throw Error(T(407));n=n()}else{if(n=e(),Re===null)throw Error(T(349));mr&30||Em(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Uh(Rm.bind(null,r,i,t),[t]),r.flags|=2048,ki(9,Cm.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Ht(),e=Re.identifierPrefix;if(le){var n=rn,r=nn;n=(r&~(1<<32-Pt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=xi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=o_++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},d_={readContext:_t,useCallback:Dm,useContext:_t,useEffect:ud,useImperativeHandle:Im,useInsertionEffect:Am,useLayoutEffect:jm,useMemo:Lm,useReducer:Dl,useRef:Pm,useState:function(){return Dl(Si)},useDebugValue:cd,useDeferredValue:function(t){var e=bt();return Mm(e,Se.memoizedState,t)},useTransition:function(){var t=Dl(Si)[0],e=bt().memoizedState;return[t,e]},useMutableSource:Sm,useSyncExternalStore:km,useId:$m,unstable_isNewReconciler:!1},h_={readContext:_t,useCallback:Dm,useContext:_t,useEffect:ud,useImperativeHandle:Im,useInsertionEffect:Am,useLayoutEffect:jm,useMemo:Lm,useReducer:Ll,useRef:Pm,useState:function(){return Ll(Si)},useDebugValue:cd,useDeferredValue:function(t){var e=bt();return Se===null?e.memoizedState=t:Mm(e,Se.memoizedState,t)},useTransition:function(){var t=Ll(Si)[0],e=bt().memoizedState;return[t,e]},useMutableSource:Sm,useSyncExternalStore:km,useId:$m,unstable_isNewReconciler:!1};function Et(t,e){if(t&&t.defaultProps){e=fe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function zu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:fe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var qa={isMounted:function(t){return(t=t._reactInternals)?Sr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ze(),s=Dn(t),i=sn(r,s);i.payload=e,n!=null&&(i.callback=n),e=Nn(t,i,s),e!==null&&(At(e,t,s,r),$o(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ze(),s=Dn(t),i=sn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Nn(t,i,s),e!==null&&(At(e,t,s,r),$o(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ze(),r=Dn(t),s=sn(n,r);s.tag=2,e!=null&&(s.callback=e),e=Nn(t,s,r),e!==null&&(At(e,t,r,n),$o(e,t,r))}};function Bh(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!mi(n,r)||!mi(s,i):!0}function zm(t,e,n){var r=!1,s=Fn,i=e.contextType;return typeof i=="object"&&i!==null?i=_t(i):(s=Qe(e)?pr:Fe.current,r=e.contextTypes,i=(r=r!=null)?ss(t,s):Fn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=qa,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function zh(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&qa.enqueueReplaceState(e,e.state,null)}function Hu(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},nd(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=_t(i):(i=Qe(e)?pr:Fe.current,s.context=ss(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(zu(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&qa.enqueueReplaceState(s,s.state,null),fa(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ls(t,e){try{var n="",r=e;do n+=U0(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Ml(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Wu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var f_=typeof WeakMap=="function"?WeakMap:Map;function Hm(t,e,n){n=sn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){va||(va=!0,ec=r),Wu(t,e)},n}function Wm(t,e,n){n=sn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Wu(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Wu(t,e),typeof r!="function"&&(In===null?In=new Set([this]):In.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Hh(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new f_;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=R_.bind(null,t,e,n),e.then(t,t))}function Wh(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Vh(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=sn(-1,1),e.tag=2,Nn(n,e,1))),n.lanes|=1),t)}var p_=fn.ReactCurrentOwner,Ge=!1;function Be(t,e,n,r){e.child=t===null?wm(e,null,n,r):os(e,t.child,n,r)}function qh(t,e,n,r,s){n=n.render;var i=e.ref;return Zr(e,s),r=ad(t,e,n,r,i,s),n=ld(),t!==null&&!Ge?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,cn(t,e,s)):(le&&n&&Gc(e),e.flags|=1,Be(t,e,r,s),e.child)}function Kh(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!vd(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Vm(t,e,i,r,s)):(t=Wo(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:mi,n(o,r)&&t.ref===e.ref)return cn(t,e,s)}return e.flags|=1,t=Ln(i,r),t.ref=e.ref,t.return=e,e.child=t}function Vm(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(mi(i,r)&&t.ref===e.ref)if(Ge=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ge=!0);else return e.lanes=t.lanes,cn(t,e,s)}return Vu(t,e,n,r,s)}function qm(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ne(Kr,st),st|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ne(Kr,st),st|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ne(Kr,st),st|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ne(Kr,st),st|=r;return Be(t,e,s,n),e.child}function Km(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Vu(t,e,n,r,s){var i=Qe(n)?pr:Fe.current;return i=ss(e,i),Zr(e,s),n=ad(t,e,n,r,i,s),r=ld(),t!==null&&!Ge?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,cn(t,e,s)):(le&&r&&Gc(e),e.flags|=1,Be(t,e,n,s),e.child)}function Jh(t,e,n,r,s){if(Qe(n)){var i=!0;la(e)}else i=!1;if(Zr(e,s),e.stateNode===null)Bo(t,e),zm(e,n,r),Hu(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=_t(u):(u=Qe(n)?pr:Fe.current,u=ss(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&zh(e,o,r,u),vn=!1;var h=e.memoizedState;o.state=h,fa(e,r,o,s),l=e.memoizedState,a!==r||h!==l||Xe.current||vn?(typeof c=="function"&&(zu(e,n,c,r),l=e.memoizedState),(a=vn||Bh(e,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,bm(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Et(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=_t(l):(l=Qe(n)?pr:Fe.current,l=ss(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&zh(e,o,r,l),vn=!1,h=e.memoizedState,o.state=h,fa(e,r,o,s);var f=e.memoizedState;a!==d||h!==f||Xe.current||vn?(typeof p=="function"&&(zu(e,n,p,r),f=e.memoizedState),(u=vn||Bh(e,n,u,r,h,f,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,f,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,f,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=f),o.props=r,o.state=f,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return qu(t,e,n,r,i,s)}function qu(t,e,n,r,s,i){Km(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Nh(e,n,!1),cn(t,e,i);r=e.stateNode,p_.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=os(e,t.child,null,i),e.child=os(e,null,a,i)):Be(t,e,a,i),e.memoizedState=r.state,s&&Nh(e,n,!0),e.child}function Jm(t){var e=t.stateNode;e.pendingContext?jh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&jh(t,e.context,!1),rd(t,e.containerInfo)}function Gh(t,e,n,r,s){return is(),Xc(s),e.flags|=256,Be(t,e,n,r),e.child}var Ku={dehydrated:null,treeContext:null,retryLane:0};function Ju(t){return{baseLanes:t,cachePool:null,transitions:null}}function Gm(t,e,n){var r=e.pendingProps,s=de.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ne(de,s&1),t===null)return Uu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ga(o,r,0,null),t=dr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ju(n),e.memoizedState=Ku,t):dd(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return g_(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ln(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ln(a,i):(i=dr(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Ju(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Ku,r}return i=t.child,t=i.sibling,r=Ln(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function dd(t,e){return e=Ga({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function co(t,e,n,r){return r!==null&&Xc(r),os(e,t.child,null,n),t=dd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function g_(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Ml(Error(T(422))),co(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ga({mode:"visible",children:r.children},s,0,null),i=dr(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&os(e,t.child,null,o),e.child.memoizedState=Ju(o),e.memoizedState=Ku,i);if(!(e.mode&1))return co(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(T(419)),r=Ml(i,r,void 0),co(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ge||a){if(r=Re,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,un(t,s),At(r,t,s,-1))}return yd(),r=Ml(Error(T(421))),co(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=T_.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,at=jn(s.nextSibling),lt=e,le=!0,Ot=null,t!==null&&(gt[mt++]=nn,gt[mt++]=rn,gt[mt++]=gr,nn=t.id,rn=t.overflow,gr=e),e=dd(e,r.children),e.flags|=4096,e)}function Yh(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Bu(t.return,e,n)}function $l(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Ym(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Be(t,e,r.children,n),r=de.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yh(t,n,e);else if(t.tag===19)Yh(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ne(de,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&pa(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),$l(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&pa(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}$l(e,!0,n,null,i);break;case"together":$l(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Bo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function cn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),yr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(T(153));if(e.child!==null){for(t=e.child,n=Ln(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ln(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function m_(t,e,n){switch(e.tag){case 3:Jm(e),is();break;case 5:xm(e);break;case 1:Qe(e.type)&&la(e);break;case 4:rd(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ne(da,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ne(de,de.current&1),e.flags|=128,null):n&e.child.childLanes?Gm(t,e,n):(ne(de,de.current&1),t=cn(t,e,n),t!==null?t.sibling:null);ne(de,de.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Ym(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ne(de,de.current),r)break;return null;case 22:case 23:return e.lanes=0,qm(t,e,n)}return cn(t,e,n)}var Xm,Gu,Qm,Zm;Xm=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gu=function(){};Qm=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,or(Jt.current);var i=null;switch(n){case"input":s=yu(t,s),r=yu(t,r),i=[];break;case"select":s=fe({},s,{value:void 0}),r=fe({},r,{value:void 0}),i=[];break;case"textarea":s=_u(t,s),r=_u(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=oa)}xu(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ui.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ui.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&re("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Zm=function(t,e,n,r){n!==r&&(e.flags|=4)};function Rs(t,e){if(!le)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function De(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function y_(t,e,n){var r=e.pendingProps;switch(Yc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(e),null;case 1:return Qe(e.type)&&aa(),De(e),null;case 3:return r=e.stateNode,as(),oe(Xe),oe(Fe),id(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(lo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ot!==null&&(rc(Ot),Ot=null))),Gu(t,e),De(e),null;case 5:sd(e);var s=or(bi.current);if(n=e.type,t!==null&&e.stateNode!=null)Qm(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(T(166));return De(e),null}if(t=or(Jt.current),lo(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[qt]=e,r[wi]=i,t=(e.mode&1)!==0,n){case"dialog":re("cancel",r),re("close",r);break;case"iframe":case"object":case"embed":re("load",r);break;case"video":case"audio":for(s=0;s<Fs.length;s++)re(Fs[s],r);break;case"source":re("error",r);break;case"img":case"image":case"link":re("error",r),re("load",r);break;case"details":re("toggle",r);break;case"input":ih(r,i),re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},re("invalid",r);break;case"textarea":ah(r,i),re("invalid",r)}xu(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ao(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ao(r.textContent,a,t),s=["children",""+a]):ui.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&re("scroll",r)}switch(n){case"input":Zi(r),oh(r,i,!0);break;case"textarea":Zi(r),lh(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=oa)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Rg(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[qt]=e,t[wi]=r,Xm(t,e,!1,!1),e.stateNode=t;e:{switch(o=Su(n,r),n){case"dialog":re("cancel",t),re("close",t),s=r;break;case"iframe":case"object":case"embed":re("load",t),s=r;break;case"video":case"audio":for(s=0;s<Fs.length;s++)re(Fs[s],t);s=r;break;case"source":re("error",t),s=r;break;case"img":case"image":case"link":re("error",t),re("load",t),s=r;break;case"details":re("toggle",t),s=r;break;case"input":ih(t,r),s=yu(t,r),re("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=fe({},r,{value:void 0}),re("invalid",t);break;case"textarea":ah(t,r),s=_u(t,r),re("invalid",t);break;default:s=r}xu(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Pg(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Tg(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ci(t,l):typeof l=="number"&&ci(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ui.hasOwnProperty(i)?l!=null&&i==="onScroll"&&re("scroll",t):l!=null&&Dc(t,i,l,o))}switch(n){case"input":Zi(t),oh(t,r,!1);break;case"textarea":Zi(t),lh(t);break;case"option":r.value!=null&&t.setAttribute("value",""+$n(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Gr(t,!!r.multiple,i,!1):r.defaultValue!=null&&Gr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=oa)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return De(e),null;case 6:if(t&&e.stateNode!=null)Zm(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(T(166));if(n=or(bi.current),or(Jt.current),lo(e)){if(r=e.stateNode,n=e.memoizedProps,r[qt]=e,(i=r.nodeValue!==n)&&(t=lt,t!==null))switch(t.tag){case 3:ao(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ao(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qt]=e,e.stateNode=r}return De(e),null;case 13:if(oe(de),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(le&&at!==null&&e.mode&1&&!(e.flags&128))ym(),is(),e.flags|=98560,i=!1;else if(i=lo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(T(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[qt]=e}else is(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;De(e),i=!1}else Ot!==null&&(rc(Ot),Ot=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||de.current&1?ke===0&&(ke=3):yd())),e.updateQueue!==null&&(e.flags|=4),De(e),null);case 4:return as(),Gu(t,e),t===null&&yi(e.stateNode.containerInfo),De(e),null;case 10:return ed(e.type._context),De(e),null;case 17:return Qe(e.type)&&aa(),De(e),null;case 19:if(oe(de),i=e.memoizedState,i===null)return De(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Rs(i,!1);else{if(ke!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=pa(t),o!==null){for(e.flags|=128,Rs(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ne(de,de.current&1|2),e.child}t=t.sibling}i.tail!==null&&me()>us&&(e.flags|=128,r=!0,Rs(i,!1),e.lanes=4194304)}else{if(!r)if(t=pa(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Rs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!le)return De(e),null}else 2*me()-i.renderingStartTime>us&&n!==1073741824&&(e.flags|=128,r=!0,Rs(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=me(),e.sibling=null,n=de.current,ne(de,r?n&1|2:n&1),e):(De(e),null);case 22:case 23:return md(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?st&1073741824&&(De(e),e.subtreeFlags&6&&(e.flags|=8192)):De(e),null;case 24:return null;case 25:return null}throw Error(T(156,e.tag))}function v_(t,e){switch(Yc(e),e.tag){case 1:return Qe(e.type)&&aa(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return as(),oe(Xe),oe(Fe),id(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return sd(e),null;case 13:if(oe(de),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(T(340));is()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return oe(de),null;case 4:return as(),null;case 10:return ed(e.type._context),null;case 22:case 23:return md(),null;case 24:return null;default:return null}}var ho=!1,Le=!1,w_=typeof WeakSet=="function"?WeakSet:Set,j=null;function qr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ge(t,e,r)}else n.current=null}function Yu(t,e,n){try{n()}catch(r){ge(t,e,r)}}var Xh=!1;function __(t,e){if(Nu=ra,t=sm(),Jc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var p;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++u===s&&(a=o),h===i&&++c===r&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Iu={focusedElem:t,selectionRange:n},ra=!1,j=e;j!==null;)if(e=j,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,j=t;else for(;j!==null;){e=j;try{var f=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var m=f.memoizedProps,w=f.memoizedState,g=e.stateNode,y=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:Et(e.type,m),w);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(_){ge(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,j=t;break}j=e.return}return f=Xh,Xh=!1,f}function Zs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Yu(e,n,i)}s=s.next}while(s!==r)}}function Ka(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Xu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ey(t){var e=t.alternate;e!==null&&(t.alternate=null,ey(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qt],delete e[wi],delete e[Mu],delete e[n_],delete e[r_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ty(t){return t.tag===5||t.tag===3||t.tag===4}function Qh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ty(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=oa));else if(r!==4&&(t=t.child,t!==null))for(Qu(t,e,n),t=t.sibling;t!==null;)Qu(t,e,n),t=t.sibling}function Zu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Zu(t,e,n),t=t.sibling;t!==null;)Zu(t,e,n),t=t.sibling}var Pe=null,Rt=!1;function gn(t,e,n){for(n=n.child;n!==null;)ny(t,e,n),n=n.sibling}function ny(t,e,n){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Fa,n)}catch{}switch(n.tag){case 5:Le||qr(n,e);case 6:var r=Pe,s=Rt;Pe=null,gn(t,e,n),Pe=r,Rt=s,Pe!==null&&(Rt?(t=Pe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Pe.removeChild(n.stateNode));break;case 18:Pe!==null&&(Rt?(t=Pe,n=n.stateNode,t.nodeType===8?Al(t.parentNode,n):t.nodeType===1&&Al(t,n),pi(t)):Al(Pe,n.stateNode));break;case 4:r=Pe,s=Rt,Pe=n.stateNode.containerInfo,Rt=!0,gn(t,e,n),Pe=r,Rt=s;break;case 0:case 11:case 14:case 15:if(!Le&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Yu(n,e,o),s=s.next}while(s!==r)}gn(t,e,n);break;case 1:if(!Le&&(qr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ge(n,e,a)}gn(t,e,n);break;case 21:gn(t,e,n);break;case 22:n.mode&1?(Le=(r=Le)||n.memoizedState!==null,gn(t,e,n),Le=r):gn(t,e,n);break;default:gn(t,e,n)}}function Zh(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new w_),e.forEach(function(r){var s=O_.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function St(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Pe=a.stateNode,Rt=!1;break e;case 3:Pe=a.stateNode.containerInfo,Rt=!0;break e;case 4:Pe=a.stateNode.containerInfo,Rt=!0;break e}a=a.return}if(Pe===null)throw Error(T(160));ny(i,o,s),Pe=null,Rt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ge(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ry(e,t),e=e.sibling}function ry(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(St(e,t),$t(t),r&4){try{Zs(3,t,t.return),Ka(3,t)}catch(m){ge(t,t.return,m)}try{Zs(5,t,t.return)}catch(m){ge(t,t.return,m)}}break;case 1:St(e,t),$t(t),r&512&&n!==null&&qr(n,n.return);break;case 5:if(St(e,t),$t(t),r&512&&n!==null&&qr(n,n.return),t.flags&32){var s=t.stateNode;try{ci(s,"")}catch(m){ge(t,t.return,m)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Eg(s,i),Su(a,o);var u=Su(a,i);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?Pg(s,d):c==="dangerouslySetInnerHTML"?Tg(s,d):c==="children"?ci(s,d):Dc(s,c,d,u)}switch(a){case"input":vu(s,i);break;case"textarea":Cg(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Gr(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Gr(s,!!i.multiple,i.defaultValue,!0):Gr(s,!!i.multiple,i.multiple?[]:"",!1))}s[wi]=i}catch(m){ge(t,t.return,m)}}break;case 6:if(St(e,t),$t(t),r&4){if(t.stateNode===null)throw Error(T(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(m){ge(t,t.return,m)}}break;case 3:if(St(e,t),$t(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{pi(e.containerInfo)}catch(m){ge(t,t.return,m)}break;case 4:St(e,t),$t(t);break;case 13:St(e,t),$t(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(pd=me())),r&4&&Zh(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Le=(u=Le)||c,St(e,t),Le=u):St(e,t),$t(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(j=t,c=t.child;c!==null;){for(d=j=c;j!==null;){switch(h=j,p=h.child,h.tag){case 0:case 11:case 14:case 15:Zs(4,h,h.return);break;case 1:qr(h,h.return);var f=h.stateNode;if(typeof f.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,f.props=e.memoizedProps,f.state=e.memoizedState,f.componentWillUnmount()}catch(m){ge(r,n,m)}}break;case 5:qr(h,h.return);break;case 22:if(h.memoizedState!==null){tf(d);continue}}p!==null?(p.return=h,j=p):tf(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Og("display",o))}catch(m){ge(t,t.return,m)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){ge(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:St(e,t),$t(t),r&4&&Zh(t);break;case 21:break;default:St(e,t),$t(t)}}function $t(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ty(n)){var r=n;break e}n=n.return}throw Error(T(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ci(s,""),r.flags&=-33);var i=Qh(t);Zu(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Qh(t);Qu(t,a,o);break;default:throw Error(T(161))}}catch(l){ge(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function b_(t,e,n){j=t,sy(t)}function sy(t,e,n){for(var r=(t.mode&1)!==0;j!==null;){var s=j,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ho;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Le;a=ho;var u=Le;if(ho=o,(Le=l)&&!u)for(j=s;j!==null;)o=j,l=o.child,o.tag===22&&o.memoizedState!==null?nf(s):l!==null?(l.return=o,j=l):nf(s);for(;i!==null;)j=i,sy(i),i=i.sibling;j=s,ho=a,Le=u}ef(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,j=i):ef(t)}}function ef(t){for(;j!==null;){var e=j;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Le||Ka(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Le)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Et(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&$h(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}$h(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&pi(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Le||e.flags&512&&Xu(e)}catch(h){ge(e,e.return,h)}}if(e===t){j=null;break}if(n=e.sibling,n!==null){n.return=e.return,j=n;break}j=e.return}}function tf(t){for(;j!==null;){var e=j;if(e===t){j=null;break}var n=e.sibling;if(n!==null){n.return=e.return,j=n;break}j=e.return}}function nf(t){for(;j!==null;){var e=j;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ka(4,e)}catch(l){ge(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){ge(e,s,l)}}var i=e.return;try{Xu(e)}catch(l){ge(e,i,l)}break;case 5:var o=e.return;try{Xu(e)}catch(l){ge(e,o,l)}}}catch(l){ge(e,e.return,l)}if(e===t){j=null;break}var a=e.sibling;if(a!==null){a.return=e.return,j=a;break}j=e.return}}var x_=Math.ceil,ya=fn.ReactCurrentDispatcher,hd=fn.ReactCurrentOwner,wt=fn.ReactCurrentBatchConfig,q=0,Re=null,_e=null,je=0,st=0,Kr=zn(0),ke=0,Ei=null,yr=0,Ja=0,fd=0,ei=null,Ke=null,pd=0,us=1/0,Qt=null,va=!1,ec=null,In=null,fo=!1,En=null,wa=0,ti=0,tc=null,zo=-1,Ho=0;function ze(){return q&6?me():zo!==-1?zo:zo=me()}function Dn(t){return t.mode&1?q&2&&je!==0?je&-je:i_.transition!==null?(Ho===0&&(Ho=zg()),Ho):(t=Z,t!==0||(t=window.event,t=t===void 0?16:Gg(t.type)),t):1}function At(t,e,n,r){if(50<ti)throw ti=0,tc=null,Error(T(185));$i(t,n,r),(!(q&2)||t!==Re)&&(t===Re&&(!(q&2)&&(Ja|=n),ke===4&&bn(t,je)),Ze(t,r),n===1&&q===0&&!(e.mode&1)&&(us=me()+500,Wa&&Hn()))}function Ze(t,e){var n=t.callbackNode;iw(t,e);var r=na(t,t===Re?je:0);if(r===0)n!==null&&dh(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&dh(n),e===1)t.tag===0?s_(rf.bind(null,t)):pm(rf.bind(null,t)),e_(function(){!(q&6)&&Hn()}),n=null;else{switch(Hg(r)){case 1:n=Uc;break;case 4:n=Ug;break;case 16:n=ta;break;case 536870912:n=Bg;break;default:n=ta}n=hy(n,iy.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function iy(t,e){if(zo=-1,Ho=0,q&6)throw Error(T(327));var n=t.callbackNode;if(es()&&t.callbackNode!==n)return null;var r=na(t,t===Re?je:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=_a(t,r);else{e=r;var s=q;q|=2;var i=ay();(Re!==t||je!==e)&&(Qt=null,us=me()+500,cr(t,e));do try{E_();break}catch(a){oy(t,a)}while(!0);Zc(),ya.current=i,q=s,_e!==null?e=0:(Re=null,je=0,e=ke)}if(e!==0){if(e===2&&(s=Tu(t),s!==0&&(r=s,e=nc(t,s))),e===1)throw n=Ei,cr(t,0),bn(t,r),Ze(t,me()),n;if(e===6)bn(t,r);else{if(s=t.current.alternate,!(r&30)&&!S_(s)&&(e=_a(t,r),e===2&&(i=Tu(t),i!==0&&(r=i,e=nc(t,i))),e===1))throw n=Ei,cr(t,0),bn(t,r),Ze(t,me()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(T(345));case 2:Zn(t,Ke,Qt);break;case 3:if(bn(t,r),(r&130023424)===r&&(e=pd+500-me(),10<e)){if(na(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){ze(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Lu(Zn.bind(null,t,Ke,Qt),e);break}Zn(t,Ke,Qt);break;case 4:if(bn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Pt(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*x_(r/1960))-r,10<r){t.timeoutHandle=Lu(Zn.bind(null,t,Ke,Qt),r);break}Zn(t,Ke,Qt);break;case 5:Zn(t,Ke,Qt);break;default:throw Error(T(329))}}}return Ze(t,me()),t.callbackNode===n?iy.bind(null,t):null}function nc(t,e){var n=ei;return t.current.memoizedState.isDehydrated&&(cr(t,e).flags|=256),t=_a(t,e),t!==2&&(e=Ke,Ke=n,e!==null&&rc(e)),t}function rc(t){Ke===null?Ke=t:Ke.push.apply(Ke,t)}function S_(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!jt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function bn(t,e){for(e&=~fd,e&=~Ja,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pt(e),r=1<<n;t[n]=-1,e&=~r}}function rf(t){if(q&6)throw Error(T(327));es();var e=na(t,0);if(!(e&1))return Ze(t,me()),null;var n=_a(t,e);if(t.tag!==0&&n===2){var r=Tu(t);r!==0&&(e=r,n=nc(t,r))}if(n===1)throw n=Ei,cr(t,0),bn(t,e),Ze(t,me()),n;if(n===6)throw Error(T(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zn(t,Ke,Qt),Ze(t,me()),null}function gd(t,e){var n=q;q|=1;try{return t(e)}finally{q=n,q===0&&(us=me()+500,Wa&&Hn())}}function vr(t){En!==null&&En.tag===0&&!(q&6)&&es();var e=q;q|=1;var n=wt.transition,r=Z;try{if(wt.transition=null,Z=1,t)return t()}finally{Z=r,wt.transition=n,q=e,!(q&6)&&Hn()}}function md(){st=Kr.current,oe(Kr)}function cr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Zw(n)),_e!==null)for(n=_e.return;n!==null;){var r=n;switch(Yc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&aa();break;case 3:as(),oe(Xe),oe(Fe),id();break;case 5:sd(r);break;case 4:as();break;case 13:oe(de);break;case 19:oe(de);break;case 10:ed(r.type._context);break;case 22:case 23:md()}n=n.return}if(Re=t,_e=t=Ln(t.current,null),je=st=e,ke=0,Ei=null,fd=Ja=yr=0,Ke=ei=null,ir!==null){for(e=0;e<ir.length;e++)if(n=ir[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ir=null}return t}function oy(t,e){do{var n=_e;try{if(Zc(),Fo.current=ma,ga){for(var r=he.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ga=!1}if(mr=0,Ce=Se=he=null,Qs=!1,xi=0,hd.current=null,n===null||n.return===null){ke=1,Ei=e,_e=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=je,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=Wh(o);if(p!==null){p.flags&=-257,Vh(p,o,a,i,e),p.mode&1&&Hh(i,u,e),e=p,l=u;var f=e.updateQueue;if(f===null){var m=new Set;m.add(l),e.updateQueue=m}else f.add(l);break e}else{if(!(e&1)){Hh(i,u,e),yd();break e}l=Error(T(426))}}else if(le&&a.mode&1){var w=Wh(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Vh(w,o,a,i,e),Xc(ls(l,a));break e}}i=l=ls(l,a),ke!==4&&(ke=2),ei===null?ei=[i]:ei.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=Hm(i,l,e);Mh(i,g);break e;case 1:a=l;var y=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(In===null||!In.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=Wm(i,a,e);Mh(i,_);break e}}i=i.return}while(i!==null)}uy(n)}catch(x){e=x,_e===n&&n!==null&&(_e=n=n.return);continue}break}while(!0)}function ay(){var t=ya.current;return ya.current=ma,t===null?ma:t}function yd(){(ke===0||ke===3||ke===2)&&(ke=4),Re===null||!(yr&268435455)&&!(Ja&268435455)||bn(Re,je)}function _a(t,e){var n=q;q|=2;var r=ay();(Re!==t||je!==e)&&(Qt=null,cr(t,e));do try{k_();break}catch(s){oy(t,s)}while(!0);if(Zc(),q=n,ya.current=r,_e!==null)throw Error(T(261));return Re=null,je=0,ke}function k_(){for(;_e!==null;)ly(_e)}function E_(){for(;_e!==null&&!Y0();)ly(_e)}function ly(t){var e=dy(t.alternate,t,st);t.memoizedProps=t.pendingProps,e===null?uy(t):_e=e,hd.current=null}function uy(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=v_(n,e),n!==null){n.flags&=32767,_e=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ke=6,_e=null;return}}else if(n=y_(n,e,st),n!==null){_e=n;return}if(e=e.sibling,e!==null){_e=e;return}_e=e=t}while(e!==null);ke===0&&(ke=5)}function Zn(t,e,n){var r=Z,s=wt.transition;try{wt.transition=null,Z=1,C_(t,e,n,r)}finally{wt.transition=s,Z=r}return null}function C_(t,e,n,r){do es();while(En!==null);if(q&6)throw Error(T(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(T(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(ow(t,i),t===Re&&(_e=Re=null,je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fo||(fo=!0,hy(ta,function(){return es(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=wt.transition,wt.transition=null;var o=Z;Z=1;var a=q;q|=4,hd.current=null,__(t,n),ry(n,t),qw(Iu),ra=!!Nu,Iu=Nu=null,t.current=n,b_(n),X0(),q=a,Z=o,wt.transition=i}else t.current=n;if(fo&&(fo=!1,En=t,wa=s),i=t.pendingLanes,i===0&&(In=null),ew(n.stateNode),Ze(t,me()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(va)throw va=!1,t=ec,ec=null,t;return wa&1&&t.tag!==0&&es(),i=t.pendingLanes,i&1?t===tc?ti++:(ti=0,tc=t):ti=0,Hn(),null}function es(){if(En!==null){var t=Hg(wa),e=wt.transition,n=Z;try{if(wt.transition=null,Z=16>t?16:t,En===null)var r=!1;else{if(t=En,En=null,wa=0,q&6)throw Error(T(331));var s=q;for(q|=4,j=t.current;j!==null;){var i=j,o=i.child;if(j.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(j=u;j!==null;){var c=j;switch(c.tag){case 0:case 11:case 15:Zs(8,c,i)}var d=c.child;if(d!==null)d.return=c,j=d;else for(;j!==null;){c=j;var h=c.sibling,p=c.return;if(ey(c),c===u){j=null;break}if(h!==null){h.return=p,j=h;break}j=p}}}var f=i.alternate;if(f!==null){var m=f.child;if(m!==null){f.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}j=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,j=o;else e:for(;j!==null;){if(i=j,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Zs(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,j=g;break e}j=i.return}}var y=t.current;for(j=y;j!==null;){o=j;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,j=v;else e:for(o=y;j!==null;){if(a=j,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ka(9,a)}}catch(x){ge(a,a.return,x)}if(a===o){j=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,j=_;break e}j=a.return}}if(q=s,Hn(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Fa,t)}catch{}r=!0}return r}finally{Z=n,wt.transition=e}}return!1}function sf(t,e,n){e=ls(n,e),e=Hm(t,e,1),t=Nn(t,e,1),e=ze(),t!==null&&($i(t,1,e),Ze(t,e))}function ge(t,e,n){if(t.tag===3)sf(t,t,n);else for(;e!==null;){if(e.tag===3){sf(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(In===null||!In.has(r))){t=ls(n,t),t=Wm(e,t,1),e=Nn(e,t,1),t=ze(),e!==null&&($i(e,1,t),Ze(e,t));break}}e=e.return}}function R_(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ze(),t.pingedLanes|=t.suspendedLanes&n,Re===t&&(je&n)===n&&(ke===4||ke===3&&(je&130023424)===je&&500>me()-pd?cr(t,0):fd|=n),Ze(t,e)}function cy(t,e){e===0&&(t.mode&1?(e=no,no<<=1,!(no&130023424)&&(no=4194304)):e=1);var n=ze();t=un(t,e),t!==null&&($i(t,e,n),Ze(t,n))}function T_(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),cy(t,n)}function O_(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(T(314))}r!==null&&r.delete(e),cy(t,n)}var dy;dy=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Xe.current)Ge=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ge=!1,m_(t,e,n);Ge=!!(t.flags&131072)}else Ge=!1,le&&e.flags&1048576&&gm(e,ca,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Bo(t,e),t=e.pendingProps;var s=ss(e,Fe.current);Zr(e,n),s=ad(null,e,r,t,s,n);var i=ld();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qe(r)?(i=!0,la(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,nd(e),s.updater=qa,e.stateNode=s,s._reactInternals=e,Hu(e,r,t,n),e=qu(null,e,r,!0,i,n)):(e.tag=0,le&&i&&Gc(e),Be(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Bo(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=A_(r),t=Et(r,t),s){case 0:e=Vu(null,e,r,t,n);break e;case 1:e=Jh(null,e,r,t,n);break e;case 11:e=qh(null,e,r,t,n);break e;case 14:e=Kh(null,e,r,Et(r.type,t),n);break e}throw Error(T(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Et(r,s),Vu(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Et(r,s),Jh(t,e,r,s,n);case 3:e:{if(Jm(e),t===null)throw Error(T(387));r=e.pendingProps,i=e.memoizedState,s=i.element,bm(t,e),fa(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ls(Error(T(423)),e),e=Gh(t,e,r,n,s);break e}else if(r!==s){s=ls(Error(T(424)),e),e=Gh(t,e,r,n,s);break e}else for(at=jn(e.stateNode.containerInfo.firstChild),lt=e,le=!0,Ot=null,n=wm(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(is(),r===s){e=cn(t,e,n);break e}Be(t,e,r,n)}e=e.child}return e;case 5:return xm(e),t===null&&Uu(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Du(r,s)?o=null:i!==null&&Du(r,i)&&(e.flags|=32),Km(t,e),Be(t,e,o,n),e.child;case 6:return t===null&&Uu(e),null;case 13:return Gm(t,e,n);case 4:return rd(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=os(e,null,r,n):Be(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Et(r,s),qh(t,e,r,s,n);case 7:return Be(t,e,e.pendingProps,n),e.child;case 8:return Be(t,e,e.pendingProps.children,n),e.child;case 12:return Be(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ne(da,r._currentValue),r._currentValue=o,i!==null)if(jt(i.value,o)){if(i.children===s.children&&!Xe.current){e=cn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=sn(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Bu(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(T(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Bu(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Be(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Zr(e,n),s=_t(s),r=r(s),e.flags|=1,Be(t,e,r,n),e.child;case 14:return r=e.type,s=Et(r,e.pendingProps),s=Et(r.type,s),Kh(t,e,r,s,n);case 15:return Vm(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Et(r,s),Bo(t,e),e.tag=1,Qe(r)?(t=!0,la(e)):t=!1,Zr(e,n),zm(e,r,s),Hu(e,r,s,n),qu(null,e,r,!0,t,n);case 19:return Ym(t,e,n);case 22:return qm(t,e,n)}throw Error(T(156,e.tag))};function hy(t,e){return Fg(t,e)}function P_(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yt(t,e,n,r){return new P_(t,e,n,r)}function vd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function A_(t){if(typeof t=="function")return vd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Mc)return 11;if(t===$c)return 14}return 2}function Ln(t,e){var n=t.alternate;return n===null?(n=yt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Wo(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")vd(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Mr:return dr(n.children,s,i,e);case Lc:o=8,s|=8;break;case fu:return t=yt(12,n,e,s|2),t.elementType=fu,t.lanes=i,t;case pu:return t=yt(13,n,e,s),t.elementType=pu,t.lanes=i,t;case gu:return t=yt(19,n,e,s),t.elementType=gu,t.lanes=i,t;case xg:return Ga(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _g:o=10;break e;case bg:o=9;break e;case Mc:o=11;break e;case $c:o=14;break e;case yn:o=16,r=null;break e}throw Error(T(130,t==null?t:typeof t,""))}return e=yt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function dr(t,e,n,r){return t=yt(7,t,r,e),t.lanes=n,t}function Ga(t,e,n,r){return t=yt(22,t,r,e),t.elementType=xg,t.lanes=n,t.stateNode={isHidden:!1},t}function Fl(t,e,n){return t=yt(6,t,null,e),t.lanes=n,t}function Ul(t,e,n){return e=yt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function j_(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_l(0),this.expirationTimes=_l(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_l(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function wd(t,e,n,r,s,i,o,a,l){return t=new j_(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=yt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},nd(i),t}function N_(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function fy(t){if(!t)return Fn;t=t._reactInternals;e:{if(Sr(t)!==t||t.tag!==1)throw Error(T(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(T(171))}if(t.tag===1){var n=t.type;if(Qe(n))return fm(t,n,e)}return e}function py(t,e,n,r,s,i,o,a,l){return t=wd(n,r,!0,t,s,i,o,a,l),t.context=fy(null),n=t.current,r=ze(),s=Dn(n),i=sn(r,s),i.callback=e??null,Nn(n,i,s),t.current.lanes=s,$i(t,s,r),Ze(t,r),t}function Ya(t,e,n,r){var s=e.current,i=ze(),o=Dn(s);return n=fy(n),e.context===null?e.context=n:e.pendingContext=n,e=sn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Nn(s,e,o),t!==null&&(At(t,s,o,i),$o(t,s,o)),o}function ba(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function of(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function _d(t,e){of(t,e),(t=t.alternate)&&of(t,e)}function I_(){return null}var gy=typeof reportError=="function"?reportError:function(t){console.error(t)};function bd(t){this._internalRoot=t}Xa.prototype.render=bd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(T(409));Ya(t,e,null,null)};Xa.prototype.unmount=bd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;vr(function(){Ya(null,t,null,null)}),e[ln]=null}};function Xa(t){this._internalRoot=t}Xa.prototype.unstable_scheduleHydration=function(t){if(t){var e=qg();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_n.length&&e!==0&&e<_n[n].priority;n++);_n.splice(n,0,t),n===0&&Jg(t)}};function xd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function af(){}function D_(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=ba(o);i.call(u)}}var o=py(e,r,t,0,null,!1,!1,"",af);return t._reactRootContainer=o,t[ln]=o.current,yi(t.nodeType===8?t.parentNode:t),vr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=ba(l);a.call(u)}}var l=wd(t,0,!1,null,null,!1,!1,"",af);return t._reactRootContainer=l,t[ln]=l.current,yi(t.nodeType===8?t.parentNode:t),vr(function(){Ya(e,l,n,r)}),l}function Za(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=ba(o);a.call(l)}}Ya(e,o,t,s)}else o=D_(n,e,t,s,r);return ba(o)}Wg=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=$s(e.pendingLanes);n!==0&&(Bc(e,n|1),Ze(e,me()),!(q&6)&&(us=me()+500,Hn()))}break;case 13:vr(function(){var r=un(t,1);if(r!==null){var s=ze();At(r,t,1,s)}}),_d(t,1)}};zc=function(t){if(t.tag===13){var e=un(t,134217728);if(e!==null){var n=ze();At(e,t,134217728,n)}_d(t,134217728)}};Vg=function(t){if(t.tag===13){var e=Dn(t),n=un(t,e);if(n!==null){var r=ze();At(n,t,e,r)}_d(t,e)}};qg=function(){return Z};Kg=function(t,e){var n=Z;try{return Z=t,e()}finally{Z=n}};Eu=function(t,e,n){switch(e){case"input":if(vu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Ha(r);if(!s)throw Error(T(90));kg(r),vu(r,s)}}}break;case"textarea":Cg(t,n);break;case"select":e=n.value,e!=null&&Gr(t,!!n.multiple,e,!1)}};Ng=gd;Ig=vr;var L_={usingClientEntryPoint:!1,Events:[Ui,Br,Ha,Ag,jg,gd]},Ts={findFiberByHostInstance:sr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},M_={bundleType:Ts.bundleType,version:Ts.version,rendererPackageName:Ts.rendererPackageName,rendererConfig:Ts.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Mg(t),t===null?null:t.stateNode},findFiberByHostInstance:Ts.findFiberByHostInstance||I_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var po=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!po.isDisabled&&po.supportsFiber)try{Fa=po.inject(M_),Kt=po}catch{}}ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L_;ct.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xd(e))throw Error(T(200));return N_(t,e,null,n)};ct.createRoot=function(t,e){if(!xd(t))throw Error(T(299));var n=!1,r="",s=gy;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=wd(t,1,!1,null,null,n,!1,r,s),t[ln]=e.current,yi(t.nodeType===8?t.parentNode:t),new bd(e)};ct.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(T(188)):(t=Object.keys(t).join(","),Error(T(268,t)));return t=Mg(e),t=t===null?null:t.stateNode,t};ct.flushSync=function(t){return vr(t)};ct.hydrate=function(t,e,n){if(!Qa(e))throw Error(T(200));return Za(null,t,e,!0,n)};ct.hydrateRoot=function(t,e,n){if(!xd(t))throw Error(T(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=gy;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=py(e,null,t,1,n??null,s,!1,i,o),t[ln]=e.current,yi(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Xa(e)};ct.render=function(t,e,n){if(!Qa(e))throw Error(T(200));return Za(null,t,e,!1,n)};ct.unmountComponentAtNode=function(t){if(!Qa(t))throw Error(T(40));return t._reactRootContainer?(vr(function(){Za(null,null,t,!1,function(){t._reactRootContainer=null,t[ln]=null})}),!0):!1};ct.unstable_batchedUpdates=gd;ct.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Qa(n))throw Error(T(200));if(t==null||t._reactInternals===void 0)throw Error(T(38));return Za(t,e,n,!1,r)};ct.version="18.3.1-next-f1338f8080-20240426";function my(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(my)}catch(t){console.error(t)}}my(),mg.exports=ct;var $_=mg.exports,lf=$_;du.createRoot=lf.createRoot,du.hydrateRoot=lf.hydrateRoot;/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var uf="popstate";function F_(t={}){function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return sc("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ci(s)}return B_(e,n,null,t)}function ue(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function U_(){return Math.random().toString(36).substring(2,10)}function cf(t,e){return{usr:t.state,key:t.key,idx:e}}function sc(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?gs(e):e,state:n,key:e&&e.key||r||U_()}}function Ci({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function gs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function B_(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a="POP",l=null,u=c();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function c(){return(o.state||{idx:null}).idx}function d(){a="POP";let w=c(),g=w==null?null:w-u;u=w,l&&l({action:a,location:m.location,delta:g})}function h(w,g){a="PUSH";let y=sc(m.location,w,g);u=c()+1;let v=cf(y,u),_=m.createHref(y);try{o.pushState(v,"",_)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;s.location.assign(_)}i&&l&&l({action:a,location:m.location,delta:1})}function p(w,g){a="REPLACE";let y=sc(m.location,w,g);u=c();let v=cf(y,u),_=m.createHref(y);o.replaceState(v,"",_),i&&l&&l({action:a,location:m.location,delta:0})}function f(w){return z_(w)}let m={get action(){return a},get location(){return t(s,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(uf,d),l=w,()=>{s.removeEventListener(uf,d),l=null}},createHref(w){return e(s,w)},createURL:f,encodeLocation(w){let g=f(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:p,go(w){return o.go(w)}};return m}function z_(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ue(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Ci(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function yy(t,e,n="/"){return H_(t,e,n,!1)}function H_(t,e,n,r){let s=typeof e=="string"?gs(e):e,i=dn(s.pathname||"/",n);if(i==null)return null;let o=vy(t);W_(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=tb(i);a=Z_(o[l],u,r)}return a}function vy(t,e=[],n=[],r="",s=!1){let i=(o,a,l=s,u)=>{let c={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(r)&&l)return;ue(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let d=on([r,c.relativePath]),h=n.concat(c);o.children&&o.children.length>0&&(ue(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),vy(o.children,e,h,d,l)),!(o.path==null&&!o.index)&&e.push({path:d,score:X_(d,o.index),routesMeta:h})};return t.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,a);else for(let u of wy(o.path))i(o,a,!0,u)}),e}function wy(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=wy(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function W_(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Q_(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var V_=/^:[\w-]+$/,q_=3,K_=2,J_=1,G_=10,Y_=-2,df=t=>t==="*";function X_(t,e){let n=t.split("/"),r=n.length;return n.some(df)&&(r+=Y_),e&&(r+=K_),n.filter(s=>!df(s)).reduce((s,i)=>s+(V_.test(i)?q_:i===""?J_:G_),r)}function Q_(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Z_(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=i==="/"?e:e.slice(i.length)||"/",d=xa({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=xa({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:on([i,d.pathname]),pathnameBase:ib(on([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=on([i,d.pathnameBase]))}return o}function xa(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=eb(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:d},h)=>{if(c==="*"){let f=a[h]||"";o=i.slice(0,i.length-f.length).replace(/(.)\/+$/,"$1")}const p=a[h];return d&&!p?u[c]=void 0:u[c]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function eb(t,e=!1,n=!0){xt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function tb(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function dn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var _y=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nb=t=>_y.test(t);function rb(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?gs(t):t,i;if(n)if(nb(n))i=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),xt(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?i=hf(n.substring(1),"/"):i=hf(n,e)}else i=e;return{pathname:i,search:ob(r),hash:ab(s)}}function hf(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Bl(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sb(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Sd(t){let e=sb(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function kd(t,e,n,r=!1){let s;typeof t=="string"?s=gs(t):(s={...t},ue(!s.pathname||!s.pathname.includes("?"),Bl("?","pathname","search",s)),ue(!s.pathname||!s.pathname.includes("#"),Bl("#","pathname","hash",s)),ue(!s.search||!s.search.includes("#"),Bl("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=rb(s,a),u=o&&o!=="/"&&o.endsWith("/"),c=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var on=t=>t.join("/").replace(/\/\/+/g,"/"),ib=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ob=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ab=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,lb=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function ub(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function cb(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var by=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function xy(t,e){let n=t;if(typeof n!="string"||!_y.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,s=!1;if(by)try{let i=new URL(window.location.href),o=n.startsWith("//")?new URL(i.protocol+n):new URL(n),a=dn(o.pathname,e);o.origin===i.origin&&a!=null?n=a+o.search+o.hash:s=!0}catch{xt(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:s,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Sy=["POST","PUT","PATCH","DELETE"];new Set(Sy);var db=["GET",...Sy];new Set(db);var ms=S.createContext(null);ms.displayName="DataRouter";var el=S.createContext(null);el.displayName="DataRouterState";var hb=S.createContext(!1),ky=S.createContext({isTransitioning:!1});ky.displayName="ViewTransition";var fb=S.createContext(new Map);fb.displayName="Fetchers";var pb=S.createContext(null);pb.displayName="Await";var ht=S.createContext(null);ht.displayName="Navigation";var zi=S.createContext(null);zi.displayName="Location";var It=S.createContext({outlet:null,matches:[],isDataRoute:!1});It.displayName="Route";var Ed=S.createContext(null);Ed.displayName="RouteError";var Ey="REACT_ROUTER_ERROR",gb="REDIRECT",mb="ROUTE_ERROR_RESPONSE";function yb(t){if(t.startsWith(`${Ey}:${gb}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function vb(t){if(t.startsWith(`${Ey}:${mb}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new lb(e.status,e.statusText,e.data)}catch{}}function wb(t,{relative:e}={}){ue(ys(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext(ht),{hash:s,pathname:i,search:o}=Hi(t,{relative:e}),a=i;return n!=="/"&&(a=i==="/"?n:on([n,i])),r.createHref({pathname:a,search:o,hash:s})}function ys(){return S.useContext(zi)!=null}function Wn(){return ue(ys(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(zi).location}var Cy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ry(t){S.useContext(ht).static||S.useLayoutEffect(t)}function Vn(){let{isDataRoute:t}=S.useContext(It);return t?jb():_b()}function _b(){ue(ys(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(ms),{basename:e,navigator:n}=S.useContext(ht),{matches:r}=S.useContext(It),{pathname:s}=Wn(),i=JSON.stringify(Sd(r)),o=S.useRef(!1);return Ry(()=>{o.current=!0}),S.useCallback((l,u={})=>{if(xt(o.current,Cy),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=kd(l,JSON.parse(i),s,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:on([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,i,s,t])}S.createContext(null);function Ty(){let{matches:t}=S.useContext(It),e=t[t.length-1];return e?e.params:{}}function Hi(t,{relative:e}={}){let{matches:n}=S.useContext(It),{pathname:r}=Wn(),s=JSON.stringify(Sd(n));return S.useMemo(()=>kd(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function bb(t,e){return Oy(t,e)}function Oy(t,e,n,r,s){var y;ue(ys(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=S.useContext(ht),{matches:o}=S.useContext(It),a=o[o.length-1],l=a?a.params:{},u=a?a.pathname:"/",c=a?a.pathnameBase:"/",d=a&&a.route;{let v=d&&d.path||"";Ay(u,!d||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let h=Wn(),p;if(e){let v=typeof e=="string"?gs(e):e;ue(c==="/"||((y=v.pathname)==null?void 0:y.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${v.pathname}" was given in the \`location\` prop.`),p=v}else p=h;let f=p.pathname||"/",m=f;if(c!=="/"){let v=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let w=yy(t,{pathname:m});xt(d||w!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),xt(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=Cb(w&&w.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:on([c,i.encodeLocation?i.encodeLocation(v.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:on([c,i.encodeLocation?i.encodeLocation(v.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:v.pathnameBase])})),o,n,r,s);return e&&g?S.createElement(zi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},g):g}function xb(){let t=Ab(),e=ub(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:i},"ErrorBoundary")," or"," ",S.createElement("code",{style:i},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:s},n):null,o)}var Sb=S.createElement(xb,null),Py=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=vb(t.digest);n&&(t=n)}let e=t!==void 0?S.createElement(It.Provider,{value:this.props.routeContext},S.createElement(Ed.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?S.createElement(kb,{error:t},e):e}};Py.contextType=hb;var zl=new WeakMap;function kb({children:t,error:e}){let{basename:n}=S.useContext(ht);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=yb(e.digest);if(r){let s=zl.get(e);if(s)throw s;let i=xy(r.location,n);if(by&&!zl.get(e))if(i.isExternal||r.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:r.replace}));throw zl.set(e,o),o}return S.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return t}function Eb({routeContext:t,match:e,children:n}){let r=S.useContext(ms);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(It.Provider,{value:t},n)}function Cb(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let c=i.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);ue(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let a=!1,l=-1;if(n)for(let c=0;c<i.length;c++){let d=i[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:h,errors:p}=n,f=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!p||p[d.route.id]===void 0);if(d.route.lazy||f){a=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}let u=n&&r?(c,d)=>{var h,p;r(c,{location:n.location,params:((p=(h=n.matches)==null?void 0:h[0])==null?void 0:p.params)??{},unstable_pattern:cb(n.matches),errorInfo:d})}:void 0;return i.reduceRight((c,d,h)=>{let p,f=!1,m=null,w=null;n&&(p=o&&d.route.id?o[d.route.id]:void 0,m=d.route.errorElement||Sb,a&&(l<0&&h===0?(Ay("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,w=null):l===h&&(f=!0,w=d.route.hydrateFallbackElement||null)));let g=e.concat(i.slice(0,h+1)),y=()=>{let v;return p?v=m:f?v=w:d.route.Component?v=S.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=c,S.createElement(Eb,{match:d,routeContext:{outlet:c,matches:g,isDataRoute:n!=null},children:v})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?S.createElement(Py,{location:n.location,revalidation:n.revalidation,component:m,error:p,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0},onError:u}):y()},null)}function Cd(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Rb(t){let e=S.useContext(ms);return ue(e,Cd(t)),e}function Tb(t){let e=S.useContext(el);return ue(e,Cd(t)),e}function Ob(t){let e=S.useContext(It);return ue(e,Cd(t)),e}function Rd(t){let e=Ob(t),n=e.matches[e.matches.length-1];return ue(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Pb(){return Rd("useRouteId")}function Ab(){var r;let t=S.useContext(Ed),e=Tb("useRouteError"),n=Rd("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function jb(){let{router:t}=Rb("useNavigate"),e=Rd("useNavigate"),n=S.useRef(!1);return Ry(()=>{n.current=!0}),S.useCallback(async(s,i={})=>{xt(n.current,Cy),n.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var ff={};function Ay(t,e,n){!e&&!ff[t]&&(ff[t]=!0,xt(!1,n))}S.memo(Nb);function Nb({routes:t,future:e,state:n,onError:r}){return Oy(t,void 0,n,r,e)}function jy({to:t,replace:e,state:n,relative:r}){ue(ys(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=S.useContext(ht);xt(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=S.useContext(It),{pathname:o}=Wn(),a=Vn(),l=kd(t,Sd(i),o,r==="path"),u=JSON.stringify(l);return S.useEffect(()=>{a(JSON.parse(u),{replace:e,state:n,relative:r})},[a,u,r,e,n]),null}function Bt(t){ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ib({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1,unstable_useTransitions:o}){ue(!ys(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),l=S.useMemo(()=>({basename:a,navigator:s,static:i,unstable_useTransitions:o,future:{}}),[a,s,i,o]);typeof n=="string"&&(n=gs(n));let{pathname:u="/",search:c="",hash:d="",state:h=null,key:p="default"}=n,f=S.useMemo(()=>{let m=dn(u,a);return m==null?null:{location:{pathname:m,search:c,hash:d,state:h,key:p},navigationType:r}},[a,u,c,d,h,p,r]);return xt(f!=null,`<Router basename="${a}"> is not able to match the URL "${u}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),f==null?null:S.createElement(ht.Provider,{value:l},S.createElement(zi.Provider,{children:e,value:f}))}function Db({children:t,location:e}){return bb(ic(t),e)}function ic(t,e=[]){let n=[];return S.Children.forEach(t,(r,s)=>{if(!S.isValidElement(r))return;let i=[...e,s];if(r.type===S.Fragment){n.push.apply(n,ic(r.props.children,i));return}ue(r.type===Bt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ue(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ic(r.props.children,i)),n.push(o)}),n}var Vo="get",qo="application/x-www-form-urlencoded";function tl(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function Lb(t){return tl(t)&&t.tagName.toLowerCase()==="button"}function Mb(t){return tl(t)&&t.tagName.toLowerCase()==="form"}function $b(t){return tl(t)&&t.tagName.toLowerCase()==="input"}function Fb(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ub(t,e){return t.button===0&&(!e||e==="_self")&&!Fb(t)}var go=null;function Bb(){if(go===null)try{new FormData(document.createElement("form"),0),go=!1}catch{go=!0}return go}var zb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hl(t){return t!=null&&!zb.has(t)?(xt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qo}"`),null):t}function Hb(t,e){let n,r,s,i,o;if(Mb(t)){let a=t.getAttribute("action");r=a?dn(a,e):null,n=t.getAttribute("method")||Vo,s=Hl(t.getAttribute("enctype"))||qo,i=new FormData(t)}else if(Lb(t)||$b(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?dn(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||Vo,s=Hl(t.getAttribute("formenctype"))||Hl(a.getAttribute("enctype"))||qo,i=new FormData(a,t),!Bb()){let{name:u,type:c,value:d}=t;if(c==="image"){let h=u?`${u}.`:"";i.append(`${h}x`,"0"),i.append(`${h}y`,"0")}else u&&i.append(u,d)}}else{if(tl(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Vo,r=null,s=qo,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Td(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Wb(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&dn(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Vb(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qb(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Kb(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await Vb(i,n);return o.links?o.links():[]}return[]}));return Xb(r.flat(1).filter(qb).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function pf(t,e,n,r,s,i){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var c;return n[u].pathname!==l.pathname||((c=n[u].route.path)==null?void 0:c.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return i==="assets"?e.filter((l,u)=>o(l,u)||a(l,u)):i==="data"?e.filter((l,u)=>{var d;let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function Jb(t,e,{includeHydrateFallback:n}={}){return Gb(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function Gb(t){return[...new Set(t)]}function Yb(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Xb(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(Yb(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function Ny(){let t=S.useContext(ms);return Td(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Qb(){let t=S.useContext(el);return Td(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Od=S.createContext(void 0);Od.displayName="FrameworkContext";function Iy(){let t=S.useContext(Od);return Td(t,"You must render this element inside a <HydratedRouter> element"),t}function Zb(t,e){let n=S.useContext(Od),[r,s]=S.useState(!1),[i,o]=S.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:d}=e,h=S.useRef(null);S.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let m=g=>{g.forEach(y=>{o(y.isIntersecting)})},w=new IntersectionObserver(m,{threshold:.5});return h.current&&w.observe(h.current),()=>{w.disconnect()}}},[t]),S.useEffect(()=>{if(r){let m=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(m)}}},[r]);let p=()=>{s(!0)},f=()=>{s(!1),o(!1)};return n?t!=="intent"?[i,h,{}]:[i,h,{onFocus:Os(a,p),onBlur:Os(l,f),onMouseEnter:Os(u,p),onMouseLeave:Os(c,f),onTouchStart:Os(d,p)}]:[!1,h,{}]}function Os(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function ex({page:t,...e}){let{router:n}=Ny(),r=S.useMemo(()=>yy(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?S.createElement(nx,{page:t,matches:r,...e}):null}function tx(t){let{manifest:e,routeModules:n}=Iy(),[r,s]=S.useState([]);return S.useEffect(()=>{let i=!1;return Kb(t,e,n).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,n]),r}function nx({page:t,matches:e,...n}){let r=Wn(),{manifest:s,routeModules:i}=Iy(),{basename:o}=Ny(),{loaderData:a,matches:l}=Qb(),u=S.useMemo(()=>pf(t,e,l,s,r,"data"),[t,e,l,s,r]),c=S.useMemo(()=>pf(t,e,l,s,r,"assets"),[t,e,l,s,r]),d=S.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let f=new Set,m=!1;if(e.forEach(g=>{var v;let y=s.routes[g.route.id];!y||!y.hasLoader||(!u.some(_=>_.route.id===g.route.id)&&g.route.id in a&&((v=i[g.route.id])!=null&&v.shouldRevalidate)||y.hasClientLoader?m=!0:f.add(g.route.id))}),f.size===0)return[];let w=Wb(t,o,"data");return m&&f.size>0&&w.searchParams.set("_routes",e.filter(g=>f.has(g.route.id)).map(g=>g.route.id).join(",")),[w.pathname+w.search]},[o,a,r,s,u,e,t,i]),h=S.useMemo(()=>Jb(c,s),[c,s]),p=tx(c);return S.createElement(S.Fragment,null,d.map(f=>S.createElement("link",{key:f,rel:"prefetch",as:"fetch",href:f,...n})),h.map(f=>S.createElement("link",{key:f,rel:"modulepreload",href:f,...n})),p.map(({key:f,link:m})=>S.createElement("link",{key:f,nonce:n.nonce,...m})))}function rx(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var sx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sx&&(window.__reactRouterVersion="7.11.0")}catch{}function ix({basename:t,children:e,unstable_useTransitions:n,window:r}){let s=S.useRef();s.current==null&&(s.current=F_({window:r,v5Compat:!0}));let i=s.current,[o,a]=S.useState({action:i.action,location:i.location}),l=S.useCallback(u=>{n===!1?a(u):S.startTransition(()=>a(u))},[n]);return S.useLayoutEffect(()=>i.listen(l),[i,l]),S.createElement(Ib,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i,unstable_useTransitions:n})}var Dy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ly=S.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d,unstable_defaultShouldRevalidate:h,...p},f){let{basename:m,unstable_useTransitions:w}=S.useContext(ht),g=typeof u=="string"&&Dy.test(u),y=xy(u,m);u=y.to;let v=wb(u,{relative:s}),[_,x,k]=Zb(r,p),E=ux(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:s,viewTransition:d,unstable_defaultShouldRevalidate:h,unstable_useTransitions:w});function R(P){e&&e(P),P.defaultPrevented||E(P)}let A=S.createElement("a",{...p,...k,href:y.absoluteURL||v,onClick:y.isExternal||i?e:R,ref:rx(f,x),target:l,"data-discover":!g&&n==="render"?"true":void 0});return _&&!g?S.createElement(S.Fragment,null,A,S.createElement(ex,{page:v})):A});Ly.displayName="Link";var ox=S.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:a,children:l,...u},c){let d=Hi(o,{relative:u.relative}),h=Wn(),p=S.useContext(el),{navigator:f,basename:m}=S.useContext(ht),w=p!=null&&px(d)&&a===!0,g=f.encodeLocation?f.encodeLocation(d).pathname:d.pathname,y=h.pathname,v=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(y=y.toLowerCase(),v=v?v.toLowerCase():null,g=g.toLowerCase()),v&&m&&(v=dn(v,m)||v);const _=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let x=y===g||!s&&y.startsWith(g)&&y.charAt(_)==="/",k=v!=null&&(v===g||!s&&v.startsWith(g)&&v.charAt(g.length)==="/"),E={isActive:x,isPending:k,isTransitioning:w},R=x?e:void 0,A;typeof r=="function"?A=r(E):A=[r,x?"active":null,k?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let P=typeof i=="function"?i(E):i;return S.createElement(Ly,{...u,"aria-current":R,className:A,ref:c,style:P,to:o,viewTransition:a},typeof l=="function"?l(E):l)});ox.displayName="NavLink";var ax=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:o=Vo,action:a,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:d,unstable_defaultShouldRevalidate:h,...p},f)=>{let{unstable_useTransitions:m}=S.useContext(ht),w=hx(),g=fx(a,{relative:u}),y=o.toLowerCase()==="get"?"get":"post",v=typeof a=="string"&&Dy.test(a),_=x=>{if(l&&l(x),x.defaultPrevented)return;x.preventDefault();let k=x.nativeEvent.submitter,E=(k==null?void 0:k.getAttribute("formmethod"))||o,R=()=>w(k||x.currentTarget,{fetcherKey:e,method:E,navigate:n,replace:s,state:i,relative:u,preventScrollReset:c,viewTransition:d,unstable_defaultShouldRevalidate:h});m&&n!==!1?S.startTransition(()=>R()):R()};return S.createElement("form",{ref:f,method:y,action:g,onSubmit:r?l:_,...p,"data-discover":!v&&t==="render"?"true":void 0})});ax.displayName="Form";function lx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function My(t){let e=S.useContext(ms);return ue(e,lx(t)),e}function ux(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:a,unstable_useTransitions:l}={}){let u=Vn(),c=Wn(),d=Hi(t,{relative:i});return S.useCallback(h=>{if(Ub(h,e)){h.preventDefault();let p=n!==void 0?n:Ci(c)===Ci(d),f=()=>u(t,{replace:p,state:r,preventScrollReset:s,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:a});l?S.startTransition(()=>f()):f()}},[c,u,d,n,r,e,t,s,i,o,a,l])}var cx=0,dx=()=>`__${String(++cx)}__`;function hx(){let{router:t}=My("useSubmit"),{basename:e}=S.useContext(ht),n=Pb(),r=t.fetch,s=t.navigate;return S.useCallback(async(i,o={})=>{let{action:a,method:l,encType:u,formData:c,body:d}=Hb(i,e);if(o.navigate===!1){let h=o.fetcherKey||dx();await r(h,n,o.action||a,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:c,body:d,formMethod:o.method||l,formEncType:o.encType||u,flushSync:o.flushSync})}else await s(o.action||a,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:c,body:d,formMethod:o.method||l,formEncType:o.encType||u,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,s,e,n])}function fx(t,{relative:e}={}){let{basename:n}=S.useContext(ht),r=S.useContext(It);ue(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...Hi(t||".",{relative:e})},o=Wn();if(t==null){i.search=o.search;let a=new URLSearchParams(i.search),l=a.getAll("index");if(l.some(c=>c==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let c=a.toString();i.search=c?`?${c}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:on([n,i.pathname])),Ci(i)}function px(t,{relative:e}={}){let n=S.useContext(ky);ue(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=My("useViewTransitionState"),s=Hi(t,{relative:e});if(!n.isTransitioning)return!1;let i=dn(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=dn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return xa(s.pathname,o)!=null||xa(s.pathname,i)!=null}function nl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function gx(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}const mx=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Pd extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class yx extends Pd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class gf extends Pd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class mf extends Pd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var oc;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(oc||(oc={}));class vx{constructor(e,{headers:n={},customFetch:r,region:s=oc.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=mx(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return gx(this,arguments,void 0,function*(n,r={}){var s;let i,o;try{const{headers:a,method:l,body:u,signal:c,timeout:d}=r;let h={},{region:p}=r;p||(p=this.region);const f=new URL(`${this.url}/${n}`);p&&p!=="any"&&(h["x-region"]=p,f.searchParams.set("forceFunctionRegion",p));let m;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=u):typeof u=="string"?(h["Content-Type"]="text/plain",m=u):typeof FormData<"u"&&u instanceof FormData?m=u:(h["Content-Type"]="application/json",m=JSON.stringify(u)):m=u;let w=c;d&&(o=new AbortController,i=setTimeout(()=>o.abort(),d),c?(w=o.signal,c.addEventListener("abort",()=>o.abort())):w=o.signal);const g=yield this.fetch(f.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:m,signal:w}).catch(x=>{throw new yx(x)}),y=g.headers.get("x-relay-error");if(y&&y==="true")throw new gf(g);if(!g.ok)throw new mf(g);let v=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return v==="application/json"?_=yield g.json():v==="application/octet-stream"||v==="application/pdf"?_=yield g.blob():v==="text/event-stream"?_=g:v==="multipart/form-data"?_=yield g.formData():_=yield g.text(),{data:_,error:null,response:g}}catch(a){return{data:null,error:a,response:a instanceof mf||a instanceof gf?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var wx=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},_x=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,a=null,l=null,u=i.status,c=i.statusText;if(i.ok){var d,h;if(n.method!=="HEAD"){var p;const g=await i.text();g===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((p=n.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?a=g:a=JSON.parse(g))}const m=(d=n.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),w=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");m&&w&&w.length>1&&(l=parseInt(w[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,u=406,c="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var f;const m=await i.text();try{o=JSON.parse(m),Array.isArray(o)&&i.status===404&&(a=[],o=null,u=200,c="OK")}catch{i.status===404&&m===""?(u=204,c="No Content"):o={message:m}}if(o&&n.isMaybeSingle&&(!(o==null||(f=o.details)===null||f===void 0)&&f.includes("0 rows"))&&(o=null,u=200,c="OK"),o&&n.shouldThrowOnError)throw new wx(o)}return{error:o,data:a,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let a="";const l=i==null?void 0:i.cause;if(l){var u,c,d,h;const f=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",m=(c=l==null?void 0:l.code)!==null&&c!==void 0?c:"";a=`${(d=i==null?void 0:i.name)!==null&&d!==void 0?d:"FetchError"}: ${i==null?void 0:i.message}`,a+=`

Caused by: ${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"Error"}: ${f}`,m&&(a+=` (${m})`),l!=null&&l.stack&&(a+=`
${l.stack}`)}else{var p;a=(p=i==null?void 0:i.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},bx=class extends _x{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){var o;const a=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const yf=new RegExp("[,()]");var Nr=class extends bx{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&yf.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&yf.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},xx=class{constructor(t,{headers:e={},schema:n,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r}select(t,e){const{head:n=!1,count:r}=e??{},s=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new Nr({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const s="POST";if(e&&this.headers.append("Prefer",`count=${e}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const i=t.reduce((o,a)=>o.concat(Object.keys(a)),[]);if(i.length>0){const o=[...new Set(i)].map(a=>`"${a}"`);this.url.searchParams.set("columns",o.join(","))}}return new Nr({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var i;const o="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),r&&this.headers.append("Prefer",`count=${r}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(a.length>0){const l=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new Nr({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:e}={}){var n;const r="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new Nr({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Nr({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},Sx=class $y{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new xx(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new $y(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let u;r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(a="POST",u=n);const c=new Headers(this.headers);return i&&c.set("Prefer",`count=${i}`),new Nr({method:a,url:l,headers:c,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class kx{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Ex="2.89.0",Cx=`realtime-js/${Ex}`,Fy="1.0.0",Rx="2.0.0",vf=Fy,ac=1e4,Tx=1e3,Ox=100;var wn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(wn||(wn={}));var xe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(xe||(xe={}));var Tt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Tt||(Tt={}));var lc;(function(t){t.websocket="websocket"})(lc||(lc={}));var nr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(nr||(nr={}));class Px{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const s=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var n,r;const s=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,n,r){var s,i;const o=e.topic,a=(s=e.ref)!==null&&s!==void 0?s:"",l=(i=e.join_ref)!==null&&i!==void 0?i:"",u=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},d=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length+d.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let f=new DataView(p),m=0;f.setUint8(m++,this.KINDS.userBroadcastPush),f.setUint8(m++,l.length),f.setUint8(m++,a.length),f.setUint8(m++,o.length),f.setUint8(m++,u.length),f.setUint8(m++,d.length),f.setUint8(m++,n),Array.from(l,g=>f.setUint8(m++,g.charCodeAt(0))),Array.from(a,g=>f.setUint8(m++,g.charCodeAt(0))),Array.from(o,g=>f.setUint8(m++,g.charCodeAt(0))),Array.from(u,g=>f.setUint8(m++,g.charCodeAt(0))),Array.from(d,g=>f.setUint8(m++,g.charCodeAt(0)));var w=new Uint8Array(p.byteLength+r.byteLength);return w.set(new Uint8Array(p),0),w.set(new Uint8Array(r),p.byteLength),w.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[s,i,o,a,l]=r;return n({join_ref:s,ref:i,topic:o,event:a,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,s)}}_decodeUserBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(e.slice(l,l+s));l=l+s;const c=r.decode(e.slice(l,l+i));l=l+i;const d=r.decode(e.slice(l,l+o));l=l+o;const h=e.slice(l,e.byteLength),p=a===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,f={type:this.BROADCAST_EVENT,event:c,payload:p};return o>0&&(f.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:f}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class Uy{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var te;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(te||(te={}));const wf=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=Ax(o,t,e,s),i),{}):{}},Ax=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?By(i,o):uc(o)},By=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Dx(e,n)}switch(t){case te.bool:return jx(e);case te.float4:case te.float8:case te.int2:case te.int4:case te.int8:case te.numeric:case te.oid:return Nx(e);case te.json:case te.jsonb:return Ix(e);case te.timestamp:return Lx(e);case te.abstime:case te.date:case te.daterange:case te.int4range:case te.int8range:case te.money:case te.reltime:case te.text:case te.time:case te.timestamptz:case te.timetz:case te.tsrange:case te.tstzrange:return uc(e);default:return uc(e)}},uc=t=>t,jx=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Nx=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Ix=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},Dx=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>By(e,a))}return t},Lx=t=>typeof t=="string"?t.replace(" ","T"):t,zy=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Wl{constructor(e,n,r={},s=ac){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var _f;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(_f||(_f={}));class ni{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ni.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=ni.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ni.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=i[u];if(d){const h=c.map(w=>w.presence_ref),p=d.map(w=>w.presence_ref),f=c.filter(w=>p.indexOf(w.presence_ref)<0),m=d.filter(w=>h.indexOf(w.presence_ref)<0);f.length>0&&(a[u]=f),m.length>0&&(l[u]=m)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const d=e[a].map(p=>p.presence_ref),h=c.filter(p=>d.indexOf(p.presence_ref)<0);e[a].unshift(...h)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var bf;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(bf||(bf={}));var ri;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ri||(ri={}));var Zt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Zt||(Zt={}));class Jr{constructor(e,n={config:{}},r){var s,i;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=xe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Wl(this,Tt.join,this.params,this.timeout),this.rejoinTimer=new Uy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=xe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xe.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=xe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=xe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Tt.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new ni(this),this.broadcastEndpointURL=zy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==xe.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[ri.PRESENCE]&&this.bindings[ri.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(Zt.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(Zt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var f;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){e==null||e(Zt.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,w=(f=m==null?void 0:m.length)!==null&&f!==void 0?f:0,g=[];for(let y=0;y<w;y++){const v=m[y],{filter:{event:_,schema:x,table:k,filter:E}}=v,R=p&&p[y];if(R&&R.event===_&&Jr.isFilterValueEqual(R.schema,x)&&Jr.isFilterValueEqual(R.table,k)&&Jr.isFilterValueEqual(R.filter,E))g.push(Object.assign(Object.assign({},v),{id:R.id}));else{this.unsubscribe(),this.state=xe.errored,e==null||e(Zt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(Zt.SUBSCRIBED);return}}).receive("error",p=>{this.state=xe.errored,e==null||e(Zt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Zt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===xe.joined&&e===ri.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=xe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Tt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Wl(this,Tt.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=xe.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Wl(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Ox){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Tt;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var f,m,w;return((f=p.filter)===null||f===void 0?void 0:f.event)==="*"||((w=(m=p.filter)===null||m===void 0?void 0:m.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(p=>p.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var f,m,w,g,y,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const _=p.id,x=(f=p.filter)===null||f===void 0?void 0:f.event;return _&&((m=n.ids)===null||m===void 0?void 0:m.includes(_))&&(x==="*"||(x==null?void 0:x.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const _=(y=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return _==="*"||_===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const f=h.data,{schema:m,table:w,commit_timestamp:g,type:y,errors:v}=f;h=Object.assign(Object.assign({},{schema:m,table:w,commit_timestamp:g,eventType:y,new:{},old:{},errors:v}),this._getPayloadRecords(f))}p.callback(h,r)})}_isClosed(){return this.state===xe.closed}_isJoined(){return this.state===xe.joined}_isJoining(){return this.state===xe.joining}_isLeaving(){return this.state===xe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Jr.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Tt.close,{},e)}_onError(e){this._on(Tt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=wf(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=wf(e.columns,e.old_record)),n}}const Vl=()=>{},mo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Mx=[1e3,2e3,5e3,1e4],$x=1e4,Fx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ux{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ac,this.transport=null,this.heartbeatIntervalMs=mo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Vl,this.ref=0,this.reconnectTimer=null,this.vsn=vf,this.logger=Vl,this.conn=null,this.sendBuffer=[],this.serializer=new Px,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${lc.websocket}`,this.httpEndpoint=zy(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=kx.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case wn.connecting:return nr.Connecting;case wn.open:return nr.Open;case wn.closing:return nr.Closing;default:return nr.Closed}}isConnected(){return this.connectionState()===nr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Jr(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Tx,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},mo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===wn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===wn.open||this.conn.readyState===wn.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Tt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Fx],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:Cx};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(Tt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Uy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},mo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,a,l,u,c,d,h,p;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:ac,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:mo.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Vl,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:vf,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:f=>Mx[f-1]||$x,this.vsn){case Fy:this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(f,m)=>m(JSON.stringify(f)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:(f,m)=>m(JSON.parse(f));break;case Rx:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Ri=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Bx(t,e,n){const r=new URL(e,t);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function zx(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function Hx(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:o}){const a=Bx(t.baseUrl,r,s),l=await zx(t.auth),u=await e(a,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),c=await u.text(),d=(u.headers.get("content-type")||"").includes("application/json"),h=d&&c?JSON.parse(c):c;if(!u.ok){const p=d?h:void 0,f=p==null?void 0:p.error;throw new Ri((f==null?void 0:f.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:f==null?void 0:f.type,icebergCode:f==null?void 0:f.code,details:p})}return{status:u.status,headers:u.headers,data:h}}}}function yo(t){return t.join("")}var Wx=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:yo(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${yo(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${yo(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${yo(t.namespace)}`}),!0}catch(e){if(e instanceof Ri&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof Ri&&n.status===409)return;throw n}}};function Er(t){return t.join("")}var Vx=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Er(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Er(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Er(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Er(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Er(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Er(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Ri&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof Ri&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},qx=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=Hx({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new Wx(this.client,e),this.tableOps=new Vx(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},rl=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function ce(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Kx=class extends rl{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},cc=class extends rl{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Ad=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Jx=()=>Response,dc=t=>{if(Array.isArray(t))return t.map(n=>dc(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=dc(r)}),e},Gx=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Yx=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Ti(t){"@babel/helpers - typeof";return Ti=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ti(t)}function Xx(t,e){if(Ti(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ti(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qx(t){var e=Xx(t,"string");return Ti(e)=="symbol"?e:e+""}function Zx(t,e,n){return(e=Qx(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function L(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xf(Object(n),!0).forEach(function(r){Zx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const ql=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},eS=async(t,e,n)=>{t instanceof await Jx()&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{const s=t.status||500,i=(r==null?void 0:r.statusCode)||s+"";e(new Kx(ql(r),s,i))}).catch(r=>{e(new cc(ql(r),r))}):e(new cc(ql(t),t))},tS=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(Gx(r)?(s.headers=L({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),L(L({},s),n))};async function Wi(t,e,n,r,s,i){return new Promise((o,a)=>{t(n,tS(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>eS(l,a,r))})}async function Oi(t,e,n,r){return Wi(t,"GET",e,n,r)}async function Ct(t,e,n,r,s){return Wi(t,"POST",e,r,s,n)}async function hc(t,e,n,r,s){return Wi(t,"PUT",e,r,s,n)}async function nS(t,e,n,r){return Wi(t,"HEAD",e,L(L({},n),{},{noResolveJson:!0}),r)}async function jd(t,e,n,r,s){return Wi(t,"DELETE",e,r,s,n)}var rS=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ce(e))return{data:null,error:e};throw e}}};let Hy;Hy=Symbol.toStringTag;var sS=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Hy]="BlobDownloadBuilder",this.promise=null}asStream(){return new rS(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ce(e))return{data:null,error:e};throw e}}};const iS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Sf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var oS=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=Ad(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,r){var s=this;try{let i;const o=L(L({},Sf),r);let a=L(L({},s.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),r!=null&&r.headers&&(a=L(L({},a),r.headers));const u=s._removeEmptyFolders(e),c=s._getFinalPath(u),d=await(t=="PUT"?hc:Ct)(s.fetch,`${s.url}/object/${c}`,i,L({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(ce(i))return{data:null,error:i};throw i}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var s=this;const i=s._removeEmptyFolders(t),o=s._getFinalPath(i),a=new URL(s.url+`/object/upload/sign/${o}`);a.searchParams.set("token",e);try{let l;const u=L({upsert:Sf.upsert},r),c=L(L({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{data:{path:i,fullPath:(await hc(s.fetch,a.toString(),l,{headers:c})).Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(ce(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(t,e){var n=this;try{let r=n._getFinalPath(t);const s=L({},n.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const i=await Ct(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(n.url+i.url),a=o.searchParams.get("token");if(!a)throw new rl("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ce(r))return{data:null,error:r};throw r}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;try{return{data:await Ct(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ce(s))return{data:null,error:s};throw s}}async copy(t,e,n){var r=this;try{return{data:{path:(await Ct(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ce(s))return{data:null,error:s};throw s}}async createSignedUrl(t,e,n){var r=this;try{let s=r._getFinalPath(t),i=await Ct(r.fetch,`${r.url}/object/sign/${s}`,L({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${r.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ce(s))return{data:null,error:s};throw s}}async createSignedUrls(t,e,n){var r=this;try{const s=await Ct(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>L(L({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ce(s))return{data:null,error:s};throw s}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),s=r?`?${r}`:"",i=this._getFinalPath(t),o=()=>Oi(this.fetch,`${this.url}/${n}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new sS(o,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:dc(await Oi(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ce(r))return{data:null,error:r};throw r}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await nS(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ce(r)&&r instanceof cc){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&r.push(s);const i=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});o!==""&&r.push(o);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${a}`)}}}async remove(t){var e=this;try{return{data:await jd(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ce(n))return{data:null,error:n};throw n}}async list(t,e,n){var r=this;try{const s=L(L(L({},iS),e),{},{prefix:t||""});return{data:await Ct(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ce(s))return{data:null,error:s};throw s}}async listV2(t,e){var n=this;try{const r=L({},t);return{data:await Ct(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ce(r))return{data:null,error:r};throw r}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Wy="2.89.0",Vy={"X-Client-Info":`storage-js/${Wy}`};var aS=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1;const s=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=L(L({},Vy),e),this.fetch=Ad(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await Oi(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ce(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Oi(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ce(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await Ct(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ce(r))return{data:null,error:r};throw r}}async updateBucket(t,e){var n=this;try{return{data:await hc(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ce(r))return{data:null,error:r};throw r}}async emptyBucket(t){var e=this;try{return{data:await Ct(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ce(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await jd(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ce(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},lS=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=L(L({},Vy),e),this.fetch=Ad(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Ct(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ce(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),s=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return{data:await Oi(e.fetch,s,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ce(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await jd(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ce(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!Yx(t))throw new rl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new qx({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(s,a),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}};const Nd={"X-Client-Info":`storage-js/${Wy}`,"Content-Type":"application/json"};var qy=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function it(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Kl=class extends qy{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},uS=class extends qy{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const Id=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),cS=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},kf=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),dS=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const r=t.status||500,s=t;if(typeof s.json=="function")s.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||r+"";e(new Kl(kf(i),r,o))}).catch(()=>{const i=r+"";e(new Kl(s.statusText||`HTTP ${r} error`,r,i))});else{const i=r+"";e(new Kl(s.statusText||`HTTP ${r} error`,r,i))}}else e(new uS(kf(t),t))},hS=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(cS(r)?(s.headers=L({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,L(L({},s),n)):s};async function fS(t,e,n,r,s,i){return new Promise((o,a)=>{t(n,hS(e,r,s,i)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>dS(l,a,r))})}async function ot(t,e,n,r,s){return fS(t,"POST",e,r,s,n)}var pS=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=L(L({},Nd),e),this.fetch=Id(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await ot(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await ot(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(it(r))return{data:null,error:r};throw r}}async listIndexes(t){var e=this;try{return{data:await ot(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await ot(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(it(r))return{data:null,error:r};throw r}}},gS=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=L(L({},Nd),e),this.fetch=Id(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await ot(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await ot(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await ot(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await ot(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await ot(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}}},mS=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=L(L({},Nd),e),this.fetch=Id(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await ot(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await ot(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await ot(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await ot(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}}},yS=class extends mS{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new vS(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},vS=class extends pS{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,L(L({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,L(L({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new wS(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},wS=class extends gS{constructor(t,e,n,r,s){super(t,e,s),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,L(L({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,L(L({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,L(L({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,L(L({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,L(L({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},_S=class extends aS{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new oS(this.url,this.headers,t,this.fetch)}get vectors(){return new yS(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new lS(this.url+"/iceberg",this.headers,this.fetch)}};const Ky="2.89.0",Ir=30*1e3,fc=3,Jl=fc*Ir,bS="http://localhost:9999",xS="supabase.auth.token",SS={"X-Client-Info":`gotrue-js/${Ky}`},pc="X-Supabase-Api-Version",Jy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},kS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ES=10*60*1e3;class Pi extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function I(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class CS extends Pi{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function RS(t){return I(t)&&t.name==="AuthApiError"}class rr extends Pi{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class pn extends Pi{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class nt extends pn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function TS(t){return I(t)&&t.name==="AuthSessionMissingError"}class Cr extends pn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class vo extends pn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class wo extends pn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function OS(t){return I(t)&&t.name==="AuthImplicitGrantRedirectError"}class Ef extends pn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class PS extends pn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class gc extends pn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Gl(t){return I(t)&&t.name==="AuthRetryableFetchError"}class Cf extends pn{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class mc extends pn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Sa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Rf=` 	
\r=`.split(""),AS=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Rf.length;e+=1)t[Rf[e].charCodeAt(0)]=-2;for(let e=0;e<Sa.length;e+=1)t[Sa[e].charCodeAt(0)]=e;return t})();function Tf(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Sa[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Sa[r]),e.queuedBits-=6}}function Gy(t,e,n){const r=AS[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Of(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{IS(o,r,n)};for(let o=0;o<t.length;o+=1)Gy(t.charCodeAt(o),s,i);return e.join("")}function jS(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function NS(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}jS(r,e)}}function IS(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function ts(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Gy(t.charCodeAt(s),n,r);return new Uint8Array(e)}function DS(t){const e=[];return NS(t,n=>e.push(n)),new Uint8Array(e)}function ar(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Tf(s,n,r)),Tf(null,n,r),e.join("")}function LS(t){return Math.round(Date.now()/1e3)+t}function MS(){return Symbol("auth-callback")}const Oe=()=>typeof window<"u"&&typeof document<"u",qn={tested:!1,writable:!1},Yy=()=>{if(!Oe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qn.tested)return qn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),qn.tested=!0,qn.writable=!0}catch{qn.tested=!0,qn.writable=!1}return qn.writable};function $S(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Xy=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),FS=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Dr=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Kn=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Te=async(t,e)=>{await t.removeItem(e)};class sl{constructor(){this.promise=new sl.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}sl.promiseConstructor=Promise;function Yl(t){const e=t.split(".");if(e.length!==3)throw new mc("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!kS.test(e[r]))throw new mc("JWT not in base64url format");return{header:JSON.parse(Of(e[0])),payload:JSON.parse(Of(e[1])),signature:ts(e[2]),raw:{header:e[0],payload:e[1]}}}async function US(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function BS(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function zS(t){return("0"+t.toString(16)).substr(-2)}function HS(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,zS).join("")}async function WS(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function VS(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await WS(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Rr(t,e,n=!1){const r=HS();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Dr(t,`${e}-code-verifier`,s);const i=await VS(r);return[i,r===i?"plain":"s256"]}const qS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function KS(t){const e=t.headers.get(pc);if(!e||!e.match(qS))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function JS(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function GS(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const YS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Tr(t){if(!YS.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xl(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function XS(t,e){return new Proxy(t,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,s)}})}function Pf(t){return JSON.parse(JSON.stringify(t))}const er=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),QS=[502,503,504];async function Af(t){var e;if(!FS(t))throw new gc(er(t),0);if(QS.includes(t.status))throw new gc(er(t),t.status);let n;try{n=await t.json()}catch(i){throw new rr(er(i),i)}let r;const s=KS(t);if(s&&s.getTime()>=Jy["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Cf(er(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new nt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Cf(er(n),t.status,n.weak_password.reasons);throw new CS(er(n),t.status||500,r)}const ZS=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function D(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[pc]||(i[pc]=Jy["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await ek(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function ek(t,e,n,r,s,i){const o=ZS(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new gc(er(l),0)}if(a.ok||await Af(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Af(l)}}function kt(t){var e;let n=null;rk(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=LS(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function jf(t){const e=kt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function xn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function tk(t){return{data:t,error:null}}function nk(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=nl(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Nf(t){return t}function rk(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ql=["global","local","others"];class sk{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Xy(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Ql[0]){if(Ql.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ql.join(", ")}`);try{return await D(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await D(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:xn})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=nl(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await D(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:nk,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(I(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await D(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:xn})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await D(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Nf});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(f=>{const m=parseInt(f.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(f.split(";")[1].split("=")[1]);u[`${w}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(I(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Tr(e);try{return await D(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:xn})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Tr(e);try{return await D(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:xn})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Tr(e);try{return await D(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:xn})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Tr(e.userId);try{const{data:n,error:r}=await D(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(I(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Tr(e.userId),Tr(e.id);try{return{data:await D(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await D(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Nf});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(f=>{const m=parseInt(f.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(f.split(";")[1].split("=")[1]);u[`${w}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(I(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await D(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await D(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await D(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await D(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await D(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(I(n))return{data:null,error:n};throw n}}}function If(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Or={debug:!!(globalThis&&Yy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Qy extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ik extends Qy{}async function ok(t,e,n){Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Or.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new ik(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Or.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function ak(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Zy(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function lk(t){return parseInt(t,16)}function uk(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function ck(t){var e;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:d,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=Zy(t.address),f=c?`${c}://${r}`:r,m=t.statement?`${t.statement}
`:"",w=`${f} wants you to sign in with your Ethereum account:
${p}

${m}`;let g=`URI: ${d}
Version: ${h}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),a&&(g+=`
Not Before: ${a.toISOString()}`),l&&(g+=`
Request ID: ${l}`),u){let y=`
Resources:`;for(const v of u){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);y+=`
- ${v}`}g+=y}return`${w}
${g}`}class we extends Error{constructor({message:e,code:n,cause:r,name:s}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class ka extends we{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function dk({error:t,options:e}){var n,r,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new we({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new we({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new we({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new we({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new we({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new we({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new we({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new we({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(ev(o)){if(i.rp.id!==o)return new we({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new we({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new we({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new we({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new we({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function hk({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new we({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new we({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(ev(r)){if(n.rpId!==r)return new we({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new we({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new we({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new we({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class fk{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const pk=new fk;function gk(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,s=nl(t,["challenge","user","excludeCredentials"]),i=ts(e).buffer,o=Object.assign(Object.assign({},n),{id:ts(n.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:ts(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function mk(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=nl(t,["challenge","allowCredentials"]),s=ts(e).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:ts(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function yk(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:ar(new Uint8Array(t.response.attestationObject)),clientDataJSON:ar(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function vk(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ar(new Uint8Array(s.authenticatorData)),clientDataJSON:ar(new Uint8Array(s.clientDataJSON)),signature:ar(new Uint8Array(s.signature)),userHandle:s.userHandle?ar(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function ev(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Df(){var t,e;return!!(Oe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function wk(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ka("Browser returned unexpected credential type",e)}:{data:null,error:new ka("Empty credential response",e)}}catch(e){return{data:null,error:dk({error:e,options:t})}}}async function _k(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ka("Browser returned unexpected credential type",e)}:{data:null,error:new ka("Empty credential response",e)}}catch(e){return{data:null,error:hk({error:e,options:t})}}}const bk={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},xk={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ea(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(e(o)){const a=r[i];e(a)?r[i]=Ea(a,o):r[i]=Ea(o)}else r[i]=o}return r}function Sk(t,e){return Ea(bk,t,e||{})}function kk(t,e){return Ea(xk,t,e||{})}class Ek{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:a};const l=s??pk.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=Sk(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:c,error:d}=await wk({publicKey:u,signal:l});return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}case"request":{const u=kk(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:c,error:d}=await _k(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}}}catch(o){return I(o)?{data:null,error:o}:{data:null,error:new rr("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Pi("rpId is required for WebAuthn authentication")};try{if(!Df())return{data:null,error:new rr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return I(o)?{data:null,error:o}:{data:null,error:new rr("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Pi("rpId is required for WebAuthn registration")};try{if(!Df())return{data:null,error:new rr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return I(o)?{data:null,error:o}:{data:null,error:new rr("Unexpected error in register",o)}}}}ak();const Ck={url:bS,storageKey:xS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:SS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Lf(t,e,n){return await n()}const Pr={};class Ai{get jwks(){var e,n;return(n=(e=Pr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Pr[this.storageKey]=Object.assign(Object.assign({},Pr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Pr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Pr[this.storageKey]=Object.assign(Object.assign({},Pr[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Ck),e);if(this.storageKey=i.storageKey,this.instanceID=(n=Ai.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Ai.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Oe()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new sk({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Xy(i.fetch),this.lock=i.lock||Lf,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&Oe()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=ok:this.lock=Lf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ek(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Yy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=If(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=If(this.memoryStorage)),Oe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ky}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(Oe()&&(n=$S(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Oe()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),OS(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return I(n)?this._returnResult({error:n}):this._returnResult({error:new rr("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:kt}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(I(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:c,password:d,options:h}=e;let p=null,f=null;this.flowType==="pkce"&&([p,f]=await Rr(this.storage,this.storageKey)),i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:f},xform:kt})}else if("phone"in e){const{phone:c,password:d,options:h}=e;i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:kt})}else throw new vo("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await Te(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await Te(this.storage,`${this.storageKey}-code-verifier`),I(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:jf})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:jf})}else throw new vo("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new Cr;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(I(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,s,i,o,a,l,u,c,d,h;let p,f;if("message"in e)p=e.message,f=e.signature;else{const{chain:m,wallet:w,statement:g,options:y}=e;let v;if(Oe())if(typeof w=="object")v=w;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")v=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=w}const _=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href),x=await v.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!x||x.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=Zy(x[0]);let E=(r=y==null?void 0:y.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!E){const A=await v.request({method:"eth_chainId"});E=lk(A)}const R={domain:_.host,address:k,statement:g,uri:_.href,version:"1",chainId:E,nonce:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=y==null?void 0:y.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.resources};p=ck(R),f=await v.request({method:"personal_sign",params:[uk(p),k]})}try{const{data:m,error:w}=await D(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:f},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:kt});if(w)throw w;if(!m||!m.session||!m.user){const g=new Cr;return this._returnResult({data:{user:null,session:null},error:g})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:w})}catch(m){if(I(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(e){var n,r,s,i,o,a,l,u,c,d,h,p;let f,m;if("message"in e)f=e.message,m=e.signature;else{const{chain:w,wallet:g,statement:y,options:v}=e;let _;if(Oe())if(typeof g=="object")_=g;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))_=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=g}const x=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const k=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:x.host,uri:x.href}),y?{statement:y}:null));let E;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")E=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)E=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)f=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),m=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=[`${x.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${x.href}`,`Issued At: ${(s=(r=v==null?void 0:v.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((d=(c=v==null?void 0:v.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...v.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const k=await _.signMessage(new TextEncoder().encode(f),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=k}}try{const{data:w,error:g}=await D(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:ar(m)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:kt});if(g)throw g;if(!w||!w.session||!w.user){const y=new Cr;return this._returnResult({data:{user:null,session:null},error:y})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:g})}catch(w){if(I(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(e){const n=await Kn(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new PS;const{data:i,error:o}=await D(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:kt});if(await Te(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new Cr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await Te(this.storage,`${this.storageKey}-code-verifier`),I(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:kt}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new Cr;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(I(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Rr(this.storage,this.storageKey));const{error:d}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new vo("You must provide either an email or phone number.")}catch(a){if(await Te(this.storage,`${this.storageKey}-code-verifier`),I(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await D(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:kt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(I(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var n,r,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Rr(this.storage,this.storageKey));const u=await D(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:tk});return!((i=u.data)===null||i===void 0)&&i.url&&Oe()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await Te(this.storage,`${this.storageKey}-code-verifier`),I(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new nt;const{error:s}=await D(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(I(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await D(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await D(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new vo("You must provide either an email or phone number and a type")}catch(n){if(I(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Kn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Jl:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Kn(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Xl()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=XS(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:xn}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new nt}:await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:xn})})}catch(n){if(I(n))return TS(n)&&(await this._removeSession(),await Te(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new nt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Rr(this.storage,this.storageKey));const{data:u,error:c}=await D(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:xn});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await Te(this.storage,`${this.storageKey}-code-verifier`),I(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new nt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Yl(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(I(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new nt;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(I(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Oe())throw new wo("No browser detected.");if(e.error||e.error_description||e.error_code)throw new wo(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Ef("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wo("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ef("No code detected.");const{data:y,error:v}=await this._exchangeCodeForSession(e.code);if(v)throw v;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new wo("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let h=c+d;l&&(h=parseInt(l));const p=h-c;p*1e3<=Ir&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const f=h-d;c-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,h,c):c-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,h,c);const{data:m,error:w}=await this._getUser(i);if(w)throw w;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(r){if(I(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Kn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({error:i});const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(RS(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await Te(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=MS(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Rr(this.storage,this.storageKey,!0));try{return await D(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await Te(this.storage,`${this.storageKey}-code-verifier`),I(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,c;const{data:d,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await D(this.fetch,"GET",p,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return Oe()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(I(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:c}=e,d=await D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:kt}),{data:h,error:p}=d;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Cr}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(s){if(await Te(this.storage,`${this.storageKey}-code-verifier`),I(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await D(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await BS(async s=>(s>0&&await US(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await D(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:kt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Gl(i)&&Date.now()+o-r<Ir})}catch(r){if(this._debug(n,"error",r),I(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Oe()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Kn(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Kn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Dr(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Xl()}else if(s&&!s.user&&!s.user){const o=await Kn(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Te(this.storage,this.storageKey+"-user"),await Dr(this.storage,this.storageKey,s)):s.user=Xl()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Jl;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Jl}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Gl(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new nt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new sl;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new nt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),I(i)){const o={data:null,error:i};return Gl(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Te(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Dr(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Pf(s);await Dr(this.storage,this.storageKey,i)}else{const s=Pf(n);await Dr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Te(this.storage,this.storageKey),await Te(this.storage,this.storageKey+"-code-verifier"),await Te(this.storage,this.storageKey+"-user"),this.userStorage&&await Te(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Oe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ir);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Ir);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ir}ms, refresh threshold is ${fc} ticks`),s<=fc&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Qy)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Oe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Rr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await D(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await D(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?yk(e.webauthn.credential_response):vk(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await D(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=await D(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:gk(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:mk(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Yl(r.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(c=>c.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await D(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new nt})})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new nt});const o=await D(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Oe()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new nt});const o=await D(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Oe()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await D(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new nt})})}catch(e){if(I(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await D(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new nt})})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+ES>s)return r;const{data:i,error:o}=await D(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:p,error:f}=await this.getSession();if(f||!p.session)return this._returnResult({data:null,error:f});r=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Yl(r);n!=null&&n.allowExpired||JS(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const c=GS(s.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,DS(`${a}.${l}`)))throw new mc("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}}Ai.nextInstanceID={};const Rk=Ai,Tk="2.89.0";let Us="";typeof Deno<"u"?Us="deno":typeof document<"u"?Us="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Us="react-native":Us="node";const Ok={"X-Client-Info":`supabase-js-${Us}/${Tk}`},Pk={headers:Ok},Ak={schema:"public"},jk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Nk={};function ji(t){"@babel/helpers - typeof";return ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ji(t)}function Ik(t,e){if(ji(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ji(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dk(t){var e=Ik(t,"string");return ji(e)=="symbol"?e:e+""}function Lk(t,e,n){return(e=Dk(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function pe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mf(Object(n),!0).forEach(function(r){Lk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const Mk=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),$k=()=>Headers,Fk=(t,e,n)=>{const r=Mk(n),s=$k();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,pe(pe({},o),{},{headers:u}))}};function Uk(t){return t.endsWith("/")?t:t+"/"}function Bk(t,e){var n,r;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:d}=e,h={db:pe(pe({},l),s),auth:pe(pe({},u),i),realtime:pe(pe({},c),o),storage:{},global:pe(pe(pe({},d),a),{},{headers:pe(pe({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function zk(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Uk(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Hk=class extends Rk{constructor(t){super(t)}},Wk=class{constructor(t,e,n){var r,s;this.supabaseUrl=t,this.supabaseKey=e;const i=zk(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:Ak,realtime:Nk,auth:pe(pe({},jk),{},{storageKey:o}),global:Pk},l=Bk(n??{},a);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=Fk(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(pe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new Sx(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new _S(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new vx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:i,flowType:o,lock:a,debug:l,throwOnError:u},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Hk({url:this.authUrl.href,headers:pe(pe({},h),c),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:s,flowType:o,lock:a,debug:l,throwOnError:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Ux(this.realtimeUrl.href,pe(pe({},t),{},{params:pe(pe({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Vk=(t,e,n)=>new Wk(t,e,n);function qk(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}qk()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const tv="https://zjhmdzrhktaninrihlni.supabase.co",Kk="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpqaG1kenJoa3RhbmlucmlobG5pIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQzOTk2NzAsImV4cCI6MjA3OTk3NTY3MH0.oz1eztBPggBf3LA0yaMZid0oM8dft-vuLtzj_KxNs4E";console.log("Supabase URL:",tv);console.log("Supabase Key:","Present");const Sn=Vk(tv,Kk),nv=S.createContext({}),rv=()=>S.useContext(nv),Jk=({children:t})=>{const[e,n]=S.useState(null),[r,s]=S.useState(!0);S.useEffect(()=>{Sn.auth.getSession().then(({data:{session:c}})=>{n((c==null?void 0:c.user)??null),s(!1)});const{data:{subscription:u}}=Sn.auth.onAuthStateChange((c,d)=>{n((d==null?void 0:d.user)??null)});return()=>u.unsubscribe()},[]);const l={user:e,loading:r,signUp:async(u,c)=>{const{data:d,error:h}=await Sn.auth.signUp({email:u,password:c});if(h)throw h;return d},signIn:async(u,c)=>{const{data:d,error:h}=await Sn.auth.signInWithPassword({email:u,password:c});if(h)throw h;return d},signOut:async()=>{const{error:u}=await Sn.auth.signOut();if(u)throw u}};return b.jsx(nv.Provider,{value:l,children:t})};function Gk(){const[t,e]=S.useState(""),[n,r]=S.useState(""),[s,i]=S.useState(!1),[o,a]=S.useState(""),l=Vn(),{user:u,setUser:c}=rv()??{},d=async p=>{p.preventDefault();try{i(!0),a("");const{data:f,error:m}=await Sn.auth.signInWithPassword({email:t,password:n});if(m)throw m;if(!f.session||!f.user)throw new Error("Login failed. No session returned.");c&&c(f.user),l("/dashboard")}catch(f){console.error("Login error",f),a(f.message||"Failed to sign in")}finally{i(!1)}},h=async p=>{p.preventDefault();try{i(!0),a("");const{data:f,error:m}=await Sn.auth.signUp({email:t,password:n});if(m)throw m;if(!f.user)throw new Error("Sign up failed.");a("Check your email for a confirmation link.")}catch(f){console.error("Sign up error",f),a(f.message||"Failed to sign up")}finally{i(!1)}};return b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:b.jsxs("div",{className:"w-full max-w-md bg-white rounded-xl shadow p-8 space-y-6",children:[b.jsx("h1",{className:"text-2xl font-bold text-center",children:"Revi"}),b.jsx("p",{className:"text-center text-gray-600",children:"Sign in or create an account to start studying."}),o&&b.jsx("p",{className:"text-red-500 text-sm text-center",children:o}),b.jsxs("form",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),b.jsx("input",{type:"email",className:"w-full border rounded px-3 py-2",value:t,onChange:p=>e(p.target.value),required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium mb-1",children:"Password"}),b.jsx("input",{type:"password",className:"w-full border rounded px-3 py-2",value:n,onChange:p=>r(p.target.value),required:!0})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("button",{type:"submit",onClick:d,disabled:s,className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50",children:s?"Signing in...":"Sign In"}),b.jsx("button",{type:"button",onClick:h,disabled:s,className:"w-full border border-gray-300 text-gray-800 py-2 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:s?"Creating account...":"Create Account"})]})]})]})})}function sv(t,e){return function(){return t.apply(e,arguments)}}const{toString:Yk}=Object.prototype,{getPrototypeOf:Dd}=Object,{iterator:il,toStringTag:iv}=Symbol,ol=(t=>e=>{const n=Yk.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Dt=t=>(t=t.toLowerCase(),e=>ol(e)===t),al=t=>e=>typeof e===t,{isArray:vs}=Array,cs=al("undefined");function Vi(t){return t!==null&&!cs(t)&&t.constructor!==null&&!cs(t.constructor)&&et(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const ov=Dt("ArrayBuffer");function Xk(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&ov(t.buffer),e}const Qk=al("string"),et=al("function"),av=al("number"),qi=t=>t!==null&&typeof t=="object",Zk=t=>t===!0||t===!1,Ko=t=>{if(ol(t)!=="object")return!1;const e=Dd(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(iv in t)&&!(il in t)},eE=t=>{if(!qi(t)||Vi(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},tE=Dt("Date"),nE=Dt("File"),rE=Dt("Blob"),sE=Dt("FileList"),iE=t=>qi(t)&&et(t.pipe),oE=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||et(t.append)&&((e=ol(t))==="formdata"||e==="object"&&et(t.toString)&&t.toString()==="[object FormData]"))},aE=Dt("URLSearchParams"),[lE,uE,cE,dE]=["ReadableStream","Request","Response","Headers"].map(Dt),hE=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ki(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),vs(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{if(Vi(t))return;const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function lv(t,e){if(Vi(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const lr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,uv=t=>!cs(t)&&t!==lr;function yc(){const{caseless:t,skipUndefined:e}=uv(this)&&this||{},n={},r=(s,i)=>{const o=t&&lv(n,i)||i;Ko(n[o])&&Ko(s)?n[o]=yc(n[o],s):Ko(s)?n[o]=yc({},s):vs(s)?n[o]=s.slice():(!e||!cs(s))&&(n[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Ki(arguments[s],r);return n}const fE=(t,e,n,{allOwnKeys:r}={})=>(Ki(e,(s,i)=>{n&&et(s)?t[i]=sv(s,n):t[i]=s},{allOwnKeys:r}),t),pE=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),gE=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},mE=(t,e,n,r)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&Dd(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},yE=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},vE=t=>{if(!t)return null;if(vs(t))return t;let e=t.length;if(!av(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},wE=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Dd(Uint8Array)),_E=(t,e)=>{const r=(t&&t[il]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},bE=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},xE=Dt("HTMLFormElement"),SE=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),$f=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),kE=Dt("RegExp"),cv=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Ki(n,(s,i)=>{let o;(o=e(s,i,t))!==!1&&(r[i]=o||s)}),Object.defineProperties(t,r)},EE=t=>{cv(t,(e,n)=>{if(et(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(et(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},CE=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return vs(t)?r(t):r(String(t).split(e)),n},RE=()=>{},TE=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function OE(t){return!!(t&&et(t.append)&&t[iv]==="FormData"&&t[il])}const PE=t=>{const e=new Array(10),n=(r,s)=>{if(qi(r)){if(e.indexOf(r)>=0)return;if(Vi(r))return r;if(!("toJSON"in r)){e[s]=r;const i=vs(r)?[]:{};return Ki(r,(o,a)=>{const l=n(o,s+1);!cs(l)&&(i[a]=l)}),e[s]=void 0,i}}return r};return n(t,0)},AE=Dt("AsyncFunction"),jE=t=>t&&(qi(t)||et(t))&&et(t.then)&&et(t.catch),dv=((t,e)=>t?setImmediate:e?((n,r)=>(lr.addEventListener("message",({source:s,data:i})=>{s===lr&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),lr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",et(lr.postMessage)),NE=typeof queueMicrotask<"u"?queueMicrotask.bind(lr):typeof process<"u"&&process.nextTick||dv,IE=t=>t!=null&&et(t[il]),C={isArray:vs,isArrayBuffer:ov,isBuffer:Vi,isFormData:oE,isArrayBufferView:Xk,isString:Qk,isNumber:av,isBoolean:Zk,isObject:qi,isPlainObject:Ko,isEmptyObject:eE,isReadableStream:lE,isRequest:uE,isResponse:cE,isHeaders:dE,isUndefined:cs,isDate:tE,isFile:nE,isBlob:rE,isRegExp:kE,isFunction:et,isStream:iE,isURLSearchParams:aE,isTypedArray:wE,isFileList:sE,forEach:Ki,merge:yc,extend:fE,trim:hE,stripBOM:pE,inherits:gE,toFlatObject:mE,kindOf:ol,kindOfTest:Dt,endsWith:yE,toArray:vE,forEachEntry:_E,matchAll:bE,isHTMLForm:xE,hasOwnProperty:$f,hasOwnProp:$f,reduceDescriptors:cv,freezeMethods:EE,toObjectSet:CE,toCamelCase:SE,noop:RE,toFiniteNumber:TE,findKey:lv,global:lr,isContextDefined:uv,isSpecCompliantForm:OE,toJSONObject:PE,isAsyncFn:AE,isThenable:jE,setImmediate:dv,asap:NE,isIterable:IE};function U(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}C.inherits(U,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:C.toJSONObject(this.config),code:this.code,status:this.status}}});const hv=U.prototype,fv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{fv[t]={value:t}});Object.defineProperties(U,fv);Object.defineProperty(hv,"isAxiosError",{value:!0});U.from=(t,e,n,r,s,i)=>{const o=Object.create(hv);C.toFlatObject(t,o,function(c){return c!==Error.prototype},u=>u!=="isAxiosError");const a=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return U.call(o,a,l,n,r,s),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",i&&Object.assign(o,i),o};const DE=null;function vc(t){return C.isPlainObject(t)||C.isArray(t)}function pv(t){return C.endsWith(t,"[]")?t.slice(0,-2):t}function Ff(t,e,n){return t?t.concat(e).map(function(s,i){return s=pv(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function LE(t){return C.isArray(t)&&!t.some(vc)}const ME=C.toFlatObject(C,{},null,function(e){return/^is[A-Z]/.test(e)});function ll(t,e,n){if(!C.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=C.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,w){return!C.isUndefined(w[m])});const r=n.metaTokens,s=n.visitor||c,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&C.isSpecCompliantForm(e);if(!C.isFunction(s))throw new TypeError("visitor must be a function");function u(f){if(f===null)return"";if(C.isDate(f))return f.toISOString();if(C.isBoolean(f))return f.toString();if(!l&&C.isBlob(f))throw new U("Blob is not supported. Use a Buffer instead.");return C.isArrayBuffer(f)||C.isTypedArray(f)?l&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function c(f,m,w){let g=f;if(f&&!w&&typeof f=="object"){if(C.endsWith(m,"{}"))m=r?m:m.slice(0,-2),f=JSON.stringify(f);else if(C.isArray(f)&&LE(f)||(C.isFileList(f)||C.endsWith(m,"[]"))&&(g=C.toArray(f)))return m=pv(m),g.forEach(function(v,_){!(C.isUndefined(v)||v===null)&&e.append(o===!0?Ff([m],_,i):o===null?m:m+"[]",u(v))}),!1}return vc(f)?!0:(e.append(Ff(w,m,i),u(f)),!1)}const d=[],h=Object.assign(ME,{defaultVisitor:c,convertValue:u,isVisitable:vc});function p(f,m){if(!C.isUndefined(f)){if(d.indexOf(f)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(f),C.forEach(f,function(g,y){(!(C.isUndefined(g)||g===null)&&s.call(e,g,C.isString(y)?y.trim():y,m,h))===!0&&p(g,m?m.concat(y):[y])}),d.pop()}}if(!C.isObject(t))throw new TypeError("data must be an object");return p(t),e}function Uf(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Ld(t,e){this._pairs=[],t&&ll(t,this,e)}const gv=Ld.prototype;gv.append=function(e,n){this._pairs.push([e,n])};gv.toString=function(e){const n=e?function(r){return e.call(this,r,Uf)}:Uf;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function $E(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function mv(t,e,n){if(!e)return t;const r=n&&n.encode||$E;C.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(e,n):i=C.isURLSearchParams(e)?e.toString():new Ld(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class Bf{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){C.forEach(this.handlers,function(r){r!==null&&e(r)})}}const yv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},FE=typeof URLSearchParams<"u"?URLSearchParams:Ld,UE=typeof FormData<"u"?FormData:null,BE=typeof Blob<"u"?Blob:null,zE={isBrowser:!0,classes:{URLSearchParams:FE,FormData:UE,Blob:BE},protocols:["http","https","file","blob","url","data"]},Md=typeof window<"u"&&typeof document<"u",wc=typeof navigator=="object"&&navigator||void 0,HE=Md&&(!wc||["ReactNative","NativeScript","NS"].indexOf(wc.product)<0),WE=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",VE=Md&&window.location.href||"http://localhost",qE=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Md,hasStandardBrowserEnv:HE,hasStandardBrowserWebWorkerEnv:WE,navigator:wc,origin:VE},Symbol.toStringTag,{value:"Module"})),Me={...qE,...zE};function KE(t,e){return ll(t,new Me.classes.URLSearchParams,{visitor:function(n,r,s,i){return Me.isNode&&C.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function JE(t){return C.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function GE(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function vv(t){function e(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&C.isArray(s)?s.length:o,l?(C.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!C.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&C.isArray(s[o])&&(s[o]=GE(s[o])),!a)}if(C.isFormData(t)&&C.isFunction(t.entries)){const n={};return C.forEachEntry(t,(r,s)=>{e(JE(r),s,n,0)}),n}return null}function YE(t,e,n){if(C.isString(t))try{return(e||JSON.parse)(t),C.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Ji={transitional:yv,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=C.isObject(e);if(i&&C.isHTMLForm(e)&&(e=new FormData(e)),C.isFormData(e))return s?JSON.stringify(vv(e)):e;if(C.isArrayBuffer(e)||C.isBuffer(e)||C.isStream(e)||C.isFile(e)||C.isBlob(e)||C.isReadableStream(e))return e;if(C.isArrayBufferView(e))return e.buffer;if(C.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return KE(e,this.formSerializer).toString();if((a=C.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return ll(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),YE(e)):e}],transformResponse:[function(e){const n=this.transitional||Ji.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(C.isResponse(e)||C.isReadableStream(e))return e;if(e&&C.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?U.from(a,U.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Me.classes.FormData,Blob:Me.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};C.forEach(["delete","get","head","post","put","patch"],t=>{Ji.headers[t]={}});const XE=C.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),QE=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&XE[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},zf=Symbol("internals");function Ps(t){return t&&String(t).trim().toLowerCase()}function Jo(t){return t===!1||t==null?t:C.isArray(t)?t.map(Jo):String(t)}function ZE(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const e1=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Zl(t,e,n,r,s){if(C.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!C.isString(e)){if(C.isString(r))return e.indexOf(r)!==-1;if(C.isRegExp(r))return r.test(e)}}function t1(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function n1(t,e){const n=C.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}let tt=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(a,l,u){const c=Ps(l);if(!c)throw new Error("header name must be a non-empty string");const d=C.findKey(s,c);(!d||s[d]===void 0||u===!0||u===void 0&&s[d]!==!1)&&(s[d||l]=Jo(a))}const o=(a,l)=>C.forEach(a,(u,c)=>i(u,c,l));if(C.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(C.isString(e)&&(e=e.trim())&&!e1(e))o(QE(e),n);else if(C.isObject(e)&&C.isIterable(e)){let a={},l,u;for(const c of e){if(!C.isArray(c))throw TypeError("Object iterator must return a key-value pair");a[u=c[0]]=(l=a[u])?C.isArray(l)?[...l,c[1]]:[l,c[1]]:c[1]}o(a,n)}else e!=null&&i(n,e,r);return this}get(e,n){if(e=Ps(e),e){const r=C.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return ZE(s);if(C.isFunction(n))return n.call(this,s,r);if(C.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ps(e),e){const r=C.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Zl(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=Ps(o),o){const a=C.findKey(r,o);a&&(!n||Zl(r,r[a],a,n))&&(delete r[a],s=!0)}}return C.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||Zl(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return C.forEach(this,(s,i)=>{const o=C.findKey(r,i);if(o){n[o]=Jo(s),delete n[i];return}const a=e?t1(i):String(i).trim();a!==i&&delete n[i],n[a]=Jo(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return C.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&C.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[zf]=this[zf]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=Ps(o);r[a]||(n1(s,o),r[a]=!0)}return C.isArray(e)?e.forEach(i):i(e),this}};tt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);C.reduceDescriptors(tt.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});C.freezeMethods(tt);function eu(t,e){const n=this||Ji,r=e||n,s=tt.from(r.headers);let i=r.data;return C.forEach(t,function(a){i=a.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function wv(t){return!!(t&&t.__CANCEL__)}function ws(t,e,n){U.call(this,t??"canceled",U.ERR_CANCELED,e,n),this.name="CanceledError"}C.inherits(ws,U,{__CANCEL__:!0});function _v(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new U("Request failed with status code "+n.status,[U.ERR_BAD_REQUEST,U.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function r1(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function s1(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=r[i];o||(o=u),n[s]=l,r[s]=u;let d=i,h=0;for(;d!==s;)h+=n[d++],d=d%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),u-o<e)return;const p=c&&u-c;return p?Math.round(h*1e3/p):void 0}}function i1(t,e){let n=0,r=1e3/e,s,i;const o=(u,c=Date.now())=>{n=c,s=null,i&&(clearTimeout(i),i=null),t(...u)};return[(...u)=>{const c=Date.now(),d=c-n;d>=r?o(u,c):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},r-d)))},()=>s&&o(s)]}const Ca=(t,e,n=3)=>{let r=0;const s=s1(50,250);return i1(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-r,u=s(l),c=o<=a;r=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&c?(a-o)/u:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},n)},Hf=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},Wf=t=>(...e)=>C.asap(()=>t(...e)),o1=Me.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Me.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Me.origin),Me.navigator&&/(msie|trident)/i.test(Me.navigator.userAgent)):()=>!0,a1=Me.hasStandardBrowserEnv?{write(t,e,n,r,s,i,o){if(typeof document>"u")return;const a=[`${t}=${encodeURIComponent(e)}`];C.isNumber(n)&&a.push(`expires=${new Date(n).toUTCString()}`),C.isString(r)&&a.push(`path=${r}`),C.isString(s)&&a.push(`domain=${s}`),i===!0&&a.push("secure"),C.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function l1(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function u1(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function bv(t,e,n){let r=!l1(e);return t&&(r||n==!1)?u1(t,e):e}const Vf=t=>t instanceof tt?{...t}:t;function wr(t,e){e=e||{};const n={};function r(u,c,d,h){return C.isPlainObject(u)&&C.isPlainObject(c)?C.merge.call({caseless:h},u,c):C.isPlainObject(c)?C.merge({},c):C.isArray(c)?c.slice():c}function s(u,c,d,h){if(C.isUndefined(c)){if(!C.isUndefined(u))return r(void 0,u,d,h)}else return r(u,c,d,h)}function i(u,c){if(!C.isUndefined(c))return r(void 0,c)}function o(u,c){if(C.isUndefined(c)){if(!C.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,d){if(d in e)return r(u,c);if(d in t)return r(void 0,u)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c,d)=>s(Vf(u),Vf(c),d,!0)};return C.forEach(Object.keys({...t,...e}),function(c){const d=l[c]||s,h=d(t[c],e[c],c);C.isUndefined(h)&&d!==a||(n[c]=h)}),n}const xv=t=>{const e=wr({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=e;if(e.headers=o=tt.from(o),e.url=mv(bv(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),C.isFormData(n)){if(Me.hasStandardBrowserEnv||Me.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(C.isFunction(n.getHeaders)){const l=n.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([c,d])=>{u.includes(c.toLowerCase())&&o.set(c,d)})}}if(Me.hasStandardBrowserEnv&&(r&&C.isFunction(r)&&(r=r(e)),r||r!==!1&&o1(e.url))){const l=s&&i&&a1.read(i);l&&o.set(s,l)}return e},c1=typeof XMLHttpRequest<"u",d1=c1&&function(t){return new Promise(function(n,r){const s=xv(t);let i=s.data;const o=tt.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=s,c,d,h,p,f;function m(){p&&p(),f&&f(),s.cancelToken&&s.cancelToken.unsubscribe(c),s.signal&&s.signal.removeEventListener("abort",c)}let w=new XMLHttpRequest;w.open(s.method.toUpperCase(),s.url,!0),w.timeout=s.timeout;function g(){if(!w)return;const v=tt.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),x={data:!a||a==="text"||a==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:v,config:t,request:w};_v(function(E){n(E),m()},function(E){r(E),m()},x),w=null}"onloadend"in w?w.onloadend=g:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(g)},w.onabort=function(){w&&(r(new U("Request aborted",U.ECONNABORTED,t,w)),w=null)},w.onerror=function(_){const x=_&&_.message?_.message:"Network Error",k=new U(x,U.ERR_NETWORK,t,w);k.event=_||null,r(k),w=null},w.ontimeout=function(){let _=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const x=s.transitional||yv;s.timeoutErrorMessage&&(_=s.timeoutErrorMessage),r(new U(_,x.clarifyTimeoutError?U.ETIMEDOUT:U.ECONNABORTED,t,w)),w=null},i===void 0&&o.setContentType(null),"setRequestHeader"in w&&C.forEach(o.toJSON(),function(_,x){w.setRequestHeader(x,_)}),C.isUndefined(s.withCredentials)||(w.withCredentials=!!s.withCredentials),a&&a!=="json"&&(w.responseType=s.responseType),u&&([h,f]=Ca(u,!0),w.addEventListener("progress",h)),l&&w.upload&&([d,p]=Ca(l),w.upload.addEventListener("progress",d),w.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(c=v=>{w&&(r(!v||v.type?new ws(null,t,w):v),w.abort(),w=null)},s.cancelToken&&s.cancelToken.subscribe(c),s.signal&&(s.signal.aborted?c():s.signal.addEventListener("abort",c)));const y=r1(s.url);if(y&&Me.protocols.indexOf(y)===-1){r(new U("Unsupported protocol "+y+":",U.ERR_BAD_REQUEST,t));return}w.send(i||null)})},h1=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const i=function(u){if(!s){s=!0,a();const c=u instanceof Error?u:this.reason;r.abort(c instanceof U?c:new ws(c instanceof Error?c.message:c))}};let o=e&&setTimeout(()=>{o=null,i(new U(`timeout ${e} of ms exceeded`,U.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),t=null)};t.forEach(u=>u.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>C.asap(a),l}},f1=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},p1=async function*(t,e){for await(const n of g1(t))yield*f1(n,e)},g1=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},qf=(t,e,n,r)=>{const s=p1(t,e);let i=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await s.next();if(u){a(),l.close();return}let d=c.byteLength;if(n){let h=i+=d;n(h)}l.enqueue(new Uint8Array(c))}catch(u){throw a(u),u}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},Kf=64*1024,{isFunction:_o}=C,m1=(({Request:t,Response:e})=>({Request:t,Response:e}))(C.global),{ReadableStream:Jf,TextEncoder:Gf}=C.global,Yf=(t,...e)=>{try{return!!t(...e)}catch{return!1}},y1=t=>{t=C.merge.call({skipUndefined:!0},m1,t);const{fetch:e,Request:n,Response:r}=t,s=e?_o(e):typeof fetch=="function",i=_o(n),o=_o(r);if(!s)return!1;const a=s&&_o(Jf),l=s&&(typeof Gf=="function"?(f=>m=>f.encode(m))(new Gf):async f=>new Uint8Array(await new n(f).arrayBuffer())),u=i&&a&&Yf(()=>{let f=!1;const m=new n(Me.origin,{body:new Jf,method:"POST",get duplex(){return f=!0,"half"}}).headers.has("Content-Type");return f&&!m}),c=o&&a&&Yf(()=>C.isReadableStream(new r("").body)),d={stream:c&&(f=>f.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(f=>{!d[f]&&(d[f]=(m,w)=>{let g=m&&m[f];if(g)return g.call(m);throw new U(`Response type '${f}' is not supported`,U.ERR_NOT_SUPPORT,w)})});const h=async f=>{if(f==null)return 0;if(C.isBlob(f))return f.size;if(C.isSpecCompliantForm(f))return(await new n(Me.origin,{method:"POST",body:f}).arrayBuffer()).byteLength;if(C.isArrayBufferView(f)||C.isArrayBuffer(f))return f.byteLength;if(C.isURLSearchParams(f)&&(f=f+""),C.isString(f))return(await l(f)).byteLength},p=async(f,m)=>{const w=C.toFiniteNumber(f.getContentLength());return w??h(m)};return async f=>{let{url:m,method:w,data:g,signal:y,cancelToken:v,timeout:_,onDownloadProgress:x,onUploadProgress:k,responseType:E,headers:R,withCredentials:A="same-origin",fetchOptions:P}=xv(f),$=e||fetch;E=E?(E+"").toLowerCase():"text";let F=h1([y,v&&v.toAbortSignal()],_),Y=null;const ae=F&&F.unsubscribe&&(()=>{F.unsubscribe()});let V;try{if(k&&u&&w!=="get"&&w!=="head"&&(V=await p(R,g))!==0){let W=new n(m,{method:"POST",body:g,duplex:"half"}),K;if(C.isFormData(g)&&(K=W.headers.get("content-type"))&&R.setContentType(K),W.body){const[Ve,ve]=Hf(V,Ca(Wf(k)));g=qf(W.body,Kf,Ve,ve)}}C.isString(A)||(A=A?"include":"omit");const z=i&&"credentials"in n.prototype,ee={...P,signal:F,method:w.toUpperCase(),headers:R.normalize().toJSON(),body:g,duplex:"half",credentials:z?A:void 0};Y=i&&new n(m,ee);let O=await(i?$(Y,P):$(m,ee));const N=c&&(E==="stream"||E==="response");if(c&&(x||N&&ae)){const W={};["status","statusText","headers"].forEach(ft=>{W[ft]=O[ft]});const K=C.toFiniteNumber(O.headers.get("content-length")),[Ve,ve]=x&&Hf(K,Ca(Wf(x),!0))||[];O=new r(qf(O.body,Kf,Ve,()=>{ve&&ve(),ae&&ae()}),W)}E=E||"text";let M=await d[C.findKey(d,E)||"text"](O,f);return!N&&ae&&ae(),await new Promise((W,K)=>{_v(W,K,{data:M,headers:tt.from(O.headers),status:O.status,statusText:O.statusText,config:f,request:Y})})}catch(z){throw ae&&ae(),z&&z.name==="TypeError"&&/Load failed|fetch/i.test(z.message)?Object.assign(new U("Network Error",U.ERR_NETWORK,f,Y),{cause:z.cause||z}):U.from(z,z&&z.code,f,Y)}}},v1=new Map,Sv=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:s}=e,i=[r,s,n];let o=i.length,a=o,l,u,c=v1;for(;a--;)l=i[a],u=c.get(l),u===void 0&&c.set(l,u=a?new Map:y1(e)),c=u;return u};Sv();const $d={http:DE,xhr:d1,fetch:{get:Sv}};C.forEach($d,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Xf=t=>`- ${t}`,w1=t=>C.isFunction(t)||t===null||t===!1;function _1(t,e){t=C.isArray(t)?t:[t];const{length:n}=t;let r,s;const i={};for(let o=0;o<n;o++){r=t[o];let a;if(s=r,!w1(r)&&(s=$d[(a=String(r)).toLowerCase()],s===void 0))throw new U(`Unknown adapter '${a}'`);if(s&&(C.isFunction(s)||(s=s.get(e))))break;i[a||"#"+o]=s}if(!s){const o=Object.entries(i).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=n?o.length>1?`since :
`+o.map(Xf).join(`
`):" "+Xf(o[0]):"as no adapter specified";throw new U("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s}const kv={getAdapter:_1,adapters:$d};function tu(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ws(null,t)}function Qf(t){return tu(t),t.headers=tt.from(t.headers),t.data=eu.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),kv.getAdapter(t.adapter||Ji.adapter,t)(t).then(function(r){return tu(t),r.data=eu.call(t,t.transformResponse,r),r.headers=tt.from(r.headers),r},function(r){return wv(r)||(tu(t),r&&r.response&&(r.response.data=eu.call(t,t.transformResponse,r.response),r.response.headers=tt.from(r.response.headers))),Promise.reject(r)})}const Ev="1.13.2",ul={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ul[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Zf={};ul.transitional=function(e,n,r){function s(i,o){return"[Axios v"+Ev+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new U(s(o," has been removed"+(n?" in "+n:"")),U.ERR_DEPRECATED);return n&&!Zf[o]&&(Zf[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};ul.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function b1(t,e,n){if(typeof t!="object")throw new U("options must be an object",U.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const a=t[i],l=a===void 0||o(a,i,t);if(l!==!0)throw new U("option "+i+" must be "+l,U.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new U("Unknown option "+i,U.ERR_BAD_OPTION)}}const Go={assertOptions:b1,validators:ul},Ft=Go.validators;let hr=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Bf,response:new Bf}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=wr(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Go.assertOptions(r,{silentJSONParsing:Ft.transitional(Ft.boolean),forcedJSONParsing:Ft.transitional(Ft.boolean),clarifyTimeoutError:Ft.transitional(Ft.boolean)},!1),s!=null&&(C.isFunction(s)?n.paramsSerializer={serialize:s}:Go.assertOptions(s,{encode:Ft.function,serialize:Ft.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Go.assertOptions(n,{baseUrl:Ft.spelling("baseURL"),withXsrfToken:Ft.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&C.merge(i.common,i[n.method]);i&&C.forEach(["delete","get","head","post","put","patch","common"],f=>{delete i[f]}),n.headers=tt.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let c,d=0,h;if(!l){const f=[Qf.bind(this),void 0];for(f.unshift(...a),f.push(...u),h=f.length,c=Promise.resolve(n);d<h;)c=c.then(f[d++],f[d++]);return c}h=a.length;let p=n;for(;d<h;){const f=a[d++],m=a[d++];try{p=f(p)}catch(w){m.call(this,w);break}}try{c=Qf.call(this,p)}catch(f){return Promise.reject(f)}for(d=0,h=u.length;d<h;)c=c.then(u[d++],u[d++]);return c}getUri(e){e=wr(this.defaults,e);const n=bv(e.baseURL,e.url,e.allowAbsoluteUrls);return mv(n,e.params,e.paramsSerializer)}};C.forEach(["delete","get","head","options"],function(e){hr.prototype[e]=function(n,r){return this.request(wr(r||{},{method:e,url:n,data:(r||{}).data}))}});C.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,a){return this.request(wr(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}hr.prototype[e]=n(),hr.prototype[e+"Form"]=n(!0)});let x1=class Cv{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new ws(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Cv(function(s){e=s}),cancel:e}}};function S1(t){return function(n){return t.apply(null,n)}}function k1(t){return C.isObject(t)&&t.isAxiosError===!0}const _c={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(_c).forEach(([t,e])=>{_c[e]=t});function Rv(t){const e=new hr(t),n=sv(hr.prototype.request,e);return C.extend(n,hr.prototype,e,{allOwnKeys:!0}),C.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return Rv(wr(t,s))},n}const G=Rv(Ji);G.Axios=hr;G.CanceledError=ws;G.CancelToken=x1;G.isCancel=wv;G.VERSION=Ev;G.toFormData=ll;G.AxiosError=U;G.Cancel=G.CanceledError;G.all=function(e){return Promise.all(e)};G.spread=S1;G.isAxiosError=k1;G.mergeConfig=wr;G.AxiosHeaders=tt;G.formToJSON=t=>vv(C.isHTMLForm(t)?new FormData(t):t);G.getAdapter=kv.getAdapter;G.HttpStatusCode=_c;G.default=G;const{Axios:bO,AxiosError:xO,CanceledError:SO,isCancel:kO,CancelToken:EO,VERSION:CO,all:RO,Cancel:TO,isAxiosError:OO,spread:PO,toFormData:AO,AxiosHeaders:jO,HttpStatusCode:NO,formToJSON:IO,getAdapter:DO,mergeConfig:LO}=G,Lt="https://revi-app.onrender.com/api",Mt=async()=>{const{data:{session:t}}=await Sn.auth.getSession();if(!t)throw new Error("Not authenticated");return{Authorization:`Bearer ${t.access_token}`,"X-User-Id":t.user.id}},E1=async t=>{const e=await Mt();return(await G.post(`${Lt}/upload-file`,t,{headers:{...e,"Content-Type":"multipart/form-data"}})).data},C1=async(t,e=10)=>{const n=await Mt();return(await G.post(`${Lt}/generate-flashcards`,{text:t,numCards:e},{headers:n})).data},R1=async t=>{const e=await Mt(),n=await G.post(`${Lt}/decks`,t,{headers:e});return n.data.deck||n.data},T1=async t=>{const e=await Mt(),n=await G.post(`${Lt}/cards`,t,{headers:e});return n.data.card||n.data},O1=async()=>{const t=await Mt();return(await G.get(`${Lt}/decks`,{headers:t})).data},P1=async t=>{const e=await Mt();return(await G.get(`${Lt}/decks/${t}`,{headers:e})).data},A1=async t=>{const e=await Mt();return(await G.get(`${Lt}/decks/${t}`,{headers:e})).data},j1=async t=>{const e=await Mt();return(await G.post(`${Lt}/review-sessions`,t,{headers:e})).data},N1=async()=>{const t=await Mt();return(await G.get(`${Lt}/dashboard`,{headers:t})).data},I1=async()=>{const t=await Mt();return(await G.get(`${Lt}/history`,{headers:t})).data},D1=async()=>{const t=await Mt();return(await G.get(`${Lt}/analytics/overview`,{headers:t})).data};function L1(){const[t,e]=S.useState([]),[n,r]=S.useState(!0),[s,i]=S.useState(""),o=Vn();return S.useEffect(()=>{(async()=>{try{r(!0),i("");const l=await O1(),u=Array.isArray(l.decks)?l.decks:[];e(u)}catch(l){console.error("Error loading decks",l),i("Failed to load decks"),e([])}finally{r(!1)}})()},[]),n?b.jsx("div",{className:"flex items-center justify-center min-h-screen",children:b.jsx("div",{className:"text-xl text-gray-600",children:"Loading..."})}):s?b.jsx("div",{className:"p-6",children:b.jsx("p",{className:"text-red-500",children:s})}):b.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[b.jsxs("div",{className:"mb-8",children:[b.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Home"}),b.jsx("p",{className:"text-gray-600",children:"Welcome back! Continue your studies."})]}),b.jsxs("div",{className:"bg-white rounded-xl shadow p-6",children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsx("h2",{className:"text-xl font-bold",children:"My Decks"}),b.jsx("button",{onClick:()=>o("/decks/new"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Create New"})]}),t.length===0?b.jsxs("div",{className:"text-center py-12",children:[b.jsx("p",{className:"text-gray-600 mb-4",children:"No decks yet. Create your first one!"}),b.jsx("button",{onClick:()=>o("/decks/new"),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700",children:"Create Your First Deck"})]}):b.jsx("div",{className:"grid gap-4",children:t.map(a=>b.jsx("div",{onClick:()=>o(`/decks/${a.id}`),className:"border-2 border-gray-200 rounded-xl p-5 cursor-pointer hover:border-blue-500 hover:shadow",children:b.jsx("div",{className:"flex justify-between items-start",children:b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-bold text-gray-900",children:a.name}),b.jsx("p",{className:"text-gray-600 text-sm mt-1",children:a.description})]})})},a.id))})]})]})}function M1(){const[t,e]=S.useState(null),[n,r]=S.useState(!0),[s,i]=S.useState(""),o=Vn();if(S.useEffect(()=>{(async()=>{try{r(!0),i("");const c=await N1();e(c)}catch(c){console.error("Error loading dashboard",c),i("Failed to load dashboard")}finally{r(!1)}})()},[]),n)return b.jsx("div",{className:"flex items-center justify-center min-h-screen",children:b.jsx("div",{className:"text-xl text-gray-600",children:"Loading dashboard..."})});if(s||!t)return b.jsx("div",{className:"p-6",children:b.jsx("p",{className:"text-red-500",children:s||"No dashboard data"})});const{overview:a,recentSessions:l}=t;return b.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-bold mb-1",children:"Dashboard"}),b.jsx("p",{className:"text-gray-600",children:"Track your study progress and recent activity."})]}),b.jsx("button",{onClick:()=>o("/decks/new"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Create New Deck"})]}),b.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[b.jsxs("div",{className:"bg-white rounded-xl shadow p-4",children:[b.jsx("p",{className:"text-sm text-gray-500",children:"Decks"}),b.jsx("p",{className:"text-2xl font-bold",children:(a==null?void 0:a.totalDecks)??0})]}),b.jsxs("div",{className:"bg-white rounded-xl shadow p-4",children:[b.jsx("p",{className:"text-sm text-gray-500",children:"Cards"}),b.jsx("p",{className:"text-2xl font-bold",children:(a==null?void 0:a.totalCards)??0})]}),b.jsxs("div",{className:"bg-white rounded-xl shadow p-4",children:[b.jsx("p",{className:"text-sm text-gray-500",children:"Review Sessions"}),b.jsx("p",{className:"text-2xl font-bold",children:(a==null?void 0:a.totalSessions)??0})]})]}),b.jsxs("div",{className:"bg-white rounded-xl shadow p-6",children:[b.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Recent Sessions"}),!l||l.length===0?b.jsx("p",{className:"text-gray-500",children:"No review sessions yet. Start a session from a deck page."}):b.jsx("div",{className:"space-y-3",children:l.map(u=>b.jsxs("div",{className:"border rounded-lg p-3 flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsx("p",{className:"font-medium",children:u.deck_name}),b.jsx("p",{className:"text-xs text-gray-500",children:new Date(u.ended_at).toLocaleString()})]}),b.jsxs("div",{className:"text-sm text-gray-600",children:[u.total_cards," cards  ",u.duration_seconds,"s"]})]},u.id))})]})]})}function $1(){const[t,e]=S.useState("upload"),[n,r]=S.useState(""),[s,i]=S.useState(""),[o,a]=S.useState(null),[l,u]=S.useState(""),[c,d]=S.useState([{question:"",answer:""}]),[h,p]=S.useState(!1),[f,m]=S.useState(""),w=Vn(),g=()=>{d([...c,{question:"",answer:""}])},y=(_,x,k)=>{const E=[...c];E[_][x]=k,d(E)},v=async _=>{_.preventDefault();try{p(!0),m("");const x=await R1({name:n,description:s});let k=[];if(t==="upload"){if(!o)throw new Error("Please select a file");const E=new FormData;E.append("file",o),E.append("numCards",10),k=(await E1(E)).flashcards||[]}else if(t==="ai"){if(!l.trim())throw new Error("Please paste some text");k=(await C1(l,10)).flashcards||[]}else k=c.filter(E=>E.question.trim()&&E.answer.trim());for(const E of k)await T1({deckId:x.id,question:E.question,answer:E.answer});w(`/decks/${x.id}`)}catch(x){console.error("Error creating deck",x),m(x.message||"Failed to create deck")}finally{p(!1)}};return b.jsxs("div",{className:"max-w-3xl mx-auto p-6 space-y-6",children:[b.jsx("button",{onClick:()=>w(-1),className:"text-sm text-blue-600 mb-2",children:"Back"}),b.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Create New Deck"}),b.jsx("p",{className:"text-gray-600",children:"Choose how you want to create this deck: upload, use AI, or enter cards manually."}),b.jsxs("div",{className:"flex gap-2 mt-4",children:[b.jsx("button",{type:"button",onClick:()=>e("upload"),className:`px-3 py-1 rounded ${t==="upload"?"bg-blue-600 text-white":"bg-gray-200"}`,children:"Upload AI"}),b.jsx("button",{type:"button",onClick:()=>e("ai"),className:`px-3 py-1 rounded ${t==="ai"?"bg-blue-600 text-white":"bg-gray-200"}`,children:"Paste Text AI"}),b.jsx("button",{type:"button",onClick:()=>e("manual"),className:`px-3 py-1 rounded ${t==="manual"?"bg-blue-600 text-white":"bg-gray-200"}`,children:"Manual"})]}),b.jsxs("form",{onSubmit:v,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name"}),b.jsx("input",{type:"text",className:"w-full border rounded px-3 py-2",value:n,onChange:_=>r(_.target.value),required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),b.jsx("textarea",{className:"w-full border rounded px-3 py-2",rows:2,value:s,onChange:_=>i(_.target.value)})]}),t==="upload"&&b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium mb-1",children:"Upload file (PDF, DOCX)"}),b.jsx("input",{type:"file",accept:".pdf,.docx,application/pdf,application/vnd.openxmlformats-officedocument.wordprocessingml.document",onChange:_=>{var x;return a(((x=_.target.files)==null?void 0:x[0])||null)}})]}),t==="ai"&&b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium mb-1",children:"Paste text for AI to generate flashcards"}),b.jsx("textarea",{className:"w-full border rounded px-3 py-2",rows:6,value:l,onChange:_=>u(_.target.value)})]}),t==="manual"&&b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("label",{className:"block text-sm font-medium",children:"Manual flashcards"}),b.jsx("button",{type:"button",onClick:g,className:"text-sm text-blue-600",children:"Add Card"})]}),c.map((_,x)=>b.jsxs("div",{className:"border rounded p-3 space-y-2 bg-gray-50",children:[b.jsx("input",{type:"text",className:"w-full border rounded px-2 py-1 text-sm",placeholder:"Question",value:_.question,onChange:k=>y(x,"question",k.target.value)}),b.jsx("textarea",{className:"w-full border rounded px-2 py-1 text-sm",placeholder:"Answer",rows:2,value:_.answer,onChange:k=>y(x,"answer",k.target.value)})]},x))]}),f&&b.jsx("p",{className:"text-red-500 text-sm",children:f}),b.jsx("button",{type:"submit",disabled:h,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:h?"Creating...":"Create Deck"})]})]})}function F1(){const{deckId:t}=Ty(),[e,n]=S.useState(null),[r,s]=S.useState([]),[i,o]=S.useState(!0),[a,l]=S.useState(""),u=Vn();return S.useEffect(()=>{(async()=>{try{if(o(!0),l(""),!t||t==="new"){o(!1),l(t==="new"?"This is a new deck. Use the New Deck page to create it.":"No deck id provided."),n(null),s([]);return}const d=await P1(t);if(!d||!d.deck){l("Deck not found"),n(null),s([]);return}n(d.deck),s(Array.isArray(d.cards)?d.cards:[])}catch(d){console.error("Error loading deck",d),l("Failed to load deck"),n(null),s([])}finally{o(!1)}})()},[t]),i?b.jsx("div",{className:"flex items-center justify-center min-h-screen",children:b.jsx("div",{className:"text-xl text-gray-600",children:"Loading deck..."})}):a||!e?b.jsxs("div",{className:"max-w-3xl mx-auto p-6",children:[b.jsx("button",{onClick:()=>u(-1),className:"text-sm text-blue-600 mb-4",children:"Back"}),b.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Deck"}),b.jsx("p",{className:"text-red-500",children:a||"This deck could not be loaded."})]}):b.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[b.jsx("button",{onClick:()=>u(-1),className:"text-sm text-blue-600 mb-2",children:"Back"}),b.jsxs("div",{className:"bg-white rounded-xl shadow p-6",children:[b.jsx("div",{className:"flex justify-between items-start mb-4",children:b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-bold mb-1",children:e.name}),b.jsx("p",{className:"text-gray-600",children:e.description})]})}),b.jsxs("div",{className:"mt-4 mb-6 border-t pt-4",children:[b.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Cards"}),r.length===0?b.jsx("p",{className:"text-gray-500",children:"No cards in this deck yet. Use the review or edit flows you already set up."}):b.jsx("div",{className:"space-y-3",children:r.map((c,d)=>b.jsxs("div",{className:"border rounded-lg p-3 bg-gray-50 flex flex-col gap-1",children:[b.jsxs("div",{className:"font-semibold text-gray-800",children:["Q",d+1,". ",c.question]}),b.jsxs("div",{className:"text-gray-700",children:["A. ",c.answer]})]},c.id??d))})]})]})]})}function U1(){const[t,e]=S.useState([]),[n,r]=S.useState(!0);S.useEffect(()=>{(async()=>{try{const a=await I1();e(a.sessions||[])}catch(a){console.error("Error loading history:",a)}finally{r(!1)}})()},[]);const s=o=>new Date(o).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),i=o=>{const a=Math.floor(o/60),l=o%60;return`${a}m ${l}s`};return n?b.jsx("div",{className:"flex items-center justify-center min-h-screen",children:b.jsx("div",{className:"text-xl text-gray-600",children:"Loading history..."})}):t.length?b.jsxs("div",{className:"max-w-3xl mx-auto p-6 space-y-4",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Study History"}),b.jsx("p",{className:"text-gray-600",children:"Review your past study sessions and track improvement."})]}),b.jsx("div",{className:"space-y-3",children:t.map(o=>b.jsxs("div",{className:"bg-white rounded-lg shadow p-4 flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsx("p",{className:"font-semibold",children:o.deck_name||"Deck"}),b.jsxs("p",{className:"text-sm text-gray-500",children:[s(o.started_at)," "," ",i(o.duration_seconds||0)]})]}),b.jsxs("div",{className:"text-right text-sm",children:[b.jsxs("p",{className:"text-green-600",children:["Easy: ",o.easy_count??0]}),b.jsxs("p",{className:"text-yellow-600",children:["Medium: ",o.medium_count??0]}),b.jsxs("p",{className:"text-red-600",children:["Hard: ",o.hard_count??0]})]})]},o.id))})]}):b.jsxs("div",{className:"max-w-3xl mx-auto p-6",children:[b.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Study History"}),b.jsx("p",{className:"text-gray-600 mb-4",children:"Review your past study sessions and track improvement."}),b.jsxs("div",{className:"bg-white rounded-xl shadow p-6 text-center",children:[b.jsx("p",{className:"text-gray-700 mb-2",children:"No study sessions yet."}),b.jsx("p",{className:"text-gray-500 text-sm",children:"Complete a review session to see your history here."})]})]})}function B1(){const[t,e]=S.useState(null),[n,r]=S.useState(!0);return S.useEffect(()=>{(async()=>{try{const i=await D1();e({totalDecks:i.totalDecks??0,totalCards:i.totalCards??0,totalSessions:i.totalSessions??0,totalStudyMinutes:i.totalStudyMinutes??0})}catch(i){console.error("Error loading profile analytics:",i)}finally{r(!1)}})()},[]),n?b.jsx("div",{className:"flex items-center justify-center min-h-screen",children:b.jsx("div",{className:"text-xl text-gray-600",children:"Loading profile..."})}):t?b.jsxs("div",{className:"max-w-2xl mx-auto p-6 space-y-6",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Profile"}),b.jsx("p",{className:"text-gray-600",children:"Your study statistics and progress overview."})]}),b.jsxs("div",{className:"bg-white rounded-xl shadow p-6 space-y-4",children:[b.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Study Summary"}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"flex justify-between border-b pb-2",children:[b.jsx("span",{className:"text-gray-600",children:"Total Decks"}),b.jsx("span",{className:"font-bold",children:t.totalDecks})]}),b.jsxs("div",{className:"flex justify-between border-b pb-2",children:[b.jsx("span",{className:"text-gray-600",children:"Total Cards"}),b.jsx("span",{className:"font-bold",children:t.totalCards})]}),b.jsxs("div",{className:"flex justify-between border-b pb-2",children:[b.jsx("span",{className:"text-gray-600",children:"Study Sessions"}),b.jsx("span",{className:"font-bold",children:t.totalSessions})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{className:"text-gray-600",children:"Total Study Time (minutes)"}),b.jsx("span",{className:"font-bold",children:t.totalStudyMinutes})]})]})]})]}):b.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[b.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Profile"}),b.jsx("p",{className:"text-red-500",children:"Unable to load analytics."})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Gi(t){return t+.5|0}const Cn=(t,e,n)=>Math.max(Math.min(t,n),e);function Bs(t){return Cn(Gi(t*2.55),0,255)}function Mn(t){return Cn(Gi(t*255),0,255)}function tn(t){return Cn(Gi(t/2.55)/100,0,1)}function ep(t){return Cn(Gi(t*100),0,100)}const pt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},bc=[..."0123456789ABCDEF"],z1=t=>bc[t&15],H1=t=>bc[(t&240)>>4]+bc[t&15],bo=t=>(t&240)>>4===(t&15),W1=t=>bo(t.r)&&bo(t.g)&&bo(t.b)&&bo(t.a);function V1(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&pt[t[1]]*17,g:255&pt[t[2]]*17,b:255&pt[t[3]]*17,a:e===5?pt[t[4]]*17:255}:(e===7||e===9)&&(n={r:pt[t[1]]<<4|pt[t[2]],g:pt[t[3]]<<4|pt[t[4]],b:pt[t[5]]<<4|pt[t[6]],a:e===9?pt[t[7]]<<4|pt[t[8]]:255})),n}const q1=(t,e)=>t<255?e(t):"";function K1(t){var e=W1(t)?z1:H1;return t?"#"+e(t.r)+e(t.g)+e(t.b)+q1(t.a,e):void 0}const J1=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Tv(t,e,n){const r=e*Math.min(n,1-n),s=(i,o=(i+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function G1(t,e,n){const r=(s,i=(s+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function Y1(t,e,n){const r=Tv(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)r[s]*=1-e-n,r[s]+=e;return r}function X1(t,e,n,r,s){return t===s?(e-n)/r+(e<n?6:0):e===s?(n-t)/r+2:(t-e)/r+4}function Fd(t){const n=t.r/255,r=t.g/255,s=t.b/255,i=Math.max(n,r,s),o=Math.min(n,r,s),a=(i+o)/2;let l,u,c;return i!==o&&(c=i-o,u=a>.5?c/(2-i-o):c/(i+o),l=X1(n,r,s,c,i),l=l*60+.5),[l|0,u||0,a]}function Ud(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Mn)}function Bd(t,e,n){return Ud(Tv,t,e,n)}function Q1(t,e,n){return Ud(Y1,t,e,n)}function Z1(t,e,n){return Ud(G1,t,e,n)}function Ov(t){return(t%360+360)%360}function eC(t){const e=J1.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?Bs(+e[5]):Mn(+e[5]));const s=Ov(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=Q1(s,i,o):e[1]==="hsv"?r=Z1(s,i,o):r=Bd(s,i,o),{r:r[0],g:r[1],b:r[2],a:n}}function tC(t,e){var n=Fd(t);n[0]=Ov(n[0]+e),n=Bd(n),t.r=n[0],t.g=n[1],t.b=n[2]}function nC(t){if(!t)return;const e=Fd(t),n=e[0],r=ep(e[1]),s=ep(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${s}%, ${tn(t.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const tp={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},np={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function rC(){const t={},e=Object.keys(np),n=Object.keys(tp);let r,s,i,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],s=0;s<n.length;s++)i=n[s],a=a.replace(i,tp[i]);i=parseInt(np[o],16),t[a]=[i>>16&255,i>>8&255,i&255]}return t}let xo;function sC(t){xo||(xo=rC(),xo.transparent=[0,0,0,0]);const e=xo[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const iC=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function oC(t){const e=iC.exec(t);let n=255,r,s,i;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?Bs(o):Cn(o*255,0,255)}return r=+e[1],s=+e[3],i=+e[5],r=255&(e[2]?Bs(r):Cn(r,0,255)),s=255&(e[4]?Bs(s):Cn(s,0,255)),i=255&(e[6]?Bs(i):Cn(i,0,255)),{r,g:s,b:i,a:n}}}function aC(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${tn(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const nu=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Ar=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function lC(t,e,n){const r=Ar(tn(t.r)),s=Ar(tn(t.g)),i=Ar(tn(t.b));return{r:Mn(nu(r+n*(Ar(tn(e.r))-r))),g:Mn(nu(s+n*(Ar(tn(e.g))-s))),b:Mn(nu(i+n*(Ar(tn(e.b))-i))),a:t.a+n*(e.a-t.a)}}function So(t,e,n){if(t){let r=Fd(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=Bd(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function Pv(t,e){return t&&Object.assign(e||{},t)}function rp(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Mn(t[3]))):(e=Pv(t,{r:0,g:0,b:0,a:1}),e.a=Mn(e.a)),e}function uC(t){return t.charAt(0)==="r"?oC(t):eC(t)}class Ni{constructor(e){if(e instanceof Ni)return e;const n=typeof e;let r;n==="object"?r=rp(e):n==="string"&&(r=V1(e)||sC(e)||uC(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=Pv(this._rgb);return e&&(e.a=tn(e.a)),e}set rgb(e){this._rgb=rp(e)}rgbString(){return this._valid?aC(this._rgb):void 0}hexString(){return this._valid?K1(this._rgb):void 0}hslString(){return this._valid?nC(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,s=e.rgb;let i;const o=n===i?.5:n,a=2*o-1,l=r.a-s.a,u=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;i=1-u,r.r=255&u*r.r+i*s.r+.5,r.g=255&u*r.g+i*s.g+.5,r.b=255&u*r.b+i*s.b+.5,r.a=o*r.a+(1-o)*s.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=lC(this._rgb,e._rgb,n)),this}clone(){return new Ni(this.rgb)}alpha(e){return this._rgb.a=Mn(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Gi(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return So(this._rgb,2,e),this}darken(e){return So(this._rgb,2,-e),this}saturate(e){return So(this._rgb,1,e),this}desaturate(e){return So(this._rgb,1,-e),this}rotate(e){return tC(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Gt(){}const cC=(()=>{let t=0;return()=>t++})();function $e(t){return t==null}function Ae(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function J(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function hn(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Ut(t,e){return hn(t)?t:e}function Q(t,e){return typeof t>"u"?e:t}const dC=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Av=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function se(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function X(t,e,n,r){let s,i,o;if(Ae(t))for(i=t.length,s=0;s<i;s++)e.call(n,t[s],s);else if(J(t))for(o=Object.keys(t),i=o.length,s=0;s<i;s++)e.call(n,t[o[s]],o[s])}function Ra(t,e){let n,r,s,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(s=t[n],i=e[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function Ta(t){if(Ae(t))return t.map(Ta);if(J(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let s=0;for(;s<r;++s)e[n[s]]=Ta(t[n[s]]);return e}return t}function jv(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function hC(t,e,n,r){if(!jv(t))return;const s=e[t],i=n[t];J(s)&&J(i)?Ii(s,i,r):e[t]=Ta(i)}function Ii(t,e,n){const r=Ae(e)?e:[e],s=r.length;if(!J(t))return t;n=n||{};const i=n.merger||hC;let o;for(let a=0;a<s;++a){if(o=r[a],!J(o))continue;const l=Object.keys(o);for(let u=0,c=l.length;u<c;++u)i(l[u],t,o,n)}return t}function si(t,e){return Ii(t,e,{merger:fC})}function fC(t,e,n){if(!jv(t))return;const r=e[t],s=n[t];J(r)&&J(s)?si(r,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Ta(s))}const sp={"":t=>t,x:t=>t.x,y:t=>t.y};function pC(t){const e=t.split("."),n=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function gC(t){const e=pC(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function Di(t,e){return(sp[e]||(sp[e]=gC(e)))(t)}function zd(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Oa=t=>typeof t<"u",Un=t=>typeof t=="function",ip=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function mC(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ie=Math.PI,be=2*ie,Pa=Number.POSITIVE_INFINITY,yC=ie/180,Ee=ie/2,Jn=ie/4,op=ie*2/3,ap=Math.sign;function vC(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((s,i)=>s-i).pop(),e}function wC(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Aa(t){return!wC(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function ur(t){return t*(ie/180)}function _C(t){return t*(180/ie)}function Nv(t,e){const n=e.x-t.x,r=e.y-t.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*ie&&(i+=be),{angle:i,distance:s}}function bC(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Vt(t){return(t%be+be)%be}function ja(t,e,n,r){const s=Vt(t),i=Vt(e),o=Vt(n),a=Vt(i-s),l=Vt(o-s),u=Vt(s-i),c=Vt(s-o);return s===i||s===o||r&&i===o||a>l&&u<c}function vt(t,e,n){return Math.max(e,Math.min(n,t))}function xC(t){return vt(t,-32768,32767)}function zs(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function Hd(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const xc=(t,e,n,r)=>Hd(t,n,r?s=>{const i=t[s][e];return i<n||i===n&&t[s+1][e]===n}:s=>t[s][e]<n),SC=(t,e,n)=>Hd(t,n,r=>t[r][e]>=n);function kC(t,e,n){let r=0,s=t.length;for(;r<s&&t[r]<e;)r++;for(;s>r&&t[s-1]>n;)s--;return r>0||s<t.length?t.slice(r,s):t}const Iv=["push","pop","shift","splice","unshift"];function EC(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Iv.forEach(n=>{const r="_onData"+zd(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const o=s.apply(this,i);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...i)}),o}})})}function lp(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(Iv.forEach(i=>{delete t[i]}),delete t._chartjs)}function CC(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Dv=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Lv(t,e){let n=[],r=!1;return function(...s){n=s,r||(r=!0,Dv.call(window,()=>{r=!1,t.apply(e,n)}))}}function RC(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const Mv=t=>t==="start"?"left":t==="end"?"right":"center",rt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,TC=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e,ko=t=>t===0||t===1,up=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*be/n)),cp=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*be/n)+1,ii={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ee)+1,easeOutSine:t=>Math.sin(t*Ee),easeInOutSine:t=>-.5*(Math.cos(ie*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>ko(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>ko(t)?t:up(t,.075,.3),easeOutElastic:t=>ko(t)?t:cp(t,.075,.3),easeInOutElastic(t){return ko(t)?t:t<.5?.5*up(t*2,.1125,.45):.5+.5*cp(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-ii.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?ii.easeInBounce(t*2)*.5:ii.easeOutBounce(t*2-1)*.5+.5};function $v(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function dp(t){return $v(t)?t:new Ni(t)}function ru(t){return $v(t)?t:new Ni(t).saturate(.5).darken(.1).hexString()}const OC=["x","y","borderWidth","radius","tension"],PC=["color","borderColor","backgroundColor"];function AC(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:PC},numbers:{type:"number",properties:OC}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function jC(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const hp=new Map;function NC(t,e){e=e||{};const n=t+JSON.stringify(e);let r=hp.get(n);return r||(r=new Intl.NumberFormat(t,e),hp.set(n,r)),r}function IC(t,e,n){return NC(e,n).format(t)}const DC={values(t){return Ae(t)?t:""+t}};var LC={formatters:DC};function MC(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:LC.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const _r=Object.create(null),Sc=Object.create(null);function oi(t,e){if(!e)return t;const n=e.split(".");for(let r=0,s=n.length;r<s;++r){const i=n[r];t=t[i]||(t[i]=Object.create(null))}return t}function su(t,e,n){return typeof e=="string"?Ii(oi(t,e),n):Ii(oi(t,""),e)}class $C{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>ru(s.backgroundColor),this.hoverBorderColor=(r,s)=>ru(s.borderColor),this.hoverColor=(r,s)=>ru(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return su(this,e,n)}get(e){return oi(this,e)}describe(e,n){return su(Sc,e,n)}override(e,n){return su(_r,e,n)}route(e,n,r,s){const i=oi(this,e),o=oi(this,r),a="_"+n;Object.defineProperties(i,{[a]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],u=o[s];return J(l)?Object.assign({},u,l):Q(l,u)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var ye=new $C({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[AC,jC,MC]);function FC(t){return!t||$e(t.size)||$e(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function fp(t,e,n,r,s){let i=e[s];return i||(i=e[s]=t.measureText(s).width,n.push(s)),i>r&&(r=i),r}function Gn(t,e,n){const r=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*r)/r+s}function pp(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function gp(t,e,n,r){Fv(t,e,n,r,null)}function Fv(t,e,n,r,s){let i,o,a,l,u,c,d,h;const p=e.pointStyle,f=e.rotation,m=e.radius;let w=(f||0)*yC;if(p&&typeof p=="object"&&(i=p.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(w),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(m)||m<=0)){switch(t.beginPath(),p){default:s?t.ellipse(n,r,s/2,m,0,0,be):t.arc(n,r,m,0,be),t.closePath();break;case"triangle":c=s?s/2:m,t.moveTo(n+Math.sin(w)*c,r-Math.cos(w)*m),w+=op,t.lineTo(n+Math.sin(w)*c,r-Math.cos(w)*m),w+=op,t.lineTo(n+Math.sin(w)*c,r-Math.cos(w)*m),t.closePath();break;case"rectRounded":u=m*.516,l=m-u,o=Math.cos(w+Jn)*l,d=Math.cos(w+Jn)*(s?s/2-u:l),a=Math.sin(w+Jn)*l,h=Math.sin(w+Jn)*(s?s/2-u:l),t.arc(n-d,r-a,u,w-ie,w-Ee),t.arc(n+h,r-o,u,w-Ee,w),t.arc(n+d,r+a,u,w,w+Ee),t.arc(n-h,r+o,u,w+Ee,w+ie),t.closePath();break;case"rect":if(!f){l=Math.SQRT1_2*m,c=s?s/2:l,t.rect(n-c,r-l,2*c,2*l);break}w+=Jn;case"rectRot":d=Math.cos(w)*(s?s/2:m),o=Math.cos(w)*m,a=Math.sin(w)*m,h=Math.sin(w)*(s?s/2:m),t.moveTo(n-d,r-a),t.lineTo(n+h,r-o),t.lineTo(n+d,r+a),t.lineTo(n-h,r+o),t.closePath();break;case"crossRot":w+=Jn;case"cross":d=Math.cos(w)*(s?s/2:m),o=Math.cos(w)*m,a=Math.sin(w)*m,h=Math.sin(w)*(s?s/2:m),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o);break;case"star":d=Math.cos(w)*(s?s/2:m),o=Math.cos(w)*m,a=Math.sin(w)*m,h=Math.sin(w)*(s?s/2:m),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o),w+=Jn,d=Math.cos(w)*(s?s/2:m),o=Math.cos(w)*m,a=Math.sin(w)*m,h=Math.sin(w)*(s?s/2:m),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o);break;case"line":o=s?s/2:Math.cos(w)*m,a=Math.sin(w)*m,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(w)*(s?s/2:m),r+Math.sin(w)*m);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Uv(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Wd(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Vd(t){t.restore()}function UC(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),$e(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function BC(t,e,n,r,s){if(s.strikethrough||s.underline){const i=t.measureText(r),o=e-i.actualBoundingBoxLeft,a=e+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,u=n+i.actualBoundingBoxDescent,c=s.strikethrough?(l+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(o,c),t.lineTo(a,c),t.stroke()}}function zC(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Na(t,e,n,r,s,i={}){const o=Ae(e)?e:[e],a=i.strokeWidth>0&&i.strokeColor!=="";let l,u;for(t.save(),t.font=s.string,UC(t,i),l=0;l<o.length;++l)u=o[l],i.backdrop&&zC(t,i.backdrop),a&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),$e(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(u,n,r,i.maxWidth)),t.fillText(u,n,r,i.maxWidth),BC(t,n,r,u,i),r+=Number(s.lineHeight);t.restore()}function kc(t,e){const{x:n,y:r,w:s,h:i,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*ie,ie,!0),t.lineTo(n,r+i-o.bottomLeft),t.arc(n+o.bottomLeft,r+i-o.bottomLeft,o.bottomLeft,ie,Ee,!0),t.lineTo(n+s-o.bottomRight,r+i),t.arc(n+s-o.bottomRight,r+i-o.bottomRight,o.bottomRight,Ee,0,!0),t.lineTo(n+s,r+o.topRight),t.arc(n+s-o.topRight,r+o.topRight,o.topRight,0,-Ee,!0),t.lineTo(n+o.topLeft,r)}const HC=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,WC=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function VC(t,e){const n=(""+t).match(HC);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const qC=t=>+t||0;function qd(t,e){const n={},r=J(e),s=r?Object.keys(e):e,i=J(t)?r?o=>Q(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of s)n[o]=qC(i(o));return n}function KC(t){return qd(t,{top:"y",right:"x",bottom:"y",left:"x"})}function ai(t){return qd(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Nt(t){const e=KC(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ye(t,e){t=t||{},e=e||ye.font;let n=Q(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=Q(t.style,e.style);r&&!(""+r).match(WC)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:Q(t.family,e.family),lineHeight:VC(Q(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Q(t.weight,e.weight),string:""};return s.string=FC(s),s}function Eo(t,e,n,r){let s,i,o;for(s=0,i=t.length;s<i;++s)if(o=t[s],o!==void 0&&o!==void 0)return o}function JC(t,e,n){const{min:r,max:s}=t,i=Av(e,(s-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(i)),max:o(s,i)}}function _s(t,e){return Object.assign(Object.create(t),e)}function Kd(t,e=[""],n,r,s=()=>t[0]){const i=n||t;typeof r>"u"&&(r=Wv("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:r,_getTarget:s,override:a=>Kd([a,...t],e,i,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return zv(a,l,()=>nR(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return yp(a).includes(l)},ownKeys(a){return yp(a)},set(a,l,u){const c=a._storage||(a._storage=s());return a[l]=c[l]=u,delete a._keys,!0}})}function ds(t,e,n,r){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Bv(t,r),setContext:i=>ds(t,i,n,r),override:i=>ds(t.override(i),e,n,r)};return new Proxy(s,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,a){return zv(i,o,()=>YC(i,o,a))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,a){return t[o]=a,delete i[o],!0}})}function Bv(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:r,isScriptable:Un(n)?n:()=>n,isIndexable:Un(r)?r:()=>r}}const GC=(t,e)=>t?t+zd(e):e,Jd=(t,e)=>J(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function zv(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function YC(t,e,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:o}=t;let a=r[e];return Un(a)&&o.isScriptable(e)&&(a=XC(e,a,t,n)),Ae(a)&&a.length&&(a=QC(e,a,t,o.isIndexable)),Jd(e,a)&&(a=ds(a,s,i&&i[e],o)),a}function XC(t,e,n,r){const{_proxy:s,_context:i,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(i,o||r);return a.delete(t),Jd(t,l)&&(l=Gd(s._scopes,s,t,l)),l}function QC(t,e,n,r){const{_proxy:s,_context:i,_subProxy:o,_descriptors:a}=n;if(typeof i.index<"u"&&r(t))return e[i.index%e.length];if(J(e[0])){const l=e,u=s._scopes.filter(c=>c!==l);e=[];for(const c of l){const d=Gd(u,s,t,c);e.push(ds(d,i,o&&o[t],a))}}return e}function Hv(t,e,n){return Un(t)?t(e,n):t}const ZC=(t,e)=>t===!0?e:typeof t=="string"?Di(e,t):void 0;function eR(t,e,n,r,s){for(const i of e){const o=ZC(n,i);if(o){t.add(o);const a=Hv(o._fallback,n,s);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function Gd(t,e,n,r){const s=e._rootScopes,i=Hv(e._fallback,n,r),o=[...t,...s],a=new Set;a.add(r);let l=mp(a,o,n,i||n,r);return l===null||typeof i<"u"&&i!==n&&(l=mp(a,o,i,l,r),l===null)?!1:Kd(Array.from(a),[""],s,i,()=>tR(e,n,r))}function mp(t,e,n,r,s){for(;n;)n=eR(t,e,n,r,s);return n}function tR(t,e,n){const r=t._getTarget();e in r||(r[e]={});const s=r[e];return Ae(s)&&J(n)?n:s||{}}function nR(t,e,n,r){let s;for(const i of e)if(s=Wv(GC(i,t),n),typeof s<"u")return Jd(t,s)?Gd(n,r,t,s):s}function Wv(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function yp(t){let e=t._keys;return e||(e=t._keys=rR(t._scopes)),e}function rR(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}function Yd(){return typeof window<"u"&&typeof document<"u"}function Xd(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Ia(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const cl=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function sR(t,e){return cl(t).getPropertyValue(e)}const iR=["top","right","bottom","left"];function fr(t,e,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=iR[s];r[i]=parseFloat(t[e+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const oR=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function aR(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:s,offsetY:i}=r;let o=!1,a,l;if(oR(s,i,t.target))a=s,l=i;else{const u=e.getBoundingClientRect();a=r.clientX-u.left,l=r.clientY-u.top,o=!0}return{x:a,y:l,box:o}}function tr(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,s=cl(n),i=s.boxSizing==="border-box",o=fr(s,"padding"),a=fr(s,"border","width"),{x:l,y:u,box:c}=aR(t,n),d=o.left+(c&&a.left),h=o.top+(c&&a.top);let{width:p,height:f}=e;return i&&(p-=o.width+a.width,f-=o.height+a.height),{x:Math.round((l-d)/p*n.width/r),y:Math.round((u-h)/f*n.height/r)}}function lR(t,e,n){let r,s;if(e===void 0||n===void 0){const i=t&&Xd(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const o=i.getBoundingClientRect(),a=cl(i),l=fr(a,"border","width"),u=fr(a,"padding");e=o.width-u.width-l.width,n=o.height-u.height-l.height,r=Ia(a.maxWidth,i,"clientWidth"),s=Ia(a.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:r||Pa,maxHeight:s||Pa}}const Rn=t=>Math.round(t*10)/10;function uR(t,e,n,r){const s=cl(t),i=fr(s,"margin"),o=Ia(s.maxWidth,t,"clientWidth")||Pa,a=Ia(s.maxHeight,t,"clientHeight")||Pa,l=lR(t,e,n);let{width:u,height:c}=l;if(s.boxSizing==="content-box"){const h=fr(s,"border","width"),p=fr(s,"padding");u-=p.width+h.width,c-=p.height+h.height}return u=Math.max(0,u-i.width),c=Math.max(0,r?u/r:c-i.height),u=Rn(Math.min(u,o,l.maxWidth)),c=Rn(Math.min(c,a,l.maxHeight)),u&&!c&&(c=Rn(u/2)),(e!==void 0||n!==void 0)&&r&&l.height&&c>l.height&&(c=l.height,u=Rn(Math.floor(c*r))),{width:u,height:c}}function vp(t,e,n){const r=e||1,s=Rn(t.height*r),i=Rn(t.width*r);t.height=Rn(t.height),t.width=Rn(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==s||o.width!==i?(t.currentDevicePixelRatio=r,o.height=s,o.width=i,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const cR=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Yd()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function wp(t,e){const n=sR(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}const dR=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},hR=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function ns(t,e,n){return t?dR(e,n):hR()}function Vv(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function qv(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Co(t,e,n){return t.options.clip?t[n]:e[n]}function fR(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:Co(n,e,"left"),right:Co(n,e,"right"),top:Co(r,e,"top"),bottom:Co(r,e,"bottom")}:e}function pR(t,e){const n=e._clip;if(n.disabled)return!1;const r=fR(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class gR{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,s){const i=n.listeners[s],o=n.duration;i.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Dv.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let o=i.length-1,a=!1,l;for(;o>=0;--o)l=i[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(i[o]=i[i.length-1],i.pop());a&&(s.draw(),this._notify(s,r,e,"progress")),i.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Yt=new gR;const _p="transparent",mR={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=dp(t||_p),s=r.valid&&dp(e||_p);return s&&s.valid?s.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class yR{constructor(e,n,r,s){const i=n[r];s=Eo([e.to,s,i,e.from]);const o=Eo([e.from,i,s]);this._active=!0,this._fn=e.fn||mR[e.type||typeof o],this._easing=ii[e.easing]||ii.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,o=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Eo([e.to,n,s,e.from]),this._from=Eo([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,s=this._prop,i=this._from,o=this._loop,a=this._to;let l;if(this._active=i!==a&&(o||n<r),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=i;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(i,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class Kv{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!J(e))return;const n=Object.keys(ye.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!J(i))return;const o={};for(const a of n)o[a]=i[a];(Ae(i.properties)&&i.properties||[s]).forEach(a=>{(a===s||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,s=wR(e,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&vR(e.options.$animations,r).then(()=>{e.options=r},()=>{}),i}_createAnimations(e,n){const r=this._properties,s=[],i=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const u=o[l];if(u.charAt(0)==="$")continue;if(u==="options"){s.push(...this._animateOptions(e,n));continue}const c=n[u];let d=i[u];const h=r.get(u);if(d)if(h&&d.active()){d.update(h,c,a);continue}else d.cancel();if(!h||!h.duration){e[u]=c;continue}i[u]=d=new yR(h,e,u,c),s.push(d)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Yt.add(this._chart,r),!0}}function vR(t,e){const n=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const i=t[r[s]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function wR(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function bp(t,e){const n=t&&t.options||{},r=n.reverse,s=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:r?i:s,end:r?s:i}}function _R(t,e,n){if(n===!1)return!1;const r=bp(t,n),s=bp(e,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function bR(t){let e,n,r,s;return J(t)?(e=t.top,n=t.right,r=t.bottom,s=t.left):e=n=r=s=t,{top:e,right:n,bottom:r,left:s,disabled:t===!1}}function Jv(t,e){const n=[],r=t._getSortedDatasetMetas(e);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function xp(t,e,n,r={}){const s=t.keys,i=r.mode==="single";let o,a,l,u;if(e===null)return;let c=!1;for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===n){if(c=!0,r.all)continue;break}u=t.values[l],hn(u)&&(i||e===0||ap(e)===ap(u))&&(e+=u)}return!c&&!r.all?0:e}function xR(t,e){const{iScale:n,vScale:r}=e,s=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,u,c;for(l=0,u=o.length;l<u;++l)c=o[l],a[l]={[s]:c,[i]:t[c]};return a}function iu(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function SR(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function kR(t){const{min:e,max:n,minDefined:r,maxDefined:s}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function ER(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function Sp(t,e,n,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const i=t[s.index];if(n&&i>0||!n&&i<0)return s.index}return null}function kp(t,e){const{chart:n,_cachedMeta:r}=t,s=n._stacks||(n._stacks={}),{iScale:i,vScale:o,index:a}=r,l=i.axis,u=o.axis,c=SR(i,o,r),d=e.length;let h;for(let p=0;p<d;++p){const f=e[p],{[l]:m,[u]:w}=f,g=f._stacks||(f._stacks={});h=g[u]=ER(s,c,m),h[a]=w,h._top=Sp(h,o,!0,r.type),h._bottom=Sp(h,o,!1,r.type);const y=h._visualValues||(h._visualValues={});y[a]=w}}function ou(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function CR(t,e){return _s(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function RR(t,e,n){return _s(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function As(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const s of e){const i=s._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const au=t=>t==="reset"||t==="none",Ep=(t,e)=>e?t:Object.assign({},t),TR=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Jv(n,!0),values:null};class li{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=iu(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&As(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(d,h,p,f)=>d==="x"?h:d==="r"?f:p,i=n.xAxisID=Q(r.xAxisID,ou(e,"x")),o=n.yAxisID=Q(r.yAxisID,ou(e,"y")),a=n.rAxisID=Q(r.rAxisID,ou(e,"r")),l=n.indexAxis,u=n.iAxisID=s(l,i,o,a),c=n.vAxisID=s(l,o,i,a);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&lp(this._data,this),e._stacked&&As(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(J(n)){const s=this._cachedMeta;this._data=xR(n,s)}else if(r!==n){if(r){lp(r,this);const s=this._cachedMeta;As(s),s._parsed=[]}n&&Object.isExtensible(n)&&EC(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=n._stacked;n._stacked=iu(n.vScale,n),n.stack!==r.stack&&(s=!0,As(n),n.stack=r.stack),this._resyncElements(e),(s||i!==n._stacked)&&(kp(this,n._parsed),n._stacked=iu(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:o}=r,a=i.axis;let l=e===0&&n===s.length?!0:r._sorted,u=e>0&&r._parsed[e-1],c,d,h;if(this._parsing===!1)r._parsed=s,r._sorted=!0,h=s;else{Ae(s[e])?h=this.parseArrayData(r,s,e,n):J(s[e])?h=this.parseObjectData(r,s,e,n):h=this.parsePrimitiveData(r,s,e,n);const p=()=>d[a]===null||u&&d[a]<u[a];for(c=0;c<n;++c)r._parsed[c+e]=d=h[c],l&&(p()&&(l=!1),u=d);r._sorted=l}o&&kp(this,h)}parsePrimitiveData(e,n,r,s){const{iScale:i,vScale:o}=e,a=i.axis,l=o.axis,u=i.getLabels(),c=i===o,d=new Array(s);let h,p,f;for(h=0,p=s;h<p;++h)f=h+r,d[h]={[a]:c||i.parse(u[f],f),[l]:o.parse(n[f],f)};return d}parseArrayData(e,n,r,s){const{xScale:i,yScale:o}=e,a=new Array(s);let l,u,c,d;for(l=0,u=s;l<u;++l)c=l+r,d=n[c],a[l]={x:i.parse(d[0],c),y:o.parse(d[1],c)};return a}parseObjectData(e,n,r,s){const{xScale:i,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=new Array(s);let c,d,h,p;for(c=0,d=s;c<d;++c)h=c+r,p=n[h],u[c]={x:i.parse(Di(p,a),h),y:o.parse(Di(p,l),h)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const s=this.chart,i=this._cachedMeta,o=n[e.axis],a={keys:Jv(s,!0),values:n._stacks[e.axis]._visualValues};return xp(a,o,i.index,{mode:r})}updateRangeFromParsed(e,n,r,s){const i=r[n.axis];let o=i===null?NaN:i;const a=s&&r._stacks[n.axis];s&&a&&(s.values=a,o=xp(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&e===r.iScale,o=s.length,a=this._getOtherScale(e),l=TR(n,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=kR(a);let h,p;function f(){p=s[h];const m=p[a.axis];return!hn(p[e.axis])||c>m||d<m}for(h=0;h<o&&!(!f()&&(this.updateRangeFromParsed(u,e,p,l),i));++h);if(i){for(h=o-1;h>=0;--h)if(!f()){this.updateRangeFromParsed(u,e,p,l);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let s,i,o;for(s=0,i=n.length;s<i;++s)o=n[s][e.axis],hn(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,s=n.vScale,i=this.getParsed(e);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=bR(Q(this.options.clip,_R(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],i=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,u=this.options.drawActiveElementsOnTop;let c;for(r.dataset&&r.dataset.draw(e,i,a,l),c=a;c<a+l;++c){const d=s[c];d.hidden||(d.active&&u?o.push(d):d.draw(e,i))}for(c=0;c<o.length;++c)o[c].draw(e,i)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=RR(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=CR(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const s=n==="active",i=this._cachedDataOpts,o=e+"-"+n,a=i[o],l=this.enableOptionSharing&&Oa(r);if(a)return Ep(a,l);const u=this.chart.config,c=u.datasetElementScopeKeys(this._type,e),d=s?[`${e}Hover`,"hover",e,""]:[e,""],h=u.getOptionScopes(this.getDataset(),c),p=Object.keys(ye.elements[e]),f=()=>this.getContext(r,s,n),m=u.resolveNamedOptions(h,p,f,d);return m.$shared&&(m.$shared=l,i[o]=Object.freeze(Ep(m,l))),m}_resolveAnimations(e,n,r){const s=this.chart,i=this._cachedDataOpts,o=`animation-${n}`,a=i[o];if(a)return a;let l;if(s.options.animation!==!1){const c=this.chart.config,d=c.datasetAnimationScopeKeys(this._type,n),h=c.getOptionScopes(this.getDataset(),d);l=c.createResolver(h,this.getContext(e,r,n))}const u=new Kv(s,l&&l.animations);return l&&l._cacheable&&(i[o]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||au(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,i=this.getSharedOptions(r),o=this.includeOptions(n,i)||i!==s;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:o}}updateElement(e,n,r,s){au(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!au(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;const i=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,u]of this._syncList)this[a](l,u);this._syncList=[];const s=r.length,i=n.length,o=Math.min(i,s);o&&this.parse(0,o),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,n,r=!0){const s=this._cachedMeta,i=s.data,o=e+n;let a;const l=u=>{for(u.length+=n,a=u.length-1;a>=o;a--)u[a]=u[a-n]};for(l(i),a=e;a<o;++a)i[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,n),r&&this.updateElements(i,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,n);r._stacked&&As(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}B(li,"defaults",{}),B(li,"datasetElementType",null),B(li,"dataElementType",null);function OR(t,e,n){let r=1,s=1,i=0,o=0;if(e<be){const a=t,l=a+e,u=Math.cos(a),c=Math.sin(a),d=Math.cos(l),h=Math.sin(l),p=(v,_,x)=>ja(v,a,l,!0)?1:Math.max(_,_*n,x,x*n),f=(v,_,x)=>ja(v,a,l,!0)?-1:Math.min(_,_*n,x,x*n),m=p(0,u,d),w=p(Ee,c,h),g=f(ie,u,d),y=f(ie+Ee,c,h);r=(m-g)/2,s=(w-y)/2,i=-(m+g)/2,o=-(w+y)/2}return{ratioX:r,ratioY:s,offsetX:i,offsetY:o}}class Hs extends li{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let i=l=>+r[l];if(J(r[e])){const{key:l="value"}=this._parsing;i=u=>+Di(r[u],l)}let o,a;for(o=e,a=e+n;o<a;++o)s._parsed[o]=i(o)}}_getRotation(){return ur(this.options.rotation-90)}_getCircumference(){return ur(this.options.circumference)}_getRotationExtents(){let e=be,n=-be;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,i=s._getRotation(),o=s._getCircumference();e=Math.min(e,i),n=Math.max(n,i+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,s=this._cachedMeta,i=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min(dC(this.options.cutout,a),1),u=this._getRingWeight(this.index),{circumference:c,rotation:d}=this._getRotationExtents(),{ratioX:h,ratioY:p,offsetX:f,offsetY:m}=OR(d,c,l),w=(r.width-o)/h,g=(r.height-o)/p,y=Math.max(Math.min(w,g)/2,0),v=Av(this.options.radius,y),_=Math.max(v*l,0),x=(v-_)/this._getVisibleDatasetWeightTotal();this.offsetX=f*v,this.offsetY=m*v,s.total=this.calculateTotal(),this.outerRadius=v-x*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-x*u,0),this.updateElements(i,0,i.length,e)}_circumference(e,n){const r=this.options,s=this._cachedMeta,i=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*i/be)}updateElements(e,n,r,s){const i=s==="reset",o=this.chart,a=o.chartArea,u=o.options.animation,c=(a.left+a.right)/2,d=(a.top+a.bottom)/2,h=i&&u.animateScale,p=h?0:this.innerRadius,f=h?0:this.outerRadius,{sharedOptions:m,includeOptions:w}=this._getSharedOptions(n,s);let g=this._getRotation(),y;for(y=0;y<n;++y)g+=this._circumference(y,i);for(y=n;y<n+r;++y){const v=this._circumference(y,i),_=e[y],x={x:c+this.offsetX,y:d+this.offsetY,startAngle:g,endAngle:g+v,circumference:v,outerRadius:f,innerRadius:p};w&&(x.options=m||this.resolveDataElementOptions(y,_.active?"active":s)),g+=v,this.updateElement(_,y,x,s)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,s;for(s=0;s<n.length;s++){const i=e._parsed[s];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(i))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?be*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],i=IC(n._parsed[e],r.options.locale);return{label:s[e]||"",value:i}}getMaxBorderWidth(e){let n=0;const r=this.chart;let s,i,o,a,l;if(!e){for(s=0,i=r.data.datasets.length;s<i;++s)if(r.isDatasetVisible(s)){o=r.getDatasetMeta(s),e=o.data,a=o.controller;break}}if(!e)return 0;for(s=0,i=e.length;s<i;++s)l=a.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,s=e.length;r<s;++r){const i=this.resolveDataElementOptions(r);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(Q(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}B(Hs,"id","doughnut"),B(Hs,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),B(Hs,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),B(Hs,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:r,textAlign:s,color:i,useBorderRadius:o,borderRadius:a}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((l,u)=>{const d=e.getDatasetMeta(0).controller.getStyle(u);return{text:l,fillStyle:d.backgroundColor,fontColor:i,hidden:!e.getDataVisibility(u),lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:d.borderWidth,strokeStyle:d.borderColor,textAlign:s,pointStyle:r,borderRadius:o&&(a||d.borderRadius),index:u}}):[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class Ec extends Hs{}B(Ec,"id","pie"),B(Ec,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Yn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Qd{constructor(e){B(this,"options");this.options=e||{}}static override(e){Object.assign(Qd.prototype,e)}init(){}formats(){return Yn()}parse(){return Yn()}format(){return Yn()}add(){return Yn()}diff(){return Yn()}startOf(){return Yn()}endOf(){return Yn()}}var PR={_date:Qd};function AR(t,e,n,r){const{controller:s,data:i,_sorted:o}=t,a=s._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&i.length){const u=a._reversePixels?SC:xc;if(r){if(s._sharedOptions){const c=i[0],d=typeof c.getRange=="function"&&c.getRange(e);if(d){const h=u(i,e,n-d),p=u(i,e,n+d);return{lo:h.lo,hi:p.hi}}}}else{const c=u(i,e,n);if(l){const{vScale:d}=s._cachedMeta,{_parsed:h}=t,p=h.slice(0,c.lo+1).reverse().findIndex(m=>!$e(m[d.axis]));c.lo-=Math.max(0,p);const f=h.slice(c.hi).findIndex(m=>!$e(m[d.axis]));c.hi+=Math.max(0,f)}return c}}return{lo:0,hi:i.length-1}}function dl(t,e,n,r,s){const i=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=i.length;a<l;++a){const{index:u,data:c}=i[a],{lo:d,hi:h}=AR(i[a],e,o,s);for(let p=d;p<=h;++p){const f=c[p];f.skip||r(f,u,p)}}}function jR(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,s){const i=e?Math.abs(r.x-s.x):0,o=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function lu(t,e,n,r,s){const i=[];return!s&&!t.isPointInArea(e)||dl(t,n,e,function(a,l,u){!s&&!Uv(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&i.push({element:a,datasetIndex:l,index:u})},!0),i}function NR(t,e,n,r){let s=[];function i(o,a,l){const{startAngle:u,endAngle:c}=o.getProps(["startAngle","endAngle"],r),{angle:d}=Nv(o,{x:e.x,y:e.y});ja(d,u,c)&&s.push({element:o,datasetIndex:a,index:l})}return dl(t,n,e,i),s}function IR(t,e,n,r,s,i){let o=[];const a=jR(n);let l=Number.POSITIVE_INFINITY;function u(c,d,h){const p=c.inRange(e.x,e.y,s);if(r&&!p)return;const f=c.getCenterPoint(s);if(!(!!i||t.isPointInArea(f))&&!p)return;const w=a(e,f);w<l?(o=[{element:c,datasetIndex:d,index:h}],l=w):w===l&&o.push({element:c,datasetIndex:d,index:h})}return dl(t,n,e,u),o}function uu(t,e,n,r,s,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!r?NR(t,e,n,s):IR(t,e,n,r,s,i)}function Cp(t,e,n,r,s){const i=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return dl(t,n,e,(l,u,c)=>{l[o]&&l[o](e[n],s)&&(i.push({element:l,datasetIndex:u,index:c}),a=a||l.inRange(e.x,e.y,s))}),r&&!a?[]:i}var DR={modes:{index(t,e,n,r){const s=tr(e,t),i=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?lu(t,s,i,r,o):uu(t,s,i,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const c=a[0].index,d=u.data[c];d&&!d.skip&&l.push({element:d,datasetIndex:u.index,index:c})}),l):[]},dataset(t,e,n,r){const s=tr(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?lu(t,s,i,r,o):uu(t,s,i,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,u=t.getDatasetMeta(l).data;a=[];for(let c=0;c<u.length;++c)a.push({element:u[c],datasetIndex:l,index:c})}return a},point(t,e,n,r){const s=tr(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return lu(t,s,i,r,o)},nearest(t,e,n,r){const s=tr(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return uu(t,s,i,n.intersect,r,o)},x(t,e,n,r){const s=tr(e,t);return Cp(t,s,"x",n.intersect,r)},y(t,e,n,r){const s=tr(e,t);return Cp(t,s,"y",n.intersect,r)}}};const Gv=["left","top","right","bottom"];function js(t,e){return t.filter(n=>n.pos===e)}function Rp(t,e){return t.filter(n=>Gv.indexOf(n.pos)===-1&&n.box.axis===e)}function Ns(t,e){return t.sort((n,r)=>{const s=e?r:n,i=e?n:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function LR(t){const e=[];let n,r,s,i,o,a;for(n=0,r=(t||[]).length;n<r;++n)s=t[n],{position:i,options:{stack:o,stackWeight:a=1}}=s,e.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&i+o,stackWeight:a});return e}function MR(t){const e={};for(const n of t){const{stack:r,pos:s,stackWeight:i}=n;if(!r||!Gv.includes(s))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function $R(t,e){const n=MR(t),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let i,o,a;for(i=0,o=t.length;i<o;++i){a=t[i];const{fullSize:l}=a.box,u=n[a.stack],c=u&&a.stackWeight/u.weight;a.horizontal?(a.width=c?c*r:l&&e.availableWidth,a.height=s):(a.width=r,a.height=c?c*s:l&&e.availableHeight)}return n}function FR(t){const e=LR(t),n=Ns(e.filter(u=>u.box.fullSize),!0),r=Ns(js(e,"left"),!0),s=Ns(js(e,"right")),i=Ns(js(e,"top"),!0),o=Ns(js(e,"bottom")),a=Rp(e,"x"),l=Rp(e,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:js(e,"chartArea"),vertical:r.concat(s).concat(l),horizontal:i.concat(o).concat(a)}}function Tp(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function Yv(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function UR(t,e,n,r){const{pos:s,box:i}=n,o=t.maxPadding;if(!J(s)){n.size&&(t[s]-=n.size);const d=r[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?i.height:i.width),n.size=d.size/d.count,t[s]+=n.size}i.getPadding&&Yv(o,i.getPadding());const a=Math.max(0,e.outerWidth-Tp(o,t,"left","right")),l=Math.max(0,e.outerHeight-Tp(o,t,"top","bottom")),u=a!==t.w,c=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:u,other:c}:{same:c,other:u}}function BR(t){const e=t.maxPadding;function n(r){const s=Math.max(e[r]-t[r],0);return t[r]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function zR(t,e){const n=e.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{i[o]=Math.max(e[o],n[o])}),i}return r(t?["left","right"]:["top","bottom"])}function Ws(t,e,n,r){const s=[];let i,o,a,l,u,c;for(i=0,o=t.length,u=0;i<o;++i){a=t[i],l=a.box,l.update(a.width||e.w,a.height||e.h,zR(a.horizontal,e));const{same:d,other:h}=UR(e,n,a,r);u|=d&&s.length,c=c||h,l.fullSize||s.push(a)}return u&&Ws(s,e,n,r)||c}function Ro(t,e,n,r,s){t.top=n,t.left=e,t.right=e+r,t.bottom=n+s,t.width=r,t.height=s}function Op(t,e,n,r){const s=n.padding;let{x:i,y:o}=e;for(const a of t){const l=a.box,u=r[a.stack]||{placed:0,weight:1},c=a.stackWeight/u.weight||1;if(a.horizontal){const d=e.w*c,h=u.size||l.height;Oa(u.start)&&(o=u.start),l.fullSize?Ro(l,s.left,o,n.outerWidth-s.right-s.left,h):Ro(l,e.left+u.placed,o,d,h),u.start=o,u.placed+=d,o=l.bottom}else{const d=e.h*c,h=u.size||l.width;Oa(u.start)&&(i=u.start),l.fullSize?Ro(l,i,s.top,h,n.outerHeight-s.bottom-s.top):Ro(l,i,e.top+u.placed,h,d),u.start=i,u.placed+=d,i=l.right}}e.x=i,e.y=o}var Tn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const s=Nt(t.options.layout.padding),i=Math.max(e-s.width,0),o=Math.max(n-s.height,0),a=FR(t.boxes),l=a.vertical,u=a.horizontal;X(t.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const c=l.reduce((m,w)=>w.box.options&&w.box.options.display===!1?m:m+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/c,hBoxMaxHeight:o/2}),h=Object.assign({},s);Yv(h,Nt(r));const p=Object.assign({maxPadding:h,w:i,h:o,x:s.left,y:s.top},s),f=$R(l.concat(u),d);Ws(a.fullSize,p,d,f),Ws(l,p,d,f),Ws(u,p,d,f)&&Ws(l,p,d,f),BR(p),Op(a.leftAndTop,p,d,f),p.x+=p.w,p.y+=p.h,Op(a.rightAndBottom,p,d,f),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},X(a.chartArea,m=>{const w=m.box;Object.assign(w,t.chartArea),w.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class Xv{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,s){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(e){return!0}updateConfig(e){}}class HR extends Xv{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Yo="$chartjs",WR={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Pp=t=>t===null||t==="";function VR(t,e){const n=t.style,r=t.getAttribute("height"),s=t.getAttribute("width");if(t[Yo]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Pp(s)){const i=wp(t,"width");i!==void 0&&(t.width=i)}if(Pp(r))if(t.style.height==="")t.height=t.width/(e||2);else{const i=wp(t,"height");i!==void 0&&(t.height=i)}return t}const Qv=cR?{passive:!0}:!1;function qR(t,e,n){t&&t.addEventListener(e,n,Qv)}function KR(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,Qv)}function JR(t,e){const n=WR[t.type]||t.type,{x:r,y:s}=tr(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:s!==void 0?s:null}}function Da(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function GR(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||Da(a.addedNodes,r),o=o&&!Da(a.removedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function YR(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||Da(a.removedNodes,r),o=o&&!Da(a.addedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Li=new Map;let Ap=0;function Zv(){const t=window.devicePixelRatio;t!==Ap&&(Ap=t,Li.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function XR(t,e){Li.size||window.addEventListener("resize",Zv),Li.set(t,e)}function QR(t){Li.delete(t),Li.size||window.removeEventListener("resize",Zv)}function ZR(t,e,n){const r=t.canvas,s=r&&Xd(r);if(!s)return;const i=Lv((a,l)=>{const u=s.clientWidth;n(a,l),u<s.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],u=l.contentRect.width,c=l.contentRect.height;u===0&&c===0||i(u,c)});return o.observe(s),XR(t,i),o}function cu(t,e,n){n&&n.disconnect(),e==="resize"&&QR(t)}function eT(t,e,n){const r=t.canvas,s=Lv(i=>{t.ctx!==null&&n(JR(i,t))},t);return qR(r,e,s),s}class tT extends Xv{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(VR(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Yo])return!1;const r=n[Yo].initial;["height","width"].forEach(i=>{const o=r[i];$e(o)?n.removeAttribute(i):n.setAttribute(i,o)});const s=r.style||{};return Object.keys(s).forEach(i=>{n.style[i]=s[i]}),n.width=n.width,delete n[Yo],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),o={attach:GR,detach:YR,resize:ZR}[n]||eT;s[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),s=r[n];if(!s)return;({attach:cu,detach:cu,resize:cu}[n]||KR)(e,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,s){return uR(e,n,r,s)}isAttached(e){const n=e&&Xd(e);return!!(n&&n.isConnected)}}function nT(t){return!Yd()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?HR:tT}class br{constructor(){B(this,"x");B(this,"y");B(this,"active",!1);B(this,"options");B(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return Aa(this.x)&&Aa(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const s={};return e.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}}B(br,"defaults",{}),B(br,"defaultRoutes");function rT(t,e){const n=t.options.ticks,r=sT(t),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?oT(e):[],o=i.length,a=i[0],l=i[o-1],u=[];if(o>s)return aT(e,u,i,o/s),u;const c=iT(i,e,s);if(o>0){let d,h;const p=o>1?Math.round((l-a)/(o-1)):null;for(To(e,u,c,$e(p)?0:a-p,a),d=0,h=o-1;d<h;d++)To(e,u,c,i[d],i[d+1]);return To(e,u,c,l,$e(p)?e.length:l+p),u}return To(e,u,c),u}function sT(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(r,s))}function iT(t,e,n){const r=lT(t),s=e.length/n;if(!r)return Math.max(s,1);const i=vC(r);for(let o=0,a=i.length-1;o<a;o++){const l=i[o];if(l>s)return l}return Math.max(s,1)}function oT(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function aT(t,e,n,r){let s=0,i=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===i&&(e.push(t[o]),s++,i=n[s*r])}function To(t,e,n,r,s){const i=Q(r,0),o=Math.min(Q(s,t.length),t.length);let a=0,l,u,c;for(n=Math.ceil(n),s&&(l=s-r,n=l/Math.floor(l/n)),c=i;c<0;)a++,c=Math.round(i+a*n);for(u=Math.max(i,0);u<o;u++)u===c&&(e.push(t[u]),a++,c=Math.round(i+a*n))}function lT(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const uT=t=>t==="left"?"right":t==="right"?"left":t,jp=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Np=(t,e)=>Math.min(e||t,t);function Ip(t,e){const n=[],r=t.length/e,s=t.length;let i=0;for(;i<s;i+=r)n.push(t[Math.floor(i)]);return n}function cT(t,e,n){const r=t.ticks.length,s=Math.min(e,r-1),i=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(s),u;if(!(n&&(r===1?u=Math.max(l-i,o-l):e===0?u=(t.getPixelForTick(1)-l)/2:u=(l-t.getPixelForTick(s-1))/2,l+=s<e?u:-u,l<i-a||l>o+a)))return l}function dT(t,e){X(t,n=>{const r=n.gc,s=r.length/2;let i;if(s>e){for(i=0;i<s;++i)delete n.data[r[i]];r.splice(0,s)}})}function Is(t){return t.drawTicks?t.tickLength:0}function Dp(t,e){if(!t.display)return 0;const n=Ye(t.font,e),r=Nt(t.padding);return(Ae(t.text)?t.text.length:1)*n.lineHeight+r.height}function hT(t,e){return _s(t,{scale:e,type:"scale"})}function fT(t,e,n){return _s(t,{tick:n,index:e,type:"tick"})}function pT(t,e,n){let r=Mv(t);return(n&&e!=="right"||!n&&e==="right")&&(r=uT(r)),r}function gT(t,e,n,r){const{top:s,left:i,bottom:o,right:a,chart:l}=t,{chartArea:u,scales:c}=l;let d=0,h,p,f;const m=o-s,w=a-i;if(t.isHorizontal()){if(p=rt(r,i,a),J(n)){const g=Object.keys(n)[0],y=n[g];f=c[g].getPixelForValue(y)+m-e}else n==="center"?f=(u.bottom+u.top)/2+m-e:f=jp(t,n,e);h=a-i}else{if(J(n)){const g=Object.keys(n)[0],y=n[g];p=c[g].getPixelForValue(y)-w+e}else n==="center"?p=(u.left+u.right)/2-w+e:p=jp(t,n,e);f=rt(r,o,s),d=n==="left"?-Ee:Ee}return{titleX:p,titleY:f,maxWidth:h,rotation:d}}class hl extends br{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return e=Ut(e,Number.POSITIVE_INFINITY),n=Ut(n,Number.NEGATIVE_INFINITY),r=Ut(r,Number.POSITIVE_INFINITY),s=Ut(s,Number.NEGATIVE_INFINITY),{min:Ut(e,r),max:Ut(n,s),minDefined:hn(e),maxDefined:hn(n)}}getMinMax(e){let{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),o;if(s&&i)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,u=a.length;l<u;++l)o=a[l].controller.getMinMax(this,e),s||(n=Math.min(n,o.min)),i||(r=Math.max(r,o.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:Ut(n,Ut(r,n)),max:Ut(r,Ut(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){se(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:s,grace:i,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=JC(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Ip(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=rT(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){se(this.options.afterUpdate,[this])}beforeSetDimensions(){se(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){se(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),se(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){se(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r],i.label=se(n.callback,[i.value,r,e],this)}afterTickToLabelConversion(){se(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){se(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=Np(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,i=n.maxRotation;let o=s,a,l,u;if(!this._isVisible()||!n.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const c=this._getLabelSizes(),d=c.widest.width,h=c.highest.height,p=vt(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/r:p/(r-1),d+6>a&&(a=p/(r-(e.offset?.5:1)),l=this.maxHeight-Is(e.grid)-n.padding-Dp(e.title,this.chart.options.font),u=Math.sqrt(d*d+h*h),o=_C(Math.min(Math.asin(vt((c.highest.height+6)/a,-1,1)),Math.asin(vt(l/u,-1,1))-Math.asin(vt(h/u,-1,1)))),o=Math.max(s,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){se(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){se(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:i}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Dp(s,n.options.font);if(a?(e.width=this.maxWidth,e.height=Is(i)+l):(e.height=this.maxHeight,e.width=Is(i)+l),r.display&&this.ticks.length){const{first:u,last:c,widest:d,highest:h}=this._getLabelSizes(),p=r.padding*2,f=ur(this.labelRotation),m=Math.cos(f),w=Math.sin(f);if(a){const g=r.mirror?0:w*d.width+m*h.height;e.height=Math.min(this.maxHeight,e.height+g+p)}else{const g=r.mirror?0:m*d.width+w*h.height;e.width=Math.min(this.maxWidth,e.width+g+p)}this._calculatePadding(u,c,w,m)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,s){const{ticks:{align:i,padding:o},position:a}=this.options,l=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const c=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,p=0;l?u?(h=s*e.width,p=r*n.height):(h=r*e.height,p=s*n.width):i==="start"?p=n.width:i==="end"?h=e.width:i!=="inner"&&(h=e.width/2,p=n.width/2),this.paddingLeft=Math.max((h-c+o)*this.width/(this.width-c),0),this.paddingRight=Math.max((p-d+o)*this.width/(this.width-d),0)}else{let c=n.height/2,d=e.height/2;i==="start"?(c=0,d=e.height):i==="end"&&(c=n.height,d=0),this.paddingTop=c+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){se(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)$e(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=Ip(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:s,_longestTextCache:i}=this,o=[],a=[],l=Math.floor(n/Np(n,r));let u=0,c=0,d,h,p,f,m,w,g,y,v,_,x;for(d=0;d<n;d+=l){if(f=e[d].label,m=this._resolveTickFontOptions(d),s.font=w=m.string,g=i[w]=i[w]||{data:{},gc:[]},y=m.lineHeight,v=_=0,!$e(f)&&!Ae(f))v=fp(s,g.data,g.gc,v,f),_=y;else if(Ae(f))for(h=0,p=f.length;h<p;++h)x=f[h],!$e(x)&&!Ae(x)&&(v=fp(s,g.data,g.gc,v,x),_+=y);o.push(v),a.push(_),u=Math.max(v,u),c=Math.max(_,c)}dT(i,n);const k=o.indexOf(u),E=a.indexOf(c),R=A=>({width:o[A]||0,height:a[A]||0});return{first:R(0),last:R(n-1),widest:R(k),highest:R(E),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return xC(this._alignToPixels?Gn(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=fT(this.getContext(),e,r))}return this.$context||(this.$context=hT(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=ur(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,a=i?i.widest.width+o:0,l=i?i.highest.height+o:0;return this.isHorizontal()?l*r>a*s?a/r:l/s:l*s<a*r?l/r:a/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,s=this.options,{grid:i,position:o,border:a}=s,l=i.offset,u=this.isHorizontal(),d=this.ticks.length+(l?1:0),h=Is(i),p=[],f=a.setContext(this.getContext()),m=f.display?f.width:0,w=m/2,g=function(z){return Gn(r,z,m)};let y,v,_,x,k,E,R,A,P,$,F,Y;if(o==="top")y=g(this.bottom),E=this.bottom-h,A=y-w,$=g(e.top)+w,Y=e.bottom;else if(o==="bottom")y=g(this.top),$=e.top,Y=g(e.bottom)-w,E=y+w,A=this.top+h;else if(o==="left")y=g(this.right),k=this.right-h,R=y-w,P=g(e.left)+w,F=e.right;else if(o==="right")y=g(this.left),P=e.left,F=g(e.right)-w,k=y+w,R=this.left+h;else if(n==="x"){if(o==="center")y=g((e.top+e.bottom)/2+.5);else if(J(o)){const z=Object.keys(o)[0],ee=o[z];y=g(this.chart.scales[z].getPixelForValue(ee))}$=e.top,Y=e.bottom,E=y+w,A=E+h}else if(n==="y"){if(o==="center")y=g((e.left+e.right)/2);else if(J(o)){const z=Object.keys(o)[0],ee=o[z];y=g(this.chart.scales[z].getPixelForValue(ee))}k=y-w,R=k-h,P=e.left,F=e.right}const ae=Q(s.ticks.maxTicksLimit,d),V=Math.max(1,Math.ceil(d/ae));for(v=0;v<d;v+=V){const z=this.getContext(v),ee=i.setContext(z),O=a.setContext(z),N=ee.lineWidth,M=ee.color,W=O.dash||[],K=O.dashOffset,Ve=ee.tickWidth,ve=ee.tickColor,ft=ee.tickBorderDash||[],Ue=ee.tickBorderDashOffset;_=cT(this,v,l),_!==void 0&&(x=Gn(r,_,N),u?k=R=P=F=x:E=A=$=Y=x,p.push({tx1:k,ty1:E,tx2:R,ty2:A,x1:P,y1:$,x2:F,y2:Y,width:N,color:M,borderDash:W,borderDashOffset:K,tickWidth:Ve,tickColor:ve,tickBorderDash:ft,tickBorderDashOffset:Ue}))}return this._ticksLength=d,this._borderValue=y,p}_computeLabelItems(e){const n=this.axis,r=this.options,{position:s,ticks:i}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:c,mirror:d}=i,h=Is(r.grid),p=h+c,f=d?-c:p,m=-ur(this.labelRotation),w=[];let g,y,v,_,x,k,E,R,A,P,$,F,Y="middle";if(s==="top")k=this.bottom-f,E=this._getXAxisLabelAlignment();else if(s==="bottom")k=this.top+f,E=this._getXAxisLabelAlignment();else if(s==="left"){const V=this._getYAxisLabelAlignment(h);E=V.textAlign,x=V.x}else if(s==="right"){const V=this._getYAxisLabelAlignment(h);E=V.textAlign,x=V.x}else if(n==="x"){if(s==="center")k=(e.top+e.bottom)/2+p;else if(J(s)){const V=Object.keys(s)[0],z=s[V];k=this.chart.scales[V].getPixelForValue(z)+p}E=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")x=(e.left+e.right)/2-p;else if(J(s)){const V=Object.keys(s)[0],z=s[V];x=this.chart.scales[V].getPixelForValue(z)}E=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?Y="top":l==="end"&&(Y="bottom"));const ae=this._getLabelSizes();for(g=0,y=a.length;g<y;++g){v=a[g],_=v.label;const V=i.setContext(this.getContext(g));R=this.getPixelForTick(g)+i.labelOffset,A=this._resolveTickFontOptions(g),P=A.lineHeight,$=Ae(_)?_.length:1;const z=$/2,ee=V.color,O=V.textStrokeColor,N=V.textStrokeWidth;let M=E;o?(x=R,E==="inner"&&(g===y-1?M=this.options.reverse?"left":"right":g===0?M=this.options.reverse?"right":"left":M="center"),s==="top"?u==="near"||m!==0?F=-$*P+P/2:u==="center"?F=-ae.highest.height/2-z*P+P:F=-ae.highest.height+P/2:u==="near"||m!==0?F=P/2:u==="center"?F=ae.highest.height/2-z*P:F=ae.highest.height-$*P,d&&(F*=-1),m!==0&&!V.showLabelBackdrop&&(x+=P/2*Math.sin(m))):(k=R,F=(1-$)*P/2);let W;if(V.showLabelBackdrop){const K=Nt(V.backdropPadding),Ve=ae.heights[g],ve=ae.widths[g];let ft=F-K.top,Ue=0-K.left;switch(Y){case"middle":ft-=Ve/2;break;case"bottom":ft-=Ve;break}switch(E){case"center":Ue-=ve/2;break;case"right":Ue-=ve;break;case"inner":g===y-1?Ue-=ve:g>0&&(Ue-=ve/2);break}W={left:Ue,top:ft,width:ve+K.width,height:Ve+K.height,color:V.backdropColor}}w.push({label:_,font:A,textOffset:F,options:{rotation:m,color:ee,strokeColor:O,strokeWidth:N,textAlign:M,textBaseline:Y,translation:[x,k],backdrop:W}})}return w}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-ur(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,o=this._getLabelSizes(),a=e+i,l=o.widest.width;let u,c;return n==="left"?s?(c=this.right+i,r==="near"?u="left":r==="center"?(u="center",c+=l/2):(u="right",c+=l)):(c=this.right-a,r==="near"?u="right":r==="center"?(u="center",c-=l/2):(u="left",c=this.left)):n==="right"?s?(c=this.left+i,r==="near"?u="right":r==="center"?(u="center",c-=l/2):(u="left",c-=l)):(c=this.left+a,r==="near"?u="left":r==="center"?(u="center",c+=l/2):(u="right",c=this.right)):u="right",{textAlign:u,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:s,width:i,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,s,i,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const a=(l,u,c)=>{!c.width||!c.color||(r.save(),r.lineWidth=c.width,r.strokeStyle=c.color,r.setLineDash(c.borderDash||[]),r.lineDashOffset=c.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(u.x,u.y),r.stroke(),r.restore())};if(n.display)for(i=0,o=s.length;i<o;++i){const l=s[i];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),o=r.display?i.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,c,d,h;this.isHorizontal()?(u=Gn(e,this.left,o)-o/2,c=Gn(e,this.right,a)+a/2,d=h=l):(d=Gn(e,this.top,o)-o/2,h=Gn(e,this.bottom,a)+a/2,u=c=l),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(u,d),n.lineTo(c,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&Wd(r,s);const i=this.getLabelItems(e);for(const o of i){const a=o.options,l=o.font,u=o.label,c=o.textOffset;Na(r,u,0,c,l,a)}s&&Vd(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const i=Ye(r.font),o=Nt(r.padding),a=r.align;let l=i.lineHeight/2;n==="bottom"||n==="center"||J(n)?(l+=o.bottom,Ae(r.text)&&(l+=i.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:u,titleY:c,maxWidth:d,rotation:h}=gT(this,l,n,a);Na(e,r.text,0,0,i,{color:r.color,maxWidth:d,rotation:h,textAlign:pT(a,n,s),textBaseline:"middle",translation:[u,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=Q(e.grid&&e.grid.z,-1),s=Q(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==hl.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,o;for(i=0,o=n.length;i<o;++i){const a=n[i];a[r]===this.id&&(!e||a.type===e)&&s.push(a)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Ye(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Oo{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;vT(n)&&(r=this.register(n));const s=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,mT(e,o,r),this.override&&ye.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,s=this.scope;r in n&&delete n[r],s&&r in ye[s]&&(delete ye[s][r],this.override&&delete _r[r])}}function mT(t,e,n){const r=Ii(Object.create(null),[n?ye.get(n):{},ye.get(e),t.defaults]);ye.set(e,r),t.defaultRoutes&&yT(e,t.defaultRoutes),t.descriptors&&ye.describe(e,t.descriptors)}function yT(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),s=r.pop(),i=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");ye.route(i,s,l,a)})}function vT(t){return"id"in t&&"defaults"in t}class wT{constructor(){this.controllers=new Oo(li,"datasets",!0),this.elements=new Oo(br,"elements"),this.plugins=new Oo(Object,"plugins"),this.scales=new Oo(hl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):X(s,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const s=zd(e);se(r["before"+s],[],r),n[e](r),se(r["after"+s],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var Wt=new wT;class _T{constructor(){this._init=void 0}notify(e,n,r,s){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const i=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(i,e,n,r);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,n,r,s){s=s||{};for(const i of e){const o=i.plugin,a=o[r],l=[n,s,i.options];if(se(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){$e(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,s=Q(r.options&&r.options.plugins,{}),i=bT(r);return s===!1&&!n?[]:ST(e,i,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,s=(i,o)=>i.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(n,r),e,"stop"),this._notify(s(r,n),e,"start")}}function bT(t){const e={},n=[],r=Object.keys(Wt.plugins.items);for(let i=0;i<r.length;i++)n.push(Wt.getPlugin(r[i]));const s=t.plugins||[];for(let i=0;i<s.length;i++){const o=s[i];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function xT(t,e){return!e&&t===!1?null:t===!0?{}:t}function ST(t,{plugins:e,localIds:n},r,s){const i=[],o=t.getContext();for(const a of e){const l=a.id,u=xT(r[l],s);u!==null&&i.push({plugin:a,options:kT(t.config,{plugin:a,local:n[l]},u,o)})}return i}function kT(t,{plugin:e,local:n},r,s){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(r,i);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Cc(t,e){const n=ye.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function ET(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function CT(t,e){return t===e?"_index_":"_value_"}function Lp(t){if(t==="x"||t==="y"||t==="r")return t}function RT(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Rc(t,...e){if(Lp(t))return t;for(const n of e){const r=n.axis||RT(n.position)||t.length>1&&Lp(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Mp(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function TT(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return Mp(t,"x",n[0])||Mp(t,"y",n[0])}return{}}function OT(t,e){const n=_r[t.type]||{scales:{}},r=e.scales||{},s=Cc(t.type,e),i=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!J(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Rc(o,a,TT(o,t),ye.scales[a.type]),u=CT(l,s),c=n.scales||{};i[o]=si(Object.create(null),[{axis:l},a,c[l],c[u]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||Cc(a,e),c=(_r[a]||{}).scales||{};Object.keys(c).forEach(d=>{const h=ET(d,l),p=o[h+"AxisID"]||h;i[p]=i[p]||Object.create(null),si(i[p],[{axis:h},r[p],c[d]])})}),Object.keys(i).forEach(o=>{const a=i[o];si(a,[ye.scales[a.type],ye.scale])}),i}function e0(t){const e=t.options||(t.options={});e.plugins=Q(e.plugins,{}),e.scales=OT(t,e)}function t0(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function PT(t){return t=t||{},t.data=t0(t.data),e0(t),t}const $p=new Map,n0=new Set;function Po(t,e){let n=$p.get(t);return n||(n=e(),$p.set(t,n),n0.add(n)),n}const Ds=(t,e,n)=>{const r=Di(e,n);r!==void 0&&t.add(r)};class AT{constructor(e){this._config=PT(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=t0(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),e0(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Po(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Po(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Po(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Po(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let s=r.get(e);return(!s||n)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,n,r){const{options:s,type:i}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(c=>{e&&(l.add(e),c.forEach(d=>Ds(l,e,d))),c.forEach(d=>Ds(l,s,d)),c.forEach(d=>Ds(l,_r[i]||{},d)),c.forEach(d=>Ds(l,ye,d)),c.forEach(d=>Ds(l,Sc,d))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),n0.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,_r[n]||{},ye.datasets[n]||{},{type:n},ye,Sc]}resolveNamedOptions(e,n,r,s=[""]){const i={$shared:!0},{resolver:o,subPrefixes:a}=Fp(this._resolverCache,e,s);let l=o;if(NT(o,n)){i.$shared=!1,r=Un(r)?r():r;const u=this.createResolver(e,r,a);l=ds(o,r,u)}for(const u of n)i[u]=l[u];return i}createResolver(e,n,r=[""],s){const{resolver:i}=Fp(this._resolverCache,e,r);return J(n)?ds(i,n,void 0,s):i}}function Fp(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const s=n.join();let i=r.get(s);return i||(i={resolver:Kd(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(s,i)),i}const jT=t=>J(t)&&Object.getOwnPropertyNames(t).some(e=>Un(t[e]));function NT(t,e){const{isScriptable:n,isIndexable:r}=Bv(t);for(const s of e){const i=n(s),o=r(s),a=(o||i)&&t[s];if(i&&(Un(a)||jT(a))||o&&Ae(a))return!0}return!1}var IT="4.5.1";const DT=["top","bottom","left","right","chartArea"];function Up(t,e){return t==="top"||t==="bottom"||DT.indexOf(t)===-1&&e==="x"}function Bp(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function zp(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),se(n&&n.onComplete,[t],e)}function LT(t){const e=t.chart,n=e.options.animation;se(n&&n.onProgress,[t],e)}function r0(t){return Yd()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Xo={},Hp=t=>{const e=r0(t);return Object.values(Xo).filter(n=>n.canvas===e).pop()};function MT(t,e,n){const r=Object.keys(t);for(const s of r){const i=+s;if(i>=e){const o=t[s];delete t[s],(n>0||i>e)&&(t[i+n]=o)}}}function $T(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var mn;let fl=(mn=class{static register(...e){Wt.add(...e),Wp()}static unregister(...e){Wt.remove(...e),Wp()}constructor(e,n){const r=this.config=new AT(n),s=r0(e),i=Hp(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||nT(s)),this.platform.updateConfig(r);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,u=l&&l.height,c=l&&l.width;if(this.id=cC(),this.ctx=a,this.canvas=l,this.width=c,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new _T,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=RC(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],Xo[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Yt.listen(this,"complete",zp),Yt.listen(this,"progress",LT),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:s,_aspectRatio:i}=this;return $e(e)?n&&i?i:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Wt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():vp(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return pp(this.canvas,this.ctx),this}stop(){return Yt.stop(this),this}resize(e,n){Yt.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,n,i),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,vp(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),se(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};X(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,s=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let i=[];n&&(i=i.concat(Object.keys(n).map(o=>{const a=n[o],l=Rc(o,a),u=l==="r",c=l==="x";return{options:a,dposition:u?"chartArea":c?"bottom":"left",dtype:u?"radialLinear":c?"category":"linear"}}))),X(i,o=>{const a=o.options,l=a.id,u=Rc(l,a),c=Q(a.type,o.dtype);(a.position===void 0||Up(a.position,u)!==Up(o.dposition))&&(a.position=o.dposition),s[l]=!0;let d=null;if(l in r&&r[l].type===c)d=r[l];else{const h=Wt.getScale(c);d=new h({id:l,type:c,ctx:this.ctx,chart:this}),r[d.id]=d}d.init(a,e)}),X(s,(o,a)=>{o||delete r[a]}),X(r,o=>{Tn.configure(this,o,o.options),Tn.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((s,i)=>s.index-i.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(Bp("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,s)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const i=n[r];let o=this.getDatasetMeta(r);const a=i.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=i.indexAxis||Cc(a,this.options),o.order=i.order||0,o.index=r,o.label=""+i.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=Wt.getController(a),{datasetElementType:u,dataElementType:c}=ye.datasets[a];Object.assign(l,{dataElementType:Wt.getElement(c),datasetElementType:u&&Wt.getElement(u)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){X(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,c=this.data.datasets.length;u<c;u++){const{controller:d}=this.getDatasetMeta(u),h=!s&&i.indexOf(d)===-1;d.buildOrUpdateElements(h),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),s||X(i,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Bp("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){X(this.scales,e=>{Tn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!ip(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of n){const o=r==="_removeElements"?-i:i;MT(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(e.filter(o=>o[0]===i).map((o,a)=>a+","+o.splice(1).join(","))),s=r(0);for(let i=1;i<n;i++)if(!ip(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Tn.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],X(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Un(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Yt.has(this)?this.attached&&!Yt.running(this)&&Yt.start(this):(this.draw(),zp({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let s,i;for(s=0,i=n.length;s<i;++s){const o=n[s];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},s=pR(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&Wd(n,s),e.controller.draw(),s&&Vd(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Uv(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,s){const i=DR.modes[n];return typeof i=="function"?i(this,e,r,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let s=r.filter(i=>i&&i._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=_s(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const s=r?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,s);Oa(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(i,{visible:r}),this.update(a=>a.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Yt.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),pp(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Xo[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(i,o)=>{n.addEventListener(this,i,o),e[i]=o},s=(i,o,a)=>{i.offsetX=o,i.offsetY=a,this._eventHandler(i)};X(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,u)=>{n.addEventListener(this,l,u),e[l]=u},s=(l,u)=>{e[l]&&(n.removeEventListener(this,l,u),delete e[l])},i=(l,u)=>{this.canvas&&this.resize(l,u)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),r("resize",i),r("detach",o)};o=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){X(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},X(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const s=r?"set":"remove";let i,o,a,l;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:i,index:o})=>{const a=this.getDatasetMeta(i);if(!a)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:a.data[o],index:o}});!Ra(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const s=this.options.hover,i=(l,u)=>l.filter(c=>!u.some(d=>c.datasetIndex===d.datasetIndex&&c.index===d.index)),o=i(n,e),a=r?e:i(e,n);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:s=[],options:i}=this,o=n,a=this._getActiveElements(e,s,r,o),l=mC(e),u=$T(e,this._lastEvent,r,l);r&&(this._lastEvent=null,se(i.onHover,[e,a,this],this),l&&se(i.onClick,[e,a,this],this));const c=!Ra(a,s);return(c||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=u,c}_getActiveElements(e,n,r,s){if(e.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}},B(mn,"defaults",ye),B(mn,"instances",Xo),B(mn,"overrides",_r),B(mn,"registry",Wt),B(mn,"version",IT),B(mn,"getChart",Hp),mn);function Wp(){return X(fl.instances,t=>t._plugins.invalidate())}function FT(t,e,n){const{startAngle:r,x:s,y:i,outerRadius:o,innerRadius:a,options:l}=e,{borderWidth:u,borderJoinStyle:c}=l,d=Math.min(u/o,Vt(r-n));if(t.beginPath(),t.arc(s,i,o-u/2,r+d/2,n-d/2),a>0){const h=Math.min(u/a,Vt(r-n));t.arc(s,i,a+u/2,n-h/2,r+h/2,!0)}else{const h=Math.min(u/2,o*Vt(r-n));if(c==="round")t.arc(s,i,h,n-ie/2,r+ie/2,!0);else if(c==="bevel"){const p=2*h*h,f=-p*Math.cos(n+ie/2)+s,m=-p*Math.sin(n+ie/2)+i,w=p*Math.cos(r+ie/2)+s,g=p*Math.sin(r+ie/2)+i;t.lineTo(f,m),t.lineTo(w,g)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function UT(t,e,n){const{startAngle:r,pixelMargin:s,x:i,y:o,outerRadius:a,innerRadius:l}=e;let u=s/a;t.beginPath(),t.arc(i,o,a,r-u,n+u),l>s?(u=s/l,t.arc(i,o,l,n+u,r-u,!0)):t.arc(i,o,s,n+Ee,r-Ee),t.closePath(),t.clip()}function BT(t){return qd(t,["outerStart","outerEnd","innerStart","innerEnd"])}function zT(t,e,n,r){const s=BT(t.options.borderRadius),i=(n-e)/2,o=Math.min(i,r*e/2),a=l=>{const u=(n-Math.min(i,l))*r/2;return vt(l,0,Math.min(i,u))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:vt(s.innerStart,0,o),innerEnd:vt(s.innerEnd,0,o)}}function jr(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function La(t,e,n,r,s,i){const{x:o,y:a,startAngle:l,pixelMargin:u,innerRadius:c}=e,d=Math.max(e.outerRadius+r+n-u,0),h=c>0?c+r+n+u:0;let p=0;const f=s-l;if(r){const V=c>0?c-r:0,z=d>0?d-r:0,ee=(V+z)/2,O=ee!==0?f*ee/(ee+r):f;p=(f-O)/2}const m=Math.max(.001,f*d-n/ie)/d,w=(f-m)/2,g=l+w+p,y=s-w-p,{outerStart:v,outerEnd:_,innerStart:x,innerEnd:k}=zT(e,h,d,y-g),E=d-v,R=d-_,A=g+v/E,P=y-_/R,$=h+x,F=h+k,Y=g+x/$,ae=y-k/F;if(t.beginPath(),i){const V=(A+P)/2;if(t.arc(o,a,d,A,V),t.arc(o,a,d,V,P),_>0){const N=jr(R,P,o,a);t.arc(N.x,N.y,_,P,y+Ee)}const z=jr(F,y,o,a);if(t.lineTo(z.x,z.y),k>0){const N=jr(F,ae,o,a);t.arc(N.x,N.y,k,y+Ee,ae+Math.PI)}const ee=(y-k/h+(g+x/h))/2;if(t.arc(o,a,h,y-k/h,ee,!0),t.arc(o,a,h,ee,g+x/h,!0),x>0){const N=jr($,Y,o,a);t.arc(N.x,N.y,x,Y+Math.PI,g-Ee)}const O=jr(E,g,o,a);if(t.lineTo(O.x,O.y),v>0){const N=jr(E,A,o,a);t.arc(N.x,N.y,v,g-Ee,A)}}else{t.moveTo(o,a);const V=Math.cos(A)*d+o,z=Math.sin(A)*d+a;t.lineTo(V,z);const ee=Math.cos(P)*d+o,O=Math.sin(P)*d+a;t.lineTo(ee,O)}t.closePath()}function HT(t,e,n,r,s){const{fullCircles:i,startAngle:o,circumference:a}=e;let l=e.endAngle;if(i){La(t,e,n,r,l,s);for(let u=0;u<i;++u)t.fill();isNaN(a)||(l=o+(a%be||be))}return La(t,e,n,r,l,s),t.fill(),l}function WT(t,e,n,r,s){const{fullCircles:i,startAngle:o,circumference:a,options:l}=e,{borderWidth:u,borderJoinStyle:c,borderDash:d,borderDashOffset:h,borderRadius:p}=l,f=l.borderAlign==="inner";if(!u)return;t.setLineDash(d||[]),t.lineDashOffset=h,f?(t.lineWidth=u*2,t.lineJoin=c||"round"):(t.lineWidth=u,t.lineJoin=c||"bevel");let m=e.endAngle;if(i){La(t,e,n,r,m,s);for(let w=0;w<i;++w)t.stroke();isNaN(a)||(m=o+(a%be||be))}f&&UT(t,e,m),l.selfJoin&&m-o>=ie&&p===0&&c!=="miter"&&FT(t,e,m),i||(La(t,e,n,r,m,s),t.stroke())}class Vs extends br{constructor(n){super();B(this,"circumference");B(this,"endAngle");B(this,"fullCircles");B(this,"innerRadius");B(this,"outerRadius");B(this,"pixelMargin");B(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.getProps(["x","y"],s),{angle:o,distance:a}=Nv(i,{x:n,y:r}),{startAngle:l,endAngle:u,innerRadius:c,outerRadius:d,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),p=(this.options.spacing+this.options.borderWidth)/2,f=Q(h,u-l),m=ja(o,l,u)&&l!==u,w=f>=be||m,g=zs(a,c+p,d+p);return w&&g}getCenterPoint(n){const{x:r,y:s,startAngle:i,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:c}=this.options,d=(i+o)/2,h=(a+l+c+u)/2;return{x:r+Math.cos(d)*h,y:s+Math.sin(d)*h}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:s}=this,i=(r.offset||0)/4,o=(r.spacing||0)/2,a=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=s>be?Math.floor(s/be):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*i,Math.sin(l)*i);const u=1-Math.sin(Math.min(ie,s||0)),c=i*u;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,HT(n,this,c,o,a),WT(n,this,c,o,a),n.restore()}}B(Vs,"id","arc"),B(Vs,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),B(Vs,"defaultRoutes",{backgroundColor:"backgroundColor"}),B(Vs,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});const Vp=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},VT=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class qp extends br{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=se(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,s)=>e.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,s=Ye(r.font),i=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Vp(r,i);let u,c;n.font=s.string,this.isHorizontal()?(u=this.maxWidth,c=this._fitRows(o,i,a,l)+10):(c=this.maxHeight,u=this._fitCols(o,s,a,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,s){const{ctx:i,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],c=s+a;let d=e;i.textAlign="left",i.textBaseline="middle";let h=-1,p=-c;return this.legendItems.forEach((f,m)=>{const w=r+n/2+i.measureText(f.text).width;(m===0||u[u.length-1]+w+2*a>o)&&(d+=c,u[u.length-(m>0?0:1)]=0,p+=c,h++),l[m]={left:0,top:p,row:h,width:w,height:s},u[u.length-1]+=w+a}),d}_fitCols(e,n,r,s){const{ctx:i,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],c=o-e;let d=a,h=0,p=0,f=0,m=0;return this.legendItems.forEach((w,g)=>{const{itemWidth:y,itemHeight:v}=qT(r,n,i,w,s);g>0&&p+v+2*a>c&&(d+=h+a,u.push({width:h,height:p}),f+=h+a,m++,h=p=0),l[g]={left:f,top:p,col:m,width:y,height:v},h=Math.max(h,y),p+=v+a}),d+=h,u.push({width:h,height:p}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:i}}=this,o=ns(i,this.left,this.width);if(this.isHorizontal()){let a=0,l=rt(r,this.left+s,this.right-this.lineWidths[a]);for(const u of n)a!==u.row&&(a=u.row,l=rt(r,this.left+s,this.right-this.lineWidths[a])),u.top+=this.top+e+s,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+s}else{let a=0,l=rt(r,this.top+e+s,this.bottom-this.columnSizes[a].height);for(const u of n)u.col!==a&&(a=u.col,l=rt(r,this.top+e+s,this.bottom-this.columnSizes[a].height)),u.top=l,u.left+=this.left+s,u.left=o.leftForLtr(o.x(u.left),u.width),l+=u.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Wd(e,this),this._draw(),Vd(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:s}=this,{align:i,labels:o}=e,a=ye.color,l=ns(e.rtl,this.left,this.width),u=Ye(o.font),{padding:c}=o,d=u.size,h=d/2;let p;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=u.string;const{boxWidth:f,boxHeight:m,itemHeight:w}=Vp(o,d),g=function(k,E,R){if(isNaN(f)||f<=0||isNaN(m)||m<0)return;s.save();const A=Q(R.lineWidth,1);if(s.fillStyle=Q(R.fillStyle,a),s.lineCap=Q(R.lineCap,"butt"),s.lineDashOffset=Q(R.lineDashOffset,0),s.lineJoin=Q(R.lineJoin,"miter"),s.lineWidth=A,s.strokeStyle=Q(R.strokeStyle,a),s.setLineDash(Q(R.lineDash,[])),o.usePointStyle){const P={radius:m*Math.SQRT2/2,pointStyle:R.pointStyle,rotation:R.rotation,borderWidth:A},$=l.xPlus(k,f/2),F=E+h;Fv(s,P,$,F,o.pointStyleWidth&&f)}else{const P=E+Math.max((d-m)/2,0),$=l.leftForLtr(k,f),F=ai(R.borderRadius);s.beginPath(),Object.values(F).some(Y=>Y!==0)?kc(s,{x:$,y:P,w:f,h:m,radius:F}):s.rect($,P,f,m),s.fill(),A!==0&&s.stroke()}s.restore()},y=function(k,E,R){Na(s,R.text,k,E+w/2,u,{strikethrough:R.hidden,textAlign:l.textAlign(R.textAlign)})},v=this.isHorizontal(),_=this._computeTitleHeight();v?p={x:rt(i,this.left+c,this.right-r[0]),y:this.top+c+_,line:0}:p={x:this.left+c,y:rt(i,this.top+_+c,this.bottom-n[0].height),line:0},Vv(this.ctx,e.textDirection);const x=w+c;this.legendItems.forEach((k,E)=>{s.strokeStyle=k.fontColor,s.fillStyle=k.fontColor;const R=s.measureText(k.text).width,A=l.textAlign(k.textAlign||(k.textAlign=o.textAlign)),P=f+h+R;let $=p.x,F=p.y;l.setWidth(this.width),v?E>0&&$+P+c>this.right&&(F=p.y+=x,p.line++,$=p.x=rt(i,this.left+c,this.right-r[p.line])):E>0&&F+x>this.bottom&&($=p.x=$+n[p.line].width+c,p.line++,F=p.y=rt(i,this.top+_+c,this.bottom-n[p.line].height));const Y=l.x($);if(g(Y,F,k),$=TC(A,$+f+h,v?$+P:this.right,e.rtl),y(l.x($),F,k),v)p.x+=P+c;else if(typeof k.text!="string"){const ae=u.lineHeight;p.y+=s0(k,ae)+c}else p.y+=x}),qv(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Ye(n.font),s=Nt(n.padding);if(!n.display)return;const i=ns(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,u=s.top+l;let c,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),c=this.top+u,d=rt(e.align,d,this.right-h);else{const f=this.columnSizes.reduce((m,w)=>Math.max(m,w.height),0);c=u+rt(e.align,this.top,this.bottom-f-e.labels.padding-this._computeTitleHeight())}const p=rt(a,d,d+h);o.textAlign=i.textAlign(Mv(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,Na(o,n.text,p,c,r)}_computeTitleHeight(){const e=this.options.title,n=Ye(e.font),r=Nt(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,s,i;if(zs(e,this.left,this.right)&&zs(n,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(s=i[r],zs(e,s.left,s.left+s.width)&&zs(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!GT(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,i=VT(s,r);s&&!i&&se(n.onLeave,[e,s,this],this),this._hoveredItem=r,r&&!i&&se(n.onHover,[e,r,this],this)}else r&&se(n.onClick,[e,r,this],this)}}function qT(t,e,n,r,s){const i=KT(r,t,e,n),o=JT(s,r,e.lineHeight);return{itemWidth:i,itemHeight:o}}function KT(t,e,n,r){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((i,o)=>i.length>o.length?i:o)),e+n.size/2+r.measureText(s).width}function JT(t,e,n){let r=t;return typeof e.text!="string"&&(r=s0(e,n)),r}function s0(t,e){const n=t.text?t.text.length:0;return e*n}function GT(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var YT={id:"legend",_element:qp,start(t,e,n){const r=t.legend=new qp({ctx:t.ctx,options:n,chart:t});Tn.configure(t,r,n),Tn.addBox(t,r)},stop(t){Tn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;Tn.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),e.hidden=!0):(s.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:i,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(n?0:void 0),c=Nt(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:s||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};const qs={average(t){if(!t.length)return!1;let e,n,r=new Set,s=0,i=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),s+=l.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:s/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,s=Number.POSITIVE_INFINITY,i,o,a;for(i=0,o=t.length;i<o;++i){const l=t[i].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),c=bC(e,u);c<s&&(s=c,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function zt(t,e){return e&&(Ae(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Xt(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function XT(t,e){const{element:n,datasetIndex:r,index:s}=e,i=t.getDatasetMeta(r).controller,{label:o,value:a}=i.getLabelAndValue(s);return{chart:t,label:o,parsed:i.getParsed(s),raw:t.data.datasets[r].data[s],formattedValue:a,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function Kp(t,e){const n=t.chart.ctx,{body:r,footer:s,title:i}=t,{boxWidth:o,boxHeight:a}=e,l=Ye(e.bodyFont),u=Ye(e.titleFont),c=Ye(e.footerFont),d=i.length,h=s.length,p=r.length,f=Nt(e.padding);let m=f.height,w=0,g=r.reduce((_,x)=>_+x.before.length+x.lines.length+x.after.length,0);if(g+=t.beforeBody.length+t.afterBody.length,d&&(m+=d*u.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),g){const _=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;m+=p*_+(g-p)*l.lineHeight+(g-1)*e.bodySpacing}h&&(m+=e.footerMarginTop+h*c.lineHeight+(h-1)*e.footerSpacing);let y=0;const v=function(_){w=Math.max(w,n.measureText(_).width+y)};return n.save(),n.font=u.string,X(t.title,v),n.font=l.string,X(t.beforeBody.concat(t.afterBody),v),y=e.displayColors?o+2+e.boxPadding:0,X(r,_=>{X(_.before,v),X(_.lines,v),X(_.after,v)}),y=0,n.font=c.string,X(t.footer,v),n.restore(),w+=f.width,{width:w,height:m}}function QT(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function ZT(t,e,n,r){const{x:s,width:i}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&s+i+o>e.width||t==="right"&&s-i-o<0)return!0}function eO(t,e,n,r){const{x:s,width:i}=n,{width:o,chartArea:{left:a,right:l}}=t;let u="center";return r==="center"?u=s<=(a+l)/2?"left":"right":s<=i/2?u="left":s>=o-i/2&&(u="right"),ZT(u,t,e,n)&&(u="center"),u}function Jp(t,e,n){const r=n.yAlign||e.yAlign||QT(t,n);return{xAlign:n.xAlign||e.xAlign||eO(t,e,n,r),yAlign:r}}function tO(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function nO(t,e,n){let{y:r,height:s}=t;return e==="top"?r+=n:e==="bottom"?r-=s+n:r-=s/2,r}function Gp(t,e,n,r){const{caretSize:s,caretPadding:i,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,u=s+i,{topLeft:c,topRight:d,bottomLeft:h,bottomRight:p}=ai(o);let f=tO(e,a);const m=nO(e,l,u);return l==="center"?a==="left"?f+=u:a==="right"&&(f-=u):a==="left"?f-=Math.max(c,h)+s:a==="right"&&(f+=Math.max(d,p)+s),{x:vt(f,0,r.width-e.width),y:vt(m,0,r.height-e.height)}}function Ao(t,e,n){const r=Nt(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function Yp(t){return zt([],Xt(t))}function rO(t,e,n){return _s(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Xp(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const i0={beforeTitle:Gt,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Gt,beforeBody:Gt,beforeLabel:Gt,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return $e(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Gt,afterBody:Gt,beforeFooter:Gt,footer:Gt,afterFooter:Gt};function qe(t,e,n,r){const s=t[e].call(n,r);return typeof s>"u"?i0[e].call(n,r):s}class Tc extends br{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,i=new Kv(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=rO(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,s=qe(r,"beforeTitle",this,e),i=qe(r,"title",this,e),o=qe(r,"afterTitle",this,e);let a=[];return a=zt(a,Xt(s)),a=zt(a,Xt(i)),a=zt(a,Xt(o)),a}getBeforeBody(e,n){return Yp(qe(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,s=[];return X(e,i=>{const o={before:[],lines:[],after:[]},a=Xp(r,i);zt(o.before,Xt(qe(a,"beforeLabel",this,i))),zt(o.lines,qe(a,"label",this,i)),zt(o.after,Xt(qe(a,"afterLabel",this,i))),s.push(o)}),s}getAfterBody(e,n){return Yp(qe(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,s=qe(r,"beforeFooter",this,e),i=qe(r,"footer",this,e),o=qe(r,"afterFooter",this,e);let a=[];return a=zt(a,Xt(s)),a=zt(a,Xt(i)),a=zt(a,Xt(o)),a}_createItems(e){const n=this._active,r=this.chart.data,s=[],i=[],o=[];let a=[],l,u;for(l=0,u=n.length;l<u;++l)a.push(XT(this.chart,n[l]));return e.filter&&(a=a.filter((c,d,h)=>e.filter(c,d,h,r))),e.itemSort&&(a=a.sort((c,d)=>e.itemSort(c,d,r))),X(a,c=>{const d=Xp(e.callbacks,c);s.push(qe(d,"labelColor",this,c)),i.push(qe(d,"labelPointStyle",this,c)),o.push(qe(d,"labelTextColor",this,c))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),s=this._active;let i,o=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const a=qs[r.position].call(this,s,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=Kp(this,r),u=Object.assign({},a,l),c=Jp(this.chart,r,u),d=Gp(r,u,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,i={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){const i=this.getCaretPosition(e,r,s);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,r){const{xAlign:s,yAlign:i}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:u,bottomLeft:c,bottomRight:d}=ai(a),{x:h,y:p}=e,{width:f,height:m}=n;let w,g,y,v,_,x;return i==="center"?(_=p+m/2,s==="left"?(w=h,g=w-o,v=_+o,x=_-o):(w=h+f,g=w+o,v=_-o,x=_+o),y=w):(s==="left"?g=h+Math.max(l,c)+o:s==="right"?g=h+f-Math.max(u,d)-o:g=this.caretX,i==="top"?(v=p,_=v-o,w=g-o,y=g+o):(v=p+m,_=v+o,w=g+o,y=g-o),x=v),{x1:w,x2:g,x3:y,y1:v,y2:_,y3:x}}drawTitle(e,n,r){const s=this.title,i=s.length;let o,a,l;if(i){const u=ns(r.rtl,this.x,this.width);for(e.x=Ao(this,r.titleAlign,r),n.textAlign=u.textAlign(r.titleAlign),n.textBaseline="middle",o=Ye(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<i;++l)n.fillText(s[l],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===i&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,s,i){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:u}=i,c=Ye(i.bodyFont),d=Ao(this,"left",i),h=s.x(d),p=l<c.lineHeight?(c.lineHeight-l)/2:0,f=n.y+p;if(i.usePointStyle){const m={radius:Math.min(u,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},w=s.leftForLtr(h,u)+u/2,g=f+l/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,gp(e,m,w,g),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,gp(e,m,w,g)}else{e.lineWidth=J(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const m=s.leftForLtr(h,u),w=s.leftForLtr(s.xPlus(h,1),u-2),g=ai(o.borderRadius);Object.values(g).some(y=>y!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,kc(e,{x:m,y:f,w:u,h:l,radius:g}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),kc(e,{x:w,y:f+1,w:u-2,h:l-2,radius:g}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(m,f,u,l),e.strokeRect(m,f,u,l),e.fillStyle=o.backgroundColor,e.fillRect(w,f+1,u-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:s}=this,{bodySpacing:i,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:u,boxPadding:c}=r,d=Ye(r.bodyFont);let h=d.lineHeight,p=0;const f=ns(r.rtl,this.x,this.width),m=function(R){n.fillText(R,f.x(e.x+p),e.y+h/2),e.y+=h+i},w=f.textAlign(o);let g,y,v,_,x,k,E;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,e.x=Ao(this,w,r),n.fillStyle=r.bodyColor,X(this.beforeBody,m),p=a&&w!=="right"?o==="center"?u/2+c:u+2+c:0,_=0,k=s.length;_<k;++_){for(g=s[_],y=this.labelTextColors[_],n.fillStyle=y,X(g.before,m),v=g.lines,a&&v.length&&(this._drawColorBox(n,e,_,f,r),h=Math.max(d.lineHeight,l)),x=0,E=v.length;x<E;++x)m(v[x]),h=d.lineHeight;X(g.after,m)}p=0,h=d.lineHeight,X(this.afterBody,m),e.y-=i}drawFooter(e,n,r){const s=this.footer,i=s.length;let o,a;if(i){const l=ns(r.rtl,this.x,this.width);for(e.x=Ao(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=Ye(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<i;++a)n.fillText(s[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){const{xAlign:i,yAlign:o}=this,{x:a,y:l}=e,{width:u,height:c}=r,{topLeft:d,topRight:h,bottomLeft:p,bottomRight:f}=ai(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(e,n,r,s),n.lineTo(a+u-h,l),n.quadraticCurveTo(a+u,l,a+u,l+h),o==="center"&&i==="right"&&this.drawCaret(e,n,r,s),n.lineTo(a+u,l+c-f),n.quadraticCurveTo(a+u,l+c,a+u-f,l+c),o==="bottom"&&this.drawCaret(e,n,r,s),n.lineTo(a+p,l+c),n.quadraticCurveTo(a,l+c,a,l+c-p),o==="center"&&i==="left"&&this.drawCaret(e,n,r,s),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const o=qs[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Kp(this,e),l=Object.assign({},o,this._size),u=Jp(n,e,l),c=Gp(e,l,u,n);(s._to!==c.x||i._to!==c.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Nt(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,s,n),Vv(e,n.textDirection),i.y+=o.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),qv(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,s=e.map(({datasetIndex:a,index:l})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[l],index:l}}),i=!Ra(r,s),o=this._positionChanged(s,n);(i||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],o=this._getActiveElements(e,i,n,r),a=this._positionChanged(o,e),l=n||!Ra(o,i)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,r);return i.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:s,options:i}=this,o=qs[i.position].call(this,e,n);return o!==!1&&(r!==o.x||s!==o.y)}}B(Tc,"positioners",qs);var sO={id:"tooltip",_element:Tc,positioners:qs,afterInit(t,e,n){n&&(t.tooltip=new Tc({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:i0},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const pl={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Je=Object.keys(pl);function Qp(t,e){return t-e}function Zp(t,e){if($e(e))return null;const n=t._adapter,{parser:r,round:s,isoWeekday:i}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),hn(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(Aa(i)||i===!0)?n.startOf(o,"isoWeek",i):n.startOf(o,s)),+o)}function eg(t,e,n,r){const s=Je.length;for(let i=Je.indexOf(t);i<s-1;++i){const o=pl[Je[i]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return Je[i]}return Je[s-1]}function iO(t,e,n,r,s){for(let i=Je.length-1;i>=Je.indexOf(n);i--){const o=Je[i];if(pl[o].common&&t._adapter.diff(s,r,o)>=e-1)return o}return Je[n?Je.indexOf(n):0]}function oO(t){for(let e=Je.indexOf(t)+1,n=Je.length;e<n;++e)if(pl[Je[e]].common)return Je[e]}function tg(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:s}=Hd(n,e),i=n[r]>=e?n[r]:n[s];t[i]=!0}}function aO(t,e,n,r){const s=t._adapter,i=+s.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=i;a<=o;a=+s.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function ng(t,e,n){const r=[],s={},i=e.length;let o,a;for(o=0;o<i;++o)a=e[o],s[a]=o,r.push({value:a,major:!1});return i===0||!n?r:aO(t,r,s,n)}class Ma extends hl{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),s=this._adapter=new PR._date(e.adapters.date);s.init(n),si(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Zp(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:s,max:i,minDefined:o,maxDefined:a}=this.getUserBounds();function l(u){!o&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!a&&!isNaN(u.max)&&(i=Math.max(i,u.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=hn(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),i=hn(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,o=this.max,a=kC(s,i,o);return this._unit=n.unit||(r.autoSkip?eg(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):iO(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:oO(this._unit),this.initOffsets(s),e.reverse&&a.reverse(),ng(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?r=i:r=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=vt(n,0,o),r=vt(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,s=this.options,i=s.time,o=i.unit||eg(i.minUnit,n,r,this._getLabelCapacity(n)),a=Q(s.ticks.stepSize,1),l=o==="week"?i.isoWeekday:!1,u=Aa(l)||l===!0,c={};let d=n,h,p;if(u&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,u?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const f=s.ticks.source==="data"&&this.getDataTimestamps();for(h=d,p=0;h<r;h=+e.add(h,a,o),p++)tg(c,h,f);return(h===r||s.bounds==="ticks"||p===1)&&tg(c,h,f),Object.keys(c).sort(Qp).map(m=>+m)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,i=this._unit,o=n||s[i];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,s){const i=this.options,o=i.ticks.callback;if(o)return se(o,[e,n,r],this);const a=i.time.displayFormats,l=this._unit,u=this._majorUnit,c=l&&a[l],d=u&&a[u],h=r[n],p=u&&d&&h&&h.major;return this._adapter.format(e,s||(p?d:c))}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,s=ur(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:r*i+a*o,h:r*o+a*i}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,i=this._tickFormatFunction(e,0,ng(this,[e],this._majorUnit),s),o=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(Zp(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return CC(e.sort(Qp))}}B(Ma,"id","time"),B(Ma,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function jo(t,e,n){let r=0,s=t.length-1,i,o,a,l;n?(e>=t[r].pos&&e<=t[s].pos&&({lo:r,hi:s}=xc(t,"pos",e)),{pos:i,time:a}=t[r],{pos:o,time:l}=t[s]):(e>=t[r].time&&e<=t[s].time&&({lo:r,hi:s}=xc(t,"time",e)),{time:i,pos:a}=t[r],{time:o,pos:l}=t[s]);const u=o-i;return u?a+(l-a)*(e-i)/u:a}class rg extends Ma{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=jo(n,this.min),this._tableRange=jo(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,s=[],i=[];let o,a,l,u,c;for(o=0,a=e.length;o<a;++o)u=e[o],u>=n&&u<=r&&s.push(u);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=s.length;o<a;++o)c=s[o+1],l=s[o-1],u=s[o],Math.round((c+l)/2)!==u&&i.push({time:u,pos:o/(a-1)});return i}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(jo(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return jo(this._table,r*this._tableRange+this._minPos,!0)}}B(rg,"id","timeseries"),B(rg,"defaults",Ma.defaults);const o0="label";function sg(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function lO(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function a0(t,e){t.labels=e}function l0(t,e,n=o0){const r=[];t.datasets=e.map(s=>{const i=t.datasets.find(o=>o[n]===s[n]);return!i||!s.data||r.includes(i)?{...s}:(r.push(i),Object.assign(i,s),i)})}function uO(t,e=o0){const n={labels:[],datasets:[]};return a0(n,t.labels),l0(n,t.datasets,e),n}function cO(t,e){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:i,type:o,data:a,options:l,plugins:u=[],fallbackContent:c,updateMode:d,...h}=t,p=S.useRef(null),f=S.useRef(null),m=()=>{p.current&&(f.current=new fl(p.current,{type:o,data:uO(a,i),options:l&&{...l},plugins:u}),sg(e,f.current))},w=()=>{sg(e,null),f.current&&(f.current.destroy(),f.current=null)};return S.useEffect(()=>{!s&&f.current&&l&&lO(f.current,l)},[s,l]),S.useEffect(()=>{!s&&f.current&&a0(f.current.config.data,a.labels)},[s,a.labels]),S.useEffect(()=>{!s&&f.current&&a.datasets&&l0(f.current.config.data,a.datasets,i)},[s,a.datasets]),S.useEffect(()=>{f.current&&(s?(w(),setTimeout(m)):f.current.update(d))},[s,l,a.labels,a.datasets,d]),S.useEffect(()=>{f.current&&(w(),setTimeout(m))},[o]),S.useEffect(()=>(m(),()=>w()),[]),b.jsx("canvas",{ref:p,role:"img",height:n,width:r,...h,children:c})}const dO=S.forwardRef(cO);function hO(t,e){return fl.register(e),S.forwardRef((n,r)=>b.jsx(dO,{...n,ref:r,type:t}))}const fO=hO("pie",Ec);fl.register(Vs,sO,YT);function pO(){const{deckId:t}=Ty(),e=Vn(),[n,r]=S.useState([]),[s,i]=S.useState(0),[o,a]=S.useState(!1),[l,u]=S.useState([]),[c,d]=S.useState(!1),[h,p]=S.useState(null),[f]=S.useState(new Date);S.useEffect(()=>{t&&(async()=>{try{const _=await A1(t);r(_.cards||[])}catch(_){console.error("Error loading cards:",_),alert("Failed to load cards")}})()},[t]);const m=v=>{const _=n[s],x=[...l,{card_id:_.id,rating:v}];u(x),s<n.length-1?(i(k=>k+1),a(!1)):w(x)},w=async v=>{const _=new Date,x=Math.floor((_-f)/1e3);try{const k=await j1({deck_id:t,started_at:f.toISOString(),ended_at:_.toISOString(),card_ratings:v,duration_seconds:x});p(k.improvement||null),d(!0)}catch(k){console.error("Error saving session:",k),alert("Failed to save session")}};if(n.length===0)return b.jsx("div",{className:"flex items-center justify-center min-h-screen",children:b.jsx("div",{className:"text-xl text-gray-600",children:"Loading cards..."})});if(c){const v=l.filter(E=>E.rating==="easy").length,_=l.filter(E=>E.rating==="medium").length,x=l.filter(E=>E.rating==="hard").length,k={labels:["Easy","Medium","Hard"],datasets:[{data:[v,_,x],backgroundColor:["#10b981","#f59e0b","#ef4444"],borderWidth:2,borderColor:"#ffffff"}]};return b.jsx("div",{className:"max-w-2xl mx-auto p-6",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 space-y-6",children:[b.jsx("h1",{className:"text-3xl font-bold text-center mb-4",children:"Session Complete!"}),b.jsx("div",{className:"w-64 mx-auto mb-6",children:b.jsx(fO,{data:k})}),b.jsxs("div",{className:"space-y-2 mb-4",children:[b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{className:"font-semibold text-green-700",children:"Easy"}),b.jsxs("span",{className:"text-green-600",children:[v," cards"]})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{className:"font-semibold text-yellow-700",children:"Medium"}),b.jsxs("span",{className:"text-yellow-600",children:[_," cards"]})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{className:"font-semibold text-red-700",children:"Hard"}),b.jsxs("span",{className:"text-red-600",children:[x," cards"]})]})]}),h&&h.change&&b.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg text-sm space-y-1",children:[b.jsx("h2",{className:"font-semibold text-blue-900 mb-1",children:"Improvement vs last session"}),b.jsxs("p",{className:h.change.easy>=0?"text-green-600":"text-red-600",children:["Easy: ",h.change.easy>0?"+":"",h.change.easy,"%"]}),b.jsxs("p",{className:h.change.medium>=0?"text-green-600":"text-red-600",children:["Medium: ",h.change.medium>0?"+":"",h.change.medium,"%"]}),b.jsxs("p",{className:h.change.hard>=0?"text-green-600":"text-red-600",children:["Hard: ",h.change.hard>0?"+":"",h.change.hard,"%"]})]}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{onClick:()=>e("/dashboard"),className:"flex-1 bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700",children:"Go to Dashboard"}),b.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 bg-green-600 text-white py-3 rounded-lg hover:bg-green-700",children:"Study Again"})]})]})})}const g=n[s],y=(s+1)/n.length*100;return b.jsxs("div",{className:"max-w-2xl mx-auto p-6 space-y-4",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[b.jsxs("span",{children:["Card ",s+1," of ",n.length]}),b.jsxs("span",{children:[Math.round(y),"% Complete"]})]}),b.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:b.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${y}%`}})})]}),b.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 min-h-[280px] flex flex-col justify-between",children:[b.jsxs("div",{className:"text-center",children:[b.jsx("p",{className:"text-2xl font-semibold mb-6",children:g.question}),o&&b.jsx("div",{className:"border-t border-gray-200 pt-6 mt-4",children:b.jsx("p",{className:"text-xl text-gray-700",children:g.answer})})]}),b.jsxs("div",{className:"mt-8 space-y-4",children:[b.jsxs("div",{className:"flex gap-3 justify-center",children:[b.jsx("button",{onClick:()=>m("hard"),className:"bg-red-500 text-white px-6 py-3 rounded-lg hover:bg-red-600",children:"Hard"}),b.jsx("button",{onClick:()=>m("medium"),className:"bg-yellow-500 text-white px-6 py-3 rounded-lg hover:bg-yellow-600",children:"Medium"}),b.jsx("button",{onClick:()=>m("easy"),className:"bg-green-500 text-white px-6 py-3 rounded-lg hover:bg-green-600",children:"Easy"})]}),!o&&b.jsx("div",{className:"flex justify-center",children:b.jsx("button",{onClick:()=>a(!0),className:"bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700",children:"Show Answer"})})]})]})]})}function Xn({children:t}){const{user:e,loading:n}=rv();return n?b.jsx("div",{className:"flex items-center justify-center min-h-screen",children:b.jsx("div",{className:"text-xl text-gray-600",children:"Loading..."})}):e?t:b.jsx(jy,{to:"/login",replace:!0})}function gO(){return b.jsxs(Db,{children:[b.jsx(Bt,{path:"/login",element:b.jsx(Gk,{})}),b.jsx(Bt,{path:"/",element:b.jsx(Xn,{children:b.jsx(L1,{})})}),b.jsx(Bt,{path:"/dashboard",element:b.jsx(Xn,{children:b.jsx(M1,{})})}),b.jsx(Bt,{path:"/decks/new",element:b.jsx(Xn,{children:b.jsx($1,{})})}),b.jsx(Bt,{path:"/decks/:deckId",element:b.jsx(Xn,{children:b.jsx(F1,{})})}),b.jsx(Bt,{path:"/history",element:b.jsx(Xn,{children:b.jsx(U1,{})})}),b.jsx(Bt,{path:"/profile",element:b.jsx(Xn,{children:b.jsx(B1,{})})}),b.jsx(Bt,{path:"/review/:deckId",element:b.jsx(Xn,{children:b.jsx(pO,{})})}),b.jsx(Bt,{path:"*",element:b.jsx(jy,{to:"/",replace:!0})})]})}function mO(){return b.jsx(Jk,{children:b.jsx(gO,{})})}const yO=document.getElementById("root");du.createRoot(yO).render(b.jsx(R0.StrictMode,{children:b.jsx(ix,{children:b.jsx(mO,{})})}));
